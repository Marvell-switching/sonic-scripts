diff --git a/patch/0110-mtd-rawnand-marvell-use-regmap_update_bits-for-sysco.patch b/patch/0110-mtd-rawnand-marvell-use-regmap_update_bits-for-sysco.patch
index e69de29..7ff2321 100644
--- a/patch/0110-mtd-rawnand-marvell-use-regmap_update_bits-for-sysco.patch
+++ b/patch/0110-mtd-rawnand-marvell-use-regmap_update_bits-for-sysco.patch
@@ -0,0 +1,68 @@
+From 751561d8c3aaa4d15fdb270171e780d5e8a620a1 Mon Sep 17 00:00:00 2001
+From: Thomas Petazzoni <thomas.petazzoni@bootlin.com>
+Date: Thu, 2 Aug 2018 10:56:25 +0200
+Subject: [PATCH] mtd: rawnand: marvell: use regmap_update_bits() for syscon
+ access
+
+The marvell_nfc_init() function fiddles with some bits of a system
+controller on Armada 7K/8K. However, it does a read/modify/write
+sequence on GENCONF_CLK_GATING_CTRL and GENCONF_ND_CLK_CTRL, which
+isn't safe from a concurrency point of view, as the regmap lock isn't
+taken accross the read/modify/write sequence. To solve this issue, use
+regmap_update_bits().
+
+While at it, since the "reg" variable is no longer needed for the
+read/modify/write sequences, get rid of it for the regmap_write() to
+GENCONF_SOC_DEVICE_MUX, and directly pass the value to be written as
+argument.
+
+Fixes: 02f26ecf8c772 ("mtd: nand: add reworked Marvell NAND controller driver")
+Signed-off-by: Thomas Petazzoni <thomas.petazzoni@bootlin.com>
+Signed-off-by: Miquel Raynal <miquel.raynal@bootlin.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 23 +++++++++++------------
+ 1 file changed, 11 insertions(+), 12 deletions(-)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 65adcbb..5c443c1 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -2689,24 +2689,23 @@ static int marvell_nfc_init(struct marvell_nfc *nfc)
+ 		struct regmap *sysctrl_base =
+ 			syscon_regmap_lookup_by_phandle(np,
+ 							"marvell,system-controller");
+-		u32 reg;
+ 
+ 		if (IS_ERR(sysctrl_base))
+ 			return PTR_ERR(sysctrl_base);
+ 
+-		reg = GENCONF_SOC_DEVICE_MUX_NFC_EN |
+-		      GENCONF_SOC_DEVICE_MUX_ECC_CLK_RST |
+-		      GENCONF_SOC_DEVICE_MUX_ECC_CORE_RST |
+-		      GENCONF_SOC_DEVICE_MUX_NFC_INT_EN;
+-		regmap_write(sysctrl_base, GENCONF_SOC_DEVICE_MUX, reg);
++		regmap_write(sysctrl_base, GENCONF_SOC_DEVICE_MUX,
++			     GENCONF_SOC_DEVICE_MUX_NFC_EN |
++			     GENCONF_SOC_DEVICE_MUX_ECC_CLK_RST |
++			     GENCONF_SOC_DEVICE_MUX_ECC_CORE_RST |
++			     GENCONF_SOC_DEVICE_MUX_NFC_INT_EN);
+ 
+-		regmap_read(sysctrl_base, GENCONF_CLK_GATING_CTRL, &reg);
+-		reg |= GENCONF_CLK_GATING_CTRL_ND_GATE;
+-		regmap_write(sysctrl_base, GENCONF_CLK_GATING_CTRL, reg);
++		regmap_update_bits(sysctrl_base, GENCONF_CLK_GATING_CTRL,
++				   GENCONF_CLK_GATING_CTRL_ND_GATE,
++				   GENCONF_CLK_GATING_CTRL_ND_GATE);
+ 
+-		regmap_read(sysctrl_base, GENCONF_ND_CLK_CTRL, &reg);
+-		reg |= GENCONF_ND_CLK_CTRL_EN;
+-		regmap_write(sysctrl_base, GENCONF_ND_CLK_CTRL, reg);
++		regmap_update_bits(sysctrl_base, GENCONF_ND_CLK_CTRL,
++				   GENCONF_ND_CLK_CTRL_EN,
++				   GENCONF_ND_CLK_CTRL_EN);
+ 	}
+ 
+ 	/* Configure the DMA if appropriate */
+-- 
+2.7.4
+
diff --git a/patch/0111-mtd-rawnand-marvell-document-a-bit-more-the-driver.patch b/patch/0111-mtd-rawnand-marvell-document-a-bit-more-the-driver.patch
index e69de29..a221e46 100644
--- a/patch/0111-mtd-rawnand-marvell-document-a-bit-more-the-driver.patch
+++ b/patch/0111-mtd-rawnand-marvell-document-a-bit-more-the-driver.patch
@@ -0,0 +1,97 @@
+From 508dbcf08f6904be18dd41a7e853bee45f293bf3 Mon Sep 17 00:00:00 2001
+From: Miquel Raynal <miquel.raynal@bootlin.com>
+Date: Sun, 5 Aug 2018 16:52:56 +0200
+Subject: [PATCH] mtd: rawnand: marvell: document a bit more the driver
+
+A stale document about the old pxa3cc_nand.c driver is available in
+Documentation/mtd/nand/. Rewrite the parts that explain the IP itself
+and some non-trivial choices made in the driver directly in
+marvell_nand.c to then be able to remove this file.
+
+Signed-off-by: Miquel Raynal <miquel.raynal@bootlin.com>
+Reviewed-by: Boris Brezillon <boris.brezillon@bootlin.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 67 +++++++++++++++++++++++++++++++++++++
+ 1 file changed, 67 insertions(+)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 5c443c1..29906c9 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -5,6 +5,73 @@
+  * Copyright (C) 2017 Marvell
+  * Author: Miquel RAYNAL <miquel.raynal@free-electrons.com>
+  *
++ *
++ * This NAND controller driver handles two versions of the hardware,
++ * one is called NFCv1 and is available on PXA SoCs and the other is
++ * called NFCv2 and is available on Armada SoCs.
++ *
++ * The main visible difference is that NFCv1 only has Hamming ECC
++ * capabilities, while NFCv2 also embeds a BCH ECC engine. Also, DMA
++ * is not used with NFCv2.
++ *
++ * The ECC layouts are depicted in details in Marvell AN-379, but here
++ * is a brief description.
++ *
++ * When using Hamming, the data is split in 512B chunks (either 1, 2
++ * or 4) and each chunk will have its own ECC "digest" of 6B at the
++ * beginning of the OOB area and eventually the remaining free OOB
++ * bytes (also called "spare" bytes in the driver). This engine
++ * corrects up to 1 bit per chunk and detects reliably an error if
++ * there are at most 2 bitflips. Here is the page layout used by the
++ * controller when Hamming is chosen:
++ *
++ * +-------------------------------------------------------------+
++ * | Data 1 | ... | Data N | ECC 1 | ... | ECCN | Free OOB bytes |
++ * +-------------------------------------------------------------+
++ *
++ * When using the BCH engine, there are N identical (data + free OOB +
++ * ECC) sections and potentially an extra one to deal with
++ * configurations where the chosen (data + free OOB + ECC) sizes do
++ * not align with the page (data + OOB) size. ECC bytes are always
++ * 30B per ECC chunk. Here is the page layout used by the controller
++ * when BCH is chosen:
++ *
++ * +-----------------------------------------
++ * | Data 1 | Free OOB bytes 1 | ECC 1 | ...
++ * +-----------------------------------------
++ *
++ *      -------------------------------------------
++ *       ... | Data N | Free OOB bytes N | ECC N |
++ *      -------------------------------------------
++ *
++ *           --------------------------------------------+
++ *            Last Data | Last Free OOB bytes | Last ECC |
++ *           --------------------------------------------+
++ *
++ * In both cases, the layout seen by the user is always: all data
++ * first, then all free OOB bytes and finally all ECC bytes. With BCH,
++ * ECC bytes are 30B long and are padded with 0xFF to align on 32
++ * bytes.
++ *
++ * The controller has certain limitations that are handled by the
++ * driver:
++ *   - It can only read 2k at a time. To overcome this limitation, the
++ *     driver issues data cycles on the bus, without issuing new
++ *     CMD + ADDR cycles. The Marvell term is "naked" operations.
++ *   - The ECC strength in BCH mode cannot be tuned. It is fixed 16
++ *     bits. What can be tuned is the ECC block size as long as it
++ *     stays between 512B and 2kiB. It's usually chosen based on the
++ *     chip ECC requirements. For instance, using 2kiB ECC chunks
++ *     provides 4b/512B correctability.
++ *   - The controller will always treat data bytes, free OOB bytes
++ *     and ECC bytes in that order, no matter what the real layout is
++ *     (which is usually all data then all OOB bytes). The
++ *     marvell_nfc_layouts array below contains the currently
++ *     supported layouts.
++ *   - Because of these weird layouts, the Bad Block Markers can be
++ *     located in data section. In this case, the NAND_BBT_NO_OOB_BBM
++ *     option must be set to prevent scanning/writing bad block
++ *     markers.
+  */
+ 
+ #include <linux/module.h>
+-- 
+2.7.4
+
diff --git a/patch/0112-mtd-rawnand-marvell-rework-BCH-engine-failure-path.patch b/patch/0112-mtd-rawnand-marvell-rework-BCH-engine-failure-path.patch
index e69de29..b23a23a 100644
--- a/patch/0112-mtd-rawnand-marvell-rework-BCH-engine-failure-path.patch
+++ b/patch/0112-mtd-rawnand-marvell-rework-BCH-engine-failure-path.patch
@@ -0,0 +1,125 @@
+From 9c632997705956e061729df72b0422951a9c921d Mon Sep 17 00:00:00 2001
+From: Miquel Raynal <miquel.raynal@bootlin.com>
+Date: Thu, 19 Jul 2018 16:54:23 +0200
+Subject: [PATCH] mtd: rawnand: marvell: rework BCH engine failure path
+
+We are about to support a new layout that triggers a faulty mechanism in
+BCH engine that creates bitflips in erased pages.
+
+Before adding the quirk that will workaround this issue, this patch just
+reworks a bit the section that handles ECC failures in BCH read path.
+
+Signed-off-by: Miquel Raynal <miquel.raynal@bootlin.com>
+Reviewed-by: Boris Brezillon <boris.brezillon@bootlin.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 73 +++++++++++++++++++++----------------
+ 1 file changed, 42 insertions(+), 31 deletions(-)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 29906c9..1720f6d 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -1301,11 +1301,11 @@ static int marvell_nfc_hw_ecc_bch_read_page(struct mtd_info *mtd,
+ 					    int page)
+ {
+ 	const struct marvell_hw_ecc_layout *lt = to_marvell_nand(chip)->layout;
+-	int data_len = lt->data_bytes, spare_len = lt->spare_bytes, ecc_len;
+-	u8 *data = buf, *spare = chip->oob_poi, *ecc;
++	int data_len = lt->data_bytes, spare_len = lt->spare_bytes;
++	u8 *data = buf, *spare = chip->oob_poi;
+ 	int max_bitflips = 0;
+ 	u32 failure_mask = 0;
+-	int chunk, ecc_offset_in_page, ret;
++	int chunk, ret;
+ 
+ 	/*
+ 	 * With BCH, OOB is not fully used (and thus not read entirely), not
+@@ -1346,46 +1346,57 @@ static int marvell_nfc_hw_ecc_bch_read_page(struct mtd_info *mtd,
+ 	 * the controller in normal mode and must be re-read in raw mode. To
+ 	 * avoid dropping the performances, we prefer not to include them. The
+ 	 * user should re-read the page in raw mode if ECC bytes are required.
++	 */
++
++	/*
++	 * In case there is any subpage read error reported by ->correct(), we
++	 * usually re-read only ECC bytes in raw mode and check if the whole
++	 * page is empty. In this case, it is normal that the ECC check failed
++	 * and we just ignore the error.
+ 	 *
+ 	 * However, for any subpage read error reported by ->correct(), the ECC
+ 	 * bytes must be read in raw mode and the full subpage must be checked
+ 	 * to see if it is entirely empty of if there was an actual error.
+ 	 */
+ 	for (chunk = 0; chunk < lt->nchunks; chunk++) {
++		int data_off_in_page, spare_off_in_page, ecc_off_in_page;
++		int data_off, spare_off, ecc_off;
++		int data_len, spare_len, ecc_len;
++
+ 		/* No failure reported for this chunk, move to the next one */
+ 		if (!(failure_mask & BIT(chunk)))
+ 			continue;
+ 
+-		/* Derive ECC bytes positions (in page/buffer) and length */
+-		ecc = chip->oob_poi +
+-			(lt->full_chunk_cnt * lt->spare_bytes) +
+-			lt->last_spare_bytes +
+-			(chunk * ALIGN(lt->ecc_bytes, 32));
+-		ecc_offset_in_page =
+-			(chunk * (lt->data_bytes + lt->spare_bytes +
+-				  lt->ecc_bytes)) +
+-			(chunk < lt->full_chunk_cnt ?
+-			 lt->data_bytes + lt->spare_bytes :
+-			 lt->last_data_bytes + lt->last_spare_bytes);
+-		ecc_len = chunk < lt->full_chunk_cnt ?
+-			lt->ecc_bytes : lt->last_ecc_bytes;
+-
+-		/* Do the actual raw read of the ECC bytes */
+-		nand_change_read_column_op(chip, ecc_offset_in_page,
+-					   ecc, ecc_len, false);
+-
+-		/* Derive data/spare bytes positions (in buffer) and length */
+-		data = buf + (chunk * lt->data_bytes);
+-		data_len = chunk < lt->full_chunk_cnt ?
+-			lt->data_bytes : lt->last_data_bytes;
+-		spare = chip->oob_poi + (chunk * (lt->spare_bytes +
+-						  lt->ecc_bytes));
+-		spare_len = chunk < lt->full_chunk_cnt ?
+-			lt->spare_bytes : lt->last_spare_bytes;
++		data_off_in_page = chunk * (lt->data_bytes + lt->spare_bytes +
++					    lt->ecc_bytes);
++		spare_off_in_page = data_off_in_page +
++			(chunk < lt->full_chunk_cnt ? lt->data_bytes :
++						      lt->last_data_bytes);
++		ecc_off_in_page = spare_off_in_page +
++			(chunk < lt->full_chunk_cnt ? lt->spare_bytes :
++						      lt->last_spare_bytes);
++
++		data_off = chunk * lt->data_bytes;
++		spare_off = chunk * lt->spare_bytes;
++		ecc_off = (lt->full_chunk_cnt * lt->spare_bytes) +
++			  lt->last_spare_bytes +
++			  (chunk * (lt->ecc_bytes + 2));
++
++		data_len = chunk < lt->full_chunk_cnt ? lt->data_bytes :
++							lt->last_data_bytes;
++		spare_len = chunk < lt->full_chunk_cnt ? lt->spare_bytes :
++							 lt->last_spare_bytes;
++		ecc_len = chunk < lt->full_chunk_cnt ? lt->ecc_bytes :
++						       lt->last_ecc_bytes;
++
++		nand_change_read_column_op(chip, ecc_off_in_page,
++					   chip->oob_poi + ecc_off, ecc_len,
++					   false);
+ 
+ 		/* Check the entire chunk (data + spare + ecc) for emptyness */
+-		marvell_nfc_check_empty_chunk(chip, data, data_len, spare,
+-					      spare_len, ecc, ecc_len,
++		marvell_nfc_check_empty_chunk(chip, buf + data_off, data_len,
++					      chip->oob_poi + spare_off, spare_len,
++					      chip->oob_poi + ecc_off, ecc_len,
+ 					      &max_bitflips);
+ 	}
+ 
+-- 
+2.7.4
+
diff --git a/patch/0113-mtd-rawnand-marvell-support-8b-512B-strength-for-2ki.patch b/patch/0113-mtd-rawnand-marvell-support-8b-512B-strength-for-2ki.patch
index e69de29..d6c0c08 100644
--- a/patch/0113-mtd-rawnand-marvell-support-8b-512B-strength-for-2ki.patch
+++ b/patch/0113-mtd-rawnand-marvell-support-8b-512B-strength-for-2ki.patch
@@ -0,0 +1,95 @@
+From e1ef177fc6d81a5f1e0c9a9c3e607cef467f8f92 Mon Sep 17 00:00:00 2001
+From: Miquel Raynal <miquel.raynal@bootlin.com>
+Date: Thu, 19 Jul 2018 12:21:19 +0200
+Subject: [PATCH] mtd: rawnand: marvell: support 8b/512B strength for 2kiB
+ pages layout
+
+Add support for the layout used by 2kiB page NAND chips requesting at
+least 8-bit of correction per 512 bytes. This layout requires a bit of
+handling as:
+1/ It can only fit if the NAND chip has at least 128 OOB bytes.
+2/ The Bad Block Markers are located in the middle of the data bytes
+   and shall not be used.
+3/ It has been experimentally observed that, for certain layouts, the ECC
+   engine tries to correct data while it should not because the errors
+   are uncorrectable. While this is harmless for truly bad pages, it
+   creates bitflips in empty pages. To avoid such scenario that
+   augments artificially the number of bitflips we re-read in raw mode
+   the entire page instead of just the ECC bytes. This is done only
+   for this layout to avoid an unneeded penalty with other setups.
+
+Signed-off-by: Miquel Raynal <miquel.raynal@bootlin.com>
+Reviewed-by: Boris Brezillon <boris.brezillon@bootlin.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 34 +++++++++++++++++++++++++++++++---
+ 1 file changed, 31 insertions(+), 3 deletions(-)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 1720f6d..6c16646 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -284,6 +284,7 @@ static const struct marvell_hw_ecc_layout marvell_nfc_layouts[] = {
+ 	MARVELL_LAYOUT(  512,   512,  1,  1,  1,  512,  8,  8,  0,  0,  0),
+ 	MARVELL_LAYOUT( 2048,   512,  1,  1,  1, 2048, 40, 24,  0,  0,  0),
+ 	MARVELL_LAYOUT( 2048,   512,  4,  1,  1, 2048, 32, 30,  0,  0,  0),
++	MARVELL_LAYOUT( 2048,   512,  8,  2,  1, 1024,  0, 30,1024,32, 30),
+ 	MARVELL_LAYOUT( 4096,   512,  4,  2,  2, 2048, 32, 30,  0,  0,  0),
+ 	MARVELL_LAYOUT( 4096,   512,  8,  5,  4, 1024,  0, 30,  0, 64, 30),
+ };
+@@ -1354,9 +1355,11 @@ static int marvell_nfc_hw_ecc_bch_read_page(struct mtd_info *mtd,
+ 	 * page is empty. In this case, it is normal that the ECC check failed
+ 	 * and we just ignore the error.
+ 	 *
+-	 * However, for any subpage read error reported by ->correct(), the ECC
+-	 * bytes must be read in raw mode and the full subpage must be checked
+-	 * to see if it is entirely empty of if there was an actual error.
++	 * However, it has been empirically observed that for some layouts (e.g
++	 * 2k page, 8b strength per 512B chunk), the controller tries to correct
++	 * bits and may create itself bitflips in the erased area. To overcome
++	 * this strange behavior, the whole page is re-read in raw mode, not
++	 * only the ECC bytes.
+ 	 */
+ 	for (chunk = 0; chunk < lt->nchunks; chunk++) {
+ 		int data_off_in_page, spare_off_in_page, ecc_off_in_page;
+@@ -1389,6 +1392,21 @@ static int marvell_nfc_hw_ecc_bch_read_page(struct mtd_info *mtd,
+ 		ecc_len = chunk < lt->full_chunk_cnt ? lt->ecc_bytes :
+ 						       lt->last_ecc_bytes;
+ 
++		/*
++		 * Only re-read the ECC bytes, unless we are using the 2k/8b
++		 * layout which is buggy in the sense that the ECC engine will
++		 * try to correct data bytes anyway, creating bitflips. In this
++		 * case, re-read the entire page.
++		 */
++		if (lt->writesize == 2048 && lt->strength == 8) {
++			nand_change_read_column_op(chip, data_off_in_page,
++						   buf + data_off, data_len,
++						   false);
++			nand_change_read_column_op(chip, spare_off_in_page,
++						   chip->oob_poi + spare_off, spare_len,
++						   false);
++		}
++
+ 		nand_change_read_column_op(chip, ecc_off_in_page,
+ 					   chip->oob_poi + ecc_off, ecc_len,
+ 					   false);
+@@ -2175,6 +2193,16 @@ static int marvell_nand_hw_ecc_ctrl_init(struct mtd_info *mtd,
+ 		return -ENOTSUPP;
+ 	}
+ 
++	/* Special care for the layout 2k/8-bit/512B  */
++	if (l->writesize == 2048 && l->strength == 8) {
++		if (mtd->oobsize < 128) {
++			dev_err(nfc->dev, "Requested layout needs at least 128 OOB bytes\n");
++			return -ENOTSUPP;
++		} else {
++			chip->bbt_options |= NAND_BBT_NO_OOB_BBM;
++		}
++	}
++
+ 	mtd_set_ooblayout(mtd, &marvell_nand_ooblayout_ops);
+ 	ecc->steps = l->nchunks;
+ 	ecc->size = l->data_bytes;
+-- 
+2.7.4
+
diff --git a/patch/0116-mtd-nand-marvell-add-support-for-2KB-8-bit-nand.patch b/patch/0116-mtd-nand-marvell-add-support-for-2KB-8-bit-nand.patch
index e69de29..ad366a3 100644
--- a/patch/0116-mtd-nand-marvell-add-support-for-2KB-8-bit-nand.patch
+++ b/patch/0116-mtd-nand-marvell-add-support-for-2KB-8-bit-nand.patch
@@ -0,0 +1,30 @@
+From 07c0a9512d61ac9aafceec4aee64308bbdf5a55a Mon Sep 17 00:00:00 2001
+From: Konstantin Porotchkin <kostap@marvell.com>
+Date: Wed, 8 Aug 2018 16:54:44 +0300
+Subject: [PATCH] mtd: nand: marvell: add support for 2KB 8-bit nand
+
+Add support for NAND with 2KB page and ECC strength of 8-bit
+to the layout table of marvell_nand driver.
+Tested with Toshiba TC58NVG1S3HTA00
+
+Change-Id: I54e03dcd05a80c23a2b47c97752591f4072e5060
+Signed-off-by: Konstantin Porotchkin <kostap@marvell.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 1 +
+ 1 file changed, 1 insertion(+)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 6c16646..916dcd1 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -285,6 +285,7 @@ static const struct marvell_hw_ecc_layout marvell_nfc_layouts[] = {
+ 	MARVELL_LAYOUT( 2048,   512,  1,  1,  1, 2048, 40, 24,  0,  0,  0),
+ 	MARVELL_LAYOUT( 2048,   512,  4,  1,  1, 2048, 32, 30,  0,  0,  0),
+ 	MARVELL_LAYOUT( 2048,   512,  8,  2,  1, 1024,  0, 30,1024,32, 30),
++	MARVELL_LAYOUT( 2048,   512,  8,  2,  1, 1024,  0, 30,  1024, 64, 30),
+ 	MARVELL_LAYOUT( 4096,   512,  4,  2,  2, 2048, 32, 30,  0,  0,  0),
+ 	MARVELL_LAYOUT( 4096,   512,  8,  5,  4, 1024,  0, 30,  0, 64, 30),
+ };
+-- 
+2.7.4
+
diff --git a/patch/0117-mtd-nand-marvell-Add-support-for-8KB-page-4-and-8-bi.patch b/patch/0117-mtd-nand-marvell-Add-support-for-8KB-page-4-and-8-bi.patch
index e69de29..b3ad74b 100644
--- a/patch/0117-mtd-nand-marvell-Add-support-for-8KB-page-4-and-8-bi.patch
+++ b/patch/0117-mtd-nand-marvell-Add-support-for-8KB-page-4-and-8-bi.patch
@@ -0,0 +1,30 @@
+From bc4ddadaea683838c64013947e83b1690d378d09 Mon Sep 17 00:00:00 2001
+From: Konstantin Porotchkin <kostap@marvell.com>
+Date: Thu, 16 Aug 2018 17:23:55 +0300
+Subject: [PATCH] mtd: nand: marvell: Add support for 8KB page 4 and 8 bit ECC
+
+Add support to nand devices with 8KB page, 4 and 8 bit ECC to
+Marvell NAND driver
+
+Change-Id: Ie75c83bc83f9c2d4664088e9f5e24159f36bdc69
+Signed-off-by: Konstantin Porotchkin <kostap@marvell.com>
+---
+ drivers/mtd/nand/raw/marvell_nand.c | 2 ++
+ 1 file changed, 2 insertions(+)
+
+diff --git a/drivers/mtd/nand/raw/marvell_nand.c b/drivers/mtd/nand/raw/marvell_nand.c
+index 916dcd1..3f5e918 100644
+--- a/drivers/mtd/nand/raw/marvell_nand.c
++++ b/drivers/mtd/nand/raw/marvell_nand.c
+@@ -288,6 +288,8 @@ static const struct marvell_hw_ecc_layout marvell_nfc_layouts[] = {
+ 	MARVELL_LAYOUT( 2048,   512,  8,  2,  1, 1024,  0, 30,  1024, 64, 30),
+ 	MARVELL_LAYOUT( 4096,   512,  4,  2,  2, 2048, 32, 30,  0,  0,  0),
+ 	MARVELL_LAYOUT( 4096,   512,  8,  5,  4, 1024,  0, 30,  0, 64, 30),
++	MARVELL_LAYOUT( 8192,   512,  4,  4,  4, 2048,  0, 30,  0,  0,  0),
++	MARVELL_LAYOUT( 8192,   512,  8,  9,  8, 1024,  0, 30,  0, 160, 30),
+ };
+ 
+ /**
+-- 
+2.7.4
+
diff --git a/patch/0120-arm64-bringup-configs.patch b/patch/0120-arm64-bringup-configs.patch
index e69de29..0841173 100644
--- a/patch/0120-arm64-bringup-configs.patch
+++ b/patch/0120-arm64-bringup-configs.patch
@@ -0,0 +1,2831 @@
+From adf767005a35a2afeb8006c1023633af4de9d78e Mon Sep 17 00:00:00 2001
+From: Antony Rheneus <arheneus@marvell.com>
+Date: Thu, 17 Oct 2019 18:31:57 +0530
+Subject: [PATCH] arm64 default config for sonic patches
+
+---
+ debian/build/build_arm64_none_arm64/.config | 9 +++++++++
+ 1 file changed, 9 insertions(+)
+
+diff --git a/debian/build/build_arm64_none_arm64/.config b/debian/build/build_arm64_none_arm64/.config
+index 0ce4748..be5b136 100644
+--- a/debian/build/build_arm64_none_arm64/.config
++++ b/debian/build/build_arm64_none_arm64/.config
+@@ -212,7 +212,6 @@
+ CONFIG_SLUB_CPU_PARTIAL=y
+ CONFIG_SYSTEM_DATA_VERIFICATION=y
+ CONFIG_PROFILING=y
+-CONFIG_TRACEPOINTS=y
+ CONFIG_ARM64=y
+ CONFIG_64BIT=y
+ CONFIG_MMU=y
+@@ -698,7 +697,6 @@
+ CONFIG_KPROBES=y
+ CONFIG_JUMP_LABEL=y
+ # CONFIG_STATIC_KEYS_SELFTEST is not set
+-CONFIG_UPROBES=y
+ CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS=y
+ CONFIG_KRETPROBES=y
+ CONFIG_HAVE_KPROBES=y
+@@ -825,7 +823,6 @@
+ CONFIG_BLOCK_COMPAT=y
+ CONFIG_BLK_MQ_PCI=y
+ CONFIG_BLK_MQ_VIRTIO=y
+-CONFIG_BLK_MQ_RDMA=y
+ 
+ #
+ # IO Schedulers
+@@ -965,7 +962,6 @@
+ CONFIG_GENERIC_EARLY_IOREMAP=y
+ # CONFIG_DEFERRED_STRUCT_PAGE_INIT is not set
+ # CONFIG_IDLE_PAGE_TRACKING is not set
+-CONFIG_FRAME_VECTOR=y
+ # CONFIG_PERCPU_STATS is not set
+ # CONFIG_GUP_BENCHMARK is not set
+ CONFIG_ARCH_HAS_PTE_SPECIAL=y
+@@ -993,8 +989,6 @@
+ CONFIG_XFRM_IPCOMP=m
+ CONFIG_NET_KEY=m
+ CONFIG_NET_KEY_MIGRATE=y
+-CONFIG_SMC=m
+-CONFIG_SMC_DIAG=m
+ CONFIG_XDP_SOCKETS=y
+ CONFIG_INET=y
+ CONFIG_IP_MULTICAST=y
+@@ -1475,11 +1469,9 @@
+ CONFIG_SCTP_COOKIE_HMAC_SHA1=y
+ CONFIG_INET_SCTP_DIAG=m
+ CONFIG_RDS=m
+-CONFIG_RDS_RDMA=m
+ CONFIG_RDS_TCP=m
+ # CONFIG_RDS_DEBUG is not set
+ CONFIG_TIPC=m
+-CONFIG_TIPC_MEDIA_IB=y
+ CONFIG_TIPC_MEDIA_UDP=y
+ CONFIG_TIPC_DIAG=m
+ CONFIG_ATM=m
+@@ -1698,7 +1690,7 @@
+ # CONFIG_CAN_SJA1000_PLATFORM is not set
+ CONFIG_CAN_EMS_PCI=m
+ CONFIG_CAN_PEAK_PCI=m
+-CONFIG_CAN_PEAK_PCIEC=y
++CONFIG_CAN_PEAK_PCIEC=m
+ CONFIG_CAN_KVASER_PCI=m
+ CONFIG_CAN_PLX_PCI=m
+ CONFIG_CAN_SOFTING=m
+@@ -1724,17 +1716,16 @@
+ CONFIG_BT=m
+ CONFIG_BT_BREDR=y
+ CONFIG_BT_RFCOMM=m
+-CONFIG_BT_RFCOMM_TTY=y
++# CONFIG_BT_RFCOMM_TTY is not set
+ CONFIG_BT_BNEP=m
+-CONFIG_BT_BNEP_MC_FILTER=y
++# CONFIG_BT_BNEP_MC_FILTER is not set
+ CONFIG_BT_BNEP_PROTO_FILTER=y
+ CONFIG_BT_HIDP=m
+-CONFIG_BT_HS=y
+-CONFIG_BT_LE=y
+-CONFIG_BT_6LOWPAN=m
+-CONFIG_BT_LEDS=y
++# CONFIG_BT_HS is not set
++# CONFIG_BT_LE is not set
++# CONFIG_BT_LEDS is not set
+ # CONFIG_BT_SELFTEST is not set
+-CONFIG_BT_DEBUGFS=y
++# CONFIG_BT_DEBUGFS is not set
+ 
+ #
+ # Bluetooth device drivers
+@@ -1771,7 +1762,6 @@
+ CONFIG_BT_WILINK=m
+ CONFIG_BT_MTKUART=m
+ CONFIG_BT_QCOMSMD=m
+-CONFIG_BT_HCIRSI=m
+ CONFIG_AF_RXRPC=m
+ CONFIG_AF_RXRPC_IPV6=y
+ # CONFIG_AF_RXRPC_INJECT_LOSS is not set
+@@ -1781,11 +1771,8 @@
+ CONFIG_STREAM_PARSER=y
+ CONFIG_FIB_RULES=y
+ CONFIG_WIRELESS=y
+-CONFIG_WIRELESS_EXT=y
+ CONFIG_WEXT_CORE=y
+ CONFIG_WEXT_PROC=y
+-CONFIG_WEXT_SPY=y
+-CONFIG_WEXT_PRIV=y
+ CONFIG_CFG80211=m
+ # CONFIG_NL80211_TESTMODE is not set
+ # CONFIG_CFG80211_DEVELOPER_WARNINGS is not set
+@@ -1796,12 +1783,6 @@
+ # CONFIG_CFG80211_DEBUGFS is not set
+ CONFIG_CFG80211_CRDA_SUPPORT=y
+ CONFIG_CFG80211_WEXT=y
+-CONFIG_CFG80211_WEXT_EXPORT=y
+-CONFIG_LIB80211=m
+-CONFIG_LIB80211_CRYPT_WEP=m
+-CONFIG_LIB80211_CRYPT_CCMP=m
+-CONFIG_LIB80211_CRYPT_TKIP=m
+-# CONFIG_LIB80211_DEBUG is not set
+ CONFIG_MAC80211=m
+ CONFIG_MAC80211_HAS_RC=y
+ CONFIG_MAC80211_RC_MINSTREL=y
+@@ -1824,7 +1805,6 @@
+ CONFIG_NET_9P=m
+ CONFIG_NET_9P_VIRTIO=m
+ CONFIG_NET_9P_XEN=m
+-CONFIG_NET_9P_RDMA=m
+ # CONFIG_NET_9P_DEBUG is not set
+ # CONFIG_CAIF is not set
+ CONFIG_CEPH_LIB=m
+@@ -1881,17 +1861,16 @@
+ CONFIG_WANT_DEV_COREDUMP=y
+ CONFIG_ALLOW_DEV_COREDUMP=y
+ CONFIG_DEV_COREDUMP=y
+-# CONFIG_DEBUG_DRIVER is not set
++CONFIG_DEBUG_DRIVER=y
+ # CONFIG_DEBUG_DEVRES is not set
+ # CONFIG_DEBUG_TEST_DRIVER_REMOVE is not set
+ # CONFIG_TEST_ASYNC_DRIVER_PROBE is not set
+-CONFIG_SYS_HYPERVISOR=y
+ CONFIG_GENERIC_CPU_AUTOPROBE=y
+ CONFIG_SOC_BUS=y
+ CONFIG_REGMAP=y
+ CONFIG_REGMAP_I2C=y
+ CONFIG_REGMAP_SPI=y
+-CONFIG_REGMAP_SPMI=y
++CONFIG_REGMAP_SPMI=m
+ CONFIG_REGMAP_MMIO=y
+ CONFIG_REGMAP_IRQ=y
+ CONFIG_DMA_SHARED_BUFFER=y
+@@ -1920,7 +1899,6 @@
+ # CONFIG_SIMPLE_PM_BUS is not set
+ CONFIG_SUN50I_DE2_BUS=y
+ CONFIG_SUNXI_RSB=y
+-CONFIG_TEGRA_ACONNECT=y
+ # CONFIG_TEGRA_GMI is not set
+ CONFIG_VEXPRESS_CONFIG=y
+ CONFIG_CONNECTOR=y
+@@ -1929,12 +1907,12 @@
+ CONFIG_GNSS_SERIAL=m
+ CONFIG_GNSS_SIRF_SERIAL=m
+ CONFIG_GNSS_UBX_SERIAL=m
+-CONFIG_MTD=m
++CONFIG_MTD=y
+ # CONFIG_MTD_TESTS is not set
+ # CONFIG_MTD_REDBOOT_PARTS is not set
+-# CONFIG_MTD_CMDLINE_PARTS is not set
++CONFIG_MTD_CMDLINE_PARTS=y
+ # CONFIG_MTD_AFS_PARTS is not set
+-CONFIG_MTD_OF_PARTS=m
++CONFIG_MTD_OF_PARTS=y
+ CONFIG_MTD_AR7_PARTS=m
+ 
+ #
+@@ -1944,12 +1922,12 @@
+ #
+ # User Modules And Translation Layers
+ #
+-CONFIG_MTD_BLKDEVS=m
+-CONFIG_MTD_BLOCK=m
+-CONFIG_MTD_BLOCK_RO=m
+-# CONFIG_FTL is not set
+-# CONFIG_NFTL is not set
+-# CONFIG_INFTL is not set
++CONFIG_MTD_BLKDEVS=y
++CONFIG_MTD_BLOCK=y
++CONFIG_FTL=y
++CONFIG_NFTL=y
++CONFIG_NFTL_RW=y
++CONFIG_INFTL=y
+ CONFIG_RFD_FTL=m
+ CONFIG_SSFDC=m
+ # CONFIG_SM_FTL is not set
+@@ -1960,31 +1938,51 @@
+ #
+ # RAM/ROM/Flash chip drivers
+ #
+-# CONFIG_MTD_CFI is not set
+-# CONFIG_MTD_JEDECPROBE is not set
++CONFIG_MTD_CFI=y
++CONFIG_MTD_JEDECPROBE=y
++CONFIG_MTD_GEN_PROBE=y
++CONFIG_MTD_CFI_ADV_OPTIONS=y
++CONFIG_MTD_CFI_NOSWAP=y
++# CONFIG_MTD_CFI_BE_BYTE_SWAP is not set
++# CONFIG_MTD_CFI_LE_BYTE_SWAP is not set
++CONFIG_MTD_CFI_GEOMETRY=y
+ CONFIG_MTD_MAP_BANK_WIDTH_1=y
+ CONFIG_MTD_MAP_BANK_WIDTH_2=y
+ CONFIG_MTD_MAP_BANK_WIDTH_4=y
++# CONFIG_MTD_MAP_BANK_WIDTH_8 is not set
++# CONFIG_MTD_MAP_BANK_WIDTH_16 is not set
++# CONFIG_MTD_MAP_BANK_WIDTH_32 is not set
+ CONFIG_MTD_CFI_I1=y
+ CONFIG_MTD_CFI_I2=y
+-CONFIG_MTD_RAM=m
++# CONFIG_MTD_CFI_I4 is not set
++# CONFIG_MTD_CFI_I8 is not set
++# CONFIG_MTD_OTP is not set
++CONFIG_MTD_CFI_INTELEXT=y
++CONFIG_MTD_CFI_AMDSTD=y
++CONFIG_MTD_CFI_STAA=y
++CONFIG_MTD_CFI_UTIL=y
++CONFIG_MTD_RAM=y
+ # CONFIG_MTD_ROM is not set
+ # CONFIG_MTD_ABSENT is not set
+ 
+ #
+ # Mapping drivers for chip access
+ #
+-# CONFIG_MTD_COMPLEX_MAPPINGS is not set
+-# CONFIG_MTD_PHYSMAP is not set
++CONFIG_MTD_COMPLEX_MAPPINGS=y
++CONFIG_MTD_PHYSMAP=y
++# CONFIG_MTD_PHYSMAP_COMPAT is not set
+ # CONFIG_MTD_PHYSMAP_OF is not set
++CONFIG_MTD_PCI=y
++CONFIG_MTD_GPIO_ADDR=y
+ CONFIG_MTD_INTEL_VR_NOR=m
+-CONFIG_MTD_PLATRAM=m
++CONFIG_MTD_PLATRAM=y
++CONFIG_MTD_LATCH_ADDR=y
+ 
+ #
+ # Self-contained MTD device drivers
+ #
+ # CONFIG_MTD_PMC551 is not set
+-CONFIG_MTD_DATAFLASH=m
++CONFIG_MTD_DATAFLASH=y
+ # CONFIG_MTD_DATAFLASH_WRITE_VERIFY is not set
+ # CONFIG_MTD_DATAFLASH_OTP is not set
+ CONFIG_MTD_M25P80=m
+@@ -1993,19 +1991,45 @@
+ # CONFIG_MTD_SLRAM is not set
+ # CONFIG_MTD_PHRAM is not set
+ # CONFIG_MTD_MTDRAM is not set
+-# CONFIG_MTD_BLOCK2MTD is not set
++CONFIG_MTD_BLOCK2MTD=y
+ 
+ #
+ # Disk-On-Chip Device Drivers
+ #
+ # CONFIG_MTD_DOCG3 is not set
+-CONFIG_MTD_ONENAND=m
++CONFIG_MTD_NAND_CORE=y
++CONFIG_MTD_ONENAND=y
+ CONFIG_MTD_ONENAND_VERIFY_WRITE=y
+ # CONFIG_MTD_ONENAND_GENERIC is not set
+ # CONFIG_MTD_ONENAND_OTP is not set
+ CONFIG_MTD_ONENAND_2X_PROGRAM=y
+-# CONFIG_MTD_NAND is not set
+-# CONFIG_MTD_SPI_NAND is not set
++CONFIG_MTD_NAND_ECC=y
++CONFIG_MTD_NAND_ECC_SMC=y
++CONFIG_MTD_NAND=y
++CONFIG_MTD_NAND_BCH=y
++CONFIG_MTD_NAND_ECC_BCH=y
++CONFIG_MTD_SM_COMMON=y
++CONFIG_MTD_NAND_DENALI=m
++CONFIG_MTD_NAND_DENALI_PCI=m
++CONFIG_MTD_NAND_DENALI_DT=m
++# CONFIG_MTD_NAND_GPIO is not set
++CONFIG_MTD_NAND_RICOH=y
++CONFIG_MTD_NAND_DISKONCHIP=y
++CONFIG_MTD_NAND_DISKONCHIP_PROBE_ADVANCED=y
++CONFIG_MTD_NAND_DISKONCHIP_PROBE_ADDRESS=0x0
++# CONFIG_MTD_NAND_DISKONCHIP_PROBE_HIGH is not set
++# CONFIG_MTD_NAND_DISKONCHIP_BBTWRITE is not set
++CONFIG_MTD_NAND_DOCG4=m
++CONFIG_MTD_NAND_CAFE=m
++CONFIG_MTD_NAND_MARVELL=y
++# CONFIG_MTD_NAND_NANDSIM is not set
++CONFIG_MTD_NAND_BRCMNAND=y
++CONFIG_MTD_NAND_PLATFORM=y
++CONFIG_MTD_NAND_SUNXI=y
++CONFIG_MTD_NAND_HISI504=y
++CONFIG_MTD_NAND_QCOM=m
++CONFIG_MTD_NAND_TEGRA=m
++CONFIG_MTD_SPI_NAND=y
+ 
+ #
+ # LPDDR & LPDDR2 PCM memory drivers
+@@ -2032,7 +2056,7 @@
+ CONFIG_OF_ADDRESS=y
+ CONFIG_OF_IRQ=y
+ CONFIG_OF_NET=y
+-CONFIG_OF_MDIO=m
++CONFIG_OF_MDIO=y
+ CONFIG_OF_RESERVED_MEM=y
+ # CONFIG_OF_OVERLAY is not set
+ CONFIG_OF_NUMA=y
+@@ -2070,7 +2094,6 @@
+ # CONFIG_CDROM_PKTCDVD is not set
+ CONFIG_ATA_OVER_ETH=m
+ CONFIG_XEN_BLKDEV_FRONTEND=m
+-CONFIG_XEN_BLKDEV_BACKEND=m
+ CONFIG_VIRTIO_BLK=m
+ # CONFIG_VIRTIO_BLK_SCSI is not set
+ CONFIG_BLK_DEV_RBD=m
+@@ -2083,11 +2106,9 @@
+ CONFIG_BLK_DEV_NVME=m
+ CONFIG_NVME_MULTIPATH=y
+ CONFIG_NVME_FABRICS=m
+-CONFIG_NVME_RDMA=m
+ CONFIG_NVME_FC=m
+ CONFIG_NVME_TARGET=m
+ # CONFIG_NVME_TARGET_LOOP is not set
+-CONFIG_NVME_TARGET_RDMA=m
+ CONFIG_NVME_TARGET_FC=m
+ # CONFIG_NVME_TARGET_FCLOOP is not set
+ 
+@@ -2101,19 +2122,19 @@
+ # CONFIG_DUMMY_IRQ is not set
+ # CONFIG_PHANTOM is not set
+ CONFIG_SGI_IOC4=m
+-CONFIG_TIFM_CORE=m
++CONFIG_TIFM_CORE=y
+ CONFIG_TIFM_7XX1=m
+ CONFIG_ICS932S401=m
+ CONFIG_ENCLOSURE_SERVICES=m
+ # CONFIG_HP_ILO is not set
+-CONFIG_QCOM_COINCELL=m
+-CONFIG_APDS9802ALS=m
+-CONFIG_ISL29003=m
+-CONFIG_ISL29020=m
+-CONFIG_SENSORS_TSL2550=m
+-CONFIG_SENSORS_BH1770=m
+-CONFIG_SENSORS_APDS990X=m
+-CONFIG_HMC6352=m
++# CONFIG_QCOM_COINCELL is not set
++# CONFIG_APDS9802ALS is not set
++# CONFIG_ISL29003 is not set
++# CONFIG_ISL29020 is not set
++# CONFIG_SENSORS_TSL2550 is not set
++# CONFIG_SENSORS_BH1770 is not set
++# CONFIG_SENSORS_APDS990X is not set
++# CONFIG_HMC6352 is not set
+ CONFIG_DS1682=m
+ # CONFIG_USB_SWITCH_FSA9480 is not set
+ # CONFIG_LATTICE_ECP3_CONFIG is not set
+@@ -2133,7 +2154,9 @@
+ CONFIG_EEPROM_93CX6=m
+ # CONFIG_EEPROM_93XX46 is not set
+ # CONFIG_EEPROM_IDT_89HPESX is not set
+-CONFIG_CB710_CORE=m
++CONFIG_EEPROM_SFF_8436=y
++CONFIG_EEPROM_OPTOE=y
++CONFIG_CB710_CORE=y
+ # CONFIG_CB710_DEBUG is not set
+ CONFIG_CB710_DEBUG_ASSUMPTIONS=y
+ 
+@@ -2523,23 +2546,7 @@
+ CONFIG_NET_VRF=m
+ CONFIG_VSOCKMON=m
+ # CONFIG_ARCNET is not set
+-CONFIG_ATM_DRIVERS=y
+-CONFIG_ATM_DUMMY=m
+-# CONFIG_ATM_TCP is not set
+-# CONFIG_ATM_LANAI is not set
+-# CONFIG_ATM_ENI is not set
+-CONFIG_ATM_NICSTAR=m
+-CONFIG_ATM_NICSTAR_USE_SUNI=y
+-CONFIG_ATM_NICSTAR_USE_IDT77105=y
+-# CONFIG_ATM_IDT77252 is not set
+-CONFIG_ATM_IA=m
+-# CONFIG_ATM_IA_DEBUG is not set
+-CONFIG_ATM_FORE200E=m
+-# CONFIG_ATM_FORE200E_USE_TASKLET is not set
+-CONFIG_ATM_FORE200E_TX_RETRY=16
+-CONFIG_ATM_FORE200E_DEBUG=0
+-# CONFIG_ATM_HE is not set
+-CONFIG_ATM_SOLOS=m
++# CONFIG_ATM_DRIVERS is not set
+ 
+ #
+ # CAIF transport drivers
+@@ -2564,38 +2571,20 @@
+ # CONFIG_NET_DSA_VITESSE_VSC73XX is not set
+ CONFIG_ETHERNET=y
+ CONFIG_MDIO=m
+-CONFIG_NET_VENDOR_3COM=y
+-CONFIG_VORTEX=m
+-CONFIG_TYPHOON=m
+-CONFIG_NET_VENDOR_ADAPTEC=y
+-CONFIG_ADAPTEC_STARFIRE=m
+-CONFIG_NET_VENDOR_AGERE=y
+-CONFIG_ET131X=m
+-CONFIG_NET_VENDOR_ALACRITECH=y
+-# CONFIG_SLICOSS is not set
+-CONFIG_NET_VENDOR_ALLWINNER=y
+-# CONFIG_SUN4I_EMAC is not set
+-CONFIG_NET_VENDOR_ALTEON=y
+-CONFIG_ACENIC=m
+-# CONFIG_ACENIC_OMIT_TIGON_I is not set
++# CONFIG_NET_VENDOR_3COM is not set
++# CONFIG_NET_VENDOR_ADAPTEC is not set
++# CONFIG_NET_VENDOR_AGERE is not set
++# CONFIG_NET_VENDOR_ALACRITECH is not set
++# CONFIG_NET_VENDOR_ALLWINNER is not set
++# CONFIG_NET_VENDOR_ALTEON is not set
+ # CONFIG_ALTERA_TSE is not set
+-CONFIG_NET_VENDOR_AMAZON=y
+-CONFIG_ENA_ETHERNET=m
+-CONFIG_NET_VENDOR_AMD=y
+-# CONFIG_AMD8111_ETH is not set
+-CONFIG_PCNET32=m
+-CONFIG_AMD_XGBE=m
+-CONFIG_AMD_XGBE_DCB=y
++# CONFIG_NET_VENDOR_AMAZON is not set
++# CONFIG_NET_VENDOR_AMD is not set
+ CONFIG_NET_XGENE=m
+ CONFIG_NET_XGENE_V2=m
+-CONFIG_NET_VENDOR_AQUANTIA=y
++# CONFIG_NET_VENDOR_AQUANTIA is not set
+ # CONFIG_NET_VENDOR_ARC is not set
+-CONFIG_NET_VENDOR_ATHEROS=y
+-CONFIG_ATL2=m
+-CONFIG_ATL1=m
+-CONFIG_ATL1E=m
+-CONFIG_ATL1C=m
+-CONFIG_ALX=m
++# CONFIG_NET_VENDOR_ATHEROS is not set
+ # CONFIG_NET_VENDOR_AURORA is not set
+ CONFIG_NET_VENDOR_BROADCOM=y
+ # CONFIG_B44 is not set
+@@ -2618,14 +2607,7 @@
+ CONFIG_MACB=m
+ CONFIG_MACB_USE_HWSTAMP=y
+ # CONFIG_MACB_PCI is not set
+-CONFIG_NET_VENDOR_CAVIUM=y
+-CONFIG_THUNDER_NIC_PF=m
+-CONFIG_THUNDER_NIC_VF=m
+-CONFIG_THUNDER_NIC_BGX=m
+-CONFIG_THUNDER_NIC_RGX=m
+-CONFIG_CAVIUM_PTP=y
+-CONFIG_LIQUIDIO=m
+-CONFIG_LIQUIDIO_VF=m
++# CONFIG_NET_VENDOR_CAVIUM is not set
+ CONFIG_NET_VENDOR_CHELSIO=y
+ CONFIG_CHELSIO_T1=m
+ CONFIG_CHELSIO_T1_1G=y
+@@ -2635,27 +2617,11 @@
+ CONFIG_CHELSIO_T4_FCOE=y
+ CONFIG_CHELSIO_T4VF=m
+ CONFIG_CHELSIO_LIB=m
+-CONFIG_NET_VENDOR_CISCO=y
+-CONFIG_ENIC=m
+-CONFIG_NET_VENDOR_CORTINA=y
+-# CONFIG_GEMINI_ETHERNET is not set
++# CONFIG_NET_VENDOR_CISCO is not set
++# CONFIG_NET_VENDOR_CORTINA is not set
+ # CONFIG_DNET is not set
+-CONFIG_NET_VENDOR_DEC=y
+-CONFIG_NET_TULIP=y
+-CONFIG_DE2104X=m
+-CONFIG_DE2104X_DSL=0
+-CONFIG_TULIP=m
+-# CONFIG_TULIP_MWI is not set
+-# CONFIG_TULIP_MMIO is not set
+-CONFIG_TULIP_NAPI=y
+-CONFIG_TULIP_NAPI_HW_MITIGATION=y
+-CONFIG_WINBOND_840=m
+-CONFIG_DM9102=m
+-CONFIG_ULI526X=m
+-CONFIG_NET_VENDOR_DLINK=y
+-CONFIG_DL2K=m
+-CONFIG_SUNDANCE=m
+-# CONFIG_SUNDANCE_MMIO is not set
++# CONFIG_NET_VENDOR_DEC is not set
++# CONFIG_NET_VENDOR_DLINK is not set
+ CONFIG_NET_VENDOR_EMULEX=y
+ CONFIG_BE2NET=m
+ CONFIG_BE2NET_HWMON=y
+@@ -2680,31 +2646,13 @@
+ CONFIG_HNS3_ENET=m
+ CONFIG_NET_VENDOR_HP=y
+ # CONFIG_HP100 is not set
+-CONFIG_NET_VENDOR_HUAWEI=y
+-CONFIG_HINIC=m
+-CONFIG_NET_VENDOR_I825XX=y
+-CONFIG_NET_VENDOR_INTEL=y
+-CONFIG_E100=m
+-CONFIG_E1000=m
+-CONFIG_E1000E=m
+-CONFIG_IGB=m
+-CONFIG_IGB_HWMON=y
+-CONFIG_IGBVF=m
+-CONFIG_IXGB=m
+-CONFIG_IXGBE=m
+-CONFIG_IXGBE_HWMON=y
+-CONFIG_IXGBE_DCB=y
+-CONFIG_IXGBEVF=m
+-CONFIG_I40E=m
+-CONFIG_I40E_DCB=y
+-CONFIG_I40EVF=m
+-CONFIG_ICE=m
+-# CONFIG_FM10K is not set
++# CONFIG_NET_VENDOR_HUAWEI is not set
++# CONFIG_NET_VENDOR_INTEL is not set
+ CONFIG_JME=m
+ CONFIG_NET_VENDOR_MARVELL=y
+-CONFIG_MVMDIO=m
++CONFIG_MVMDIO=y
+ CONFIG_MVNETA=m
+-CONFIG_MVPP2=m
++CONFIG_MVPP2=y
+ CONFIG_SKGE=m
+ # CONFIG_SKGE_DEBUG is not set
+ CONFIG_SKGE_GENESIS=y
+@@ -2729,35 +2677,19 @@
+ # CONFIG_MLX5_EN_IPSEC is not set
+ # CONFIG_MLXSW_CORE is not set
+ CONFIG_MLXFW=m
+-CONFIG_NET_VENDOR_MICREL=y
+-# CONFIG_KS8842 is not set
+-# CONFIG_KS8851 is not set
+-# CONFIG_KS8851_MLL is not set
+-CONFIG_KSZ884X_PCI=m
+-CONFIG_NET_VENDOR_MICROCHIP=y
+-# CONFIG_ENC28J60 is not set
+-# CONFIG_ENCX24J600 is not set
+-CONFIG_LAN743X=m
+-CONFIG_NET_VENDOR_MICROSEMI=y
+-# CONFIG_MSCC_OCELOT_SWITCH is not set
+-CONFIG_NET_VENDOR_MYRI=y
+-CONFIG_MYRI10GE=m
++# CONFIG_NET_VENDOR_MICREL is not set
++# CONFIG_NET_VENDOR_MICROCHIP is not set
++# CONFIG_NET_VENDOR_MICROSEMI is not set
++# CONFIG_NET_VENDOR_MYRI is not set
+ CONFIG_FEALNX=m
+-CONFIG_NET_VENDOR_NATSEMI=y
+-CONFIG_NATSEMI=m
+-CONFIG_NS83820=m
+-CONFIG_NET_VENDOR_NETERION=y
+-CONFIG_S2IO=m
+-CONFIG_VXGE=m
+-# CONFIG_VXGE_DEBUG_TRACE_ALL is not set
++# CONFIG_NET_VENDOR_NATSEMI is not set
++# CONFIG_NET_VENDOR_NETERION is not set
+ CONFIG_NET_VENDOR_NETRONOME=y
+ CONFIG_NFP=m
+ CONFIG_NFP_APP_FLOWER=y
+ CONFIG_NFP_APP_ABM_NIC=y
+ # CONFIG_NFP_DEBUG is not set
+ CONFIG_NET_VENDOR_NI=y
+-CONFIG_NET_VENDOR_8390=y
+-CONFIG_NE2K_PCI=m
+ CONFIG_NET_VENDOR_NVIDIA=y
+ # CONFIG_FORCEDETH is not set
+ CONFIG_NET_VENDOR_OKI=y
+@@ -2777,7 +2709,6 @@
+ CONFIG_QED_LL2=y
+ CONFIG_QED_SRIOV=y
+ CONFIG_QEDE=m
+-CONFIG_QED_RDMA=y
+ CONFIG_QED_ISCSI=y
+ CONFIG_QED_FCOE=y
+ CONFIG_QED_OOO=y
+@@ -2857,8 +2788,8 @@
+ CONFIG_SKFP=m
+ # CONFIG_HIPPI is not set
+ # CONFIG_NET_SB1000 is not set
+-CONFIG_MDIO_DEVICE=m
+-CONFIG_MDIO_BUS=m
++CONFIG_MDIO_DEVICE=y
++CONFIG_MDIO_BUS=y
+ # CONFIG_MDIO_BCM_UNIMAC is not set
+ # CONFIG_MDIO_BITBANG is not set
+ CONFIG_MDIO_BUS_MUX=m
+@@ -2872,8 +2803,8 @@
+ # CONFIG_MDIO_SUN4I is not set
+ CONFIG_MDIO_THUNDER=m
+ CONFIG_MDIO_XGENE=m
+-CONFIG_PHYLINK=m
+-CONFIG_PHYLIB=m
++CONFIG_PHYLINK=y
++CONFIG_PHYLIB=y
+ CONFIG_SWPHY=y
+ CONFIG_LED_TRIGGER_PHY=y
+ 
+@@ -2896,12 +2827,12 @@
+ CONFIG_DP83TC811_PHY=m
+ CONFIG_DP83848_PHY=m
+ CONFIG_DP83867_PHY=m
+-CONFIG_FIXED_PHY=m
++CONFIG_FIXED_PHY=y
+ CONFIG_ICPLUS_PHY=m
+ # CONFIG_INTEL_XWAY_PHY is not set
+ CONFIG_LSI_ET1011C_PHY=m
+ CONFIG_LXT_PHY=m
+-CONFIG_MARVELL_PHY=m
++CONFIG_MARVELL_PHY=y
+ CONFIG_MARVELL_10G_PHY=m
+ CONFIG_MESON_GXL_PHY=m
+ CONFIG_MICREL_PHY=m
+@@ -2969,11 +2900,11 @@
+ CONFIG_USB_NET_CDC_SUBSET_ENABLE=m
+ CONFIG_USB_NET_CDC_SUBSET=m
+ CONFIG_USB_ALI_M5632=y
+-CONFIG_USB_AN2720=y
+-CONFIG_USB_BELKIN=y
+-CONFIG_USB_ARMLINUX=y
+-CONFIG_USB_EPSON2888=y
+-CONFIG_USB_KC2190=y
++# CONFIG_USB_AN2720 is not set
++# CONFIG_USB_BELKIN is not set
++# CONFIG_USB_ARMLINUX is not set
++# CONFIG_USB_EPSON2888 is not set
++# CONFIG_USB_KC2190 is not set
+ CONFIG_USB_NET_ZAURUS=m
+ CONFIG_USB_NET_CX82310_ETH=m
+ CONFIG_USB_NET_KALMIA=m
+@@ -2985,248 +2916,7 @@
+ CONFIG_USB_SIERRA_NET=m
+ CONFIG_USB_VL600=m
+ CONFIG_USB_NET_CH9200=m
+-CONFIG_WLAN=y
+-# CONFIG_WIRELESS_WDS is not set
+-CONFIG_WLAN_VENDOR_ADMTEK=y
+-CONFIG_ADM8211=m
+-CONFIG_ATH_COMMON=m
+-CONFIG_WLAN_VENDOR_ATH=y
+-# CONFIG_ATH_DEBUG is not set
+-CONFIG_ATH5K=m
+-# CONFIG_ATH5K_DEBUG is not set
+-# CONFIG_ATH5K_TRACER is not set
+-CONFIG_ATH5K_PCI=y
+-CONFIG_ATH9K_HW=m
+-CONFIG_ATH9K_COMMON=m
+-CONFIG_ATH9K_BTCOEX_SUPPORT=y
+-CONFIG_ATH9K=m
+-CONFIG_ATH9K_PCI=y
+-# CONFIG_ATH9K_AHB is not set
+-# CONFIG_ATH9K_DEBUGFS is not set
+-# CONFIG_ATH9K_DYNACK is not set
+-# CONFIG_ATH9K_WOW is not set
+-CONFIG_ATH9K_RFKILL=y
+-CONFIG_ATH9K_CHANNEL_CONTEXT=y
+-CONFIG_ATH9K_PCOEM=y
+-CONFIG_ATH9K_HTC=m
+-# CONFIG_ATH9K_HTC_DEBUGFS is not set
+-# CONFIG_ATH9K_HWRNG is not set
+-CONFIG_CARL9170=m
+-CONFIG_CARL9170_LEDS=y
+-CONFIG_CARL9170_WPC=y
+-# CONFIG_CARL9170_HWRNG is not set
+-CONFIG_ATH6KL=m
+-CONFIG_ATH6KL_SDIO=m
+-CONFIG_ATH6KL_USB=m
+-# CONFIG_ATH6KL_DEBUG is not set
+-# CONFIG_ATH6KL_TRACING is not set
+-CONFIG_AR5523=m
+-CONFIG_WIL6210=m
+-CONFIG_WIL6210_ISR_COR=y
+-CONFIG_WIL6210_TRACING=y
+-CONFIG_WIL6210_DEBUGFS=y
+-CONFIG_ATH10K=m
+-CONFIG_ATH10K_CE=y
+-CONFIG_ATH10K_PCI=m
+-# CONFIG_ATH10K_AHB is not set
+-# CONFIG_ATH10K_SDIO is not set
+-CONFIG_ATH10K_USB=m
+-# CONFIG_ATH10K_SNOC is not set
+-# CONFIG_ATH10K_DEBUG is not set
+-# CONFIG_ATH10K_DEBUGFS is not set
+-# CONFIG_ATH10K_TRACING is not set
+-CONFIG_WCN36XX=m
+-# CONFIG_WCN36XX_DEBUGFS is not set
+-CONFIG_WLAN_VENDOR_ATMEL=y
+-# CONFIG_ATMEL is not set
+-CONFIG_AT76C50X_USB=m
+-CONFIG_WLAN_VENDOR_BROADCOM=y
+-CONFIG_B43=m
+-CONFIG_B43_BCMA=y
+-CONFIG_B43_SSB=y
+-CONFIG_B43_BUSES_BCMA_AND_SSB=y
+-# CONFIG_B43_BUSES_BCMA is not set
+-# CONFIG_B43_BUSES_SSB is not set
+-CONFIG_B43_PCI_AUTOSELECT=y
+-CONFIG_B43_PCICORE_AUTOSELECT=y
+-CONFIG_B43_SDIO=y
+-CONFIG_B43_BCMA_PIO=y
+-CONFIG_B43_PIO=y
+-CONFIG_B43_PHY_G=y
+-CONFIG_B43_PHY_N=y
+-CONFIG_B43_PHY_LP=y
+-CONFIG_B43_PHY_HT=y
+-CONFIG_B43_LEDS=y
+-CONFIG_B43_HWRNG=y
+-# CONFIG_B43_DEBUG is not set
+-CONFIG_B43LEGACY=m
+-CONFIG_B43LEGACY_PCI_AUTOSELECT=y
+-CONFIG_B43LEGACY_PCICORE_AUTOSELECT=y
+-CONFIG_B43LEGACY_LEDS=y
+-CONFIG_B43LEGACY_HWRNG=y
+-CONFIG_B43LEGACY_DEBUG=y
+-CONFIG_B43LEGACY_DMA=y
+-CONFIG_B43LEGACY_PIO=y
+-CONFIG_B43LEGACY_DMA_AND_PIO_MODE=y
+-# CONFIG_B43LEGACY_DMA_MODE is not set
+-# CONFIG_B43LEGACY_PIO_MODE is not set
+-CONFIG_BRCMUTIL=m
+-CONFIG_BRCMSMAC=m
+-CONFIG_BRCMFMAC=m
+-CONFIG_BRCMFMAC_PROTO_BCDC=y
+-CONFIG_BRCMFMAC_PROTO_MSGBUF=y
+-CONFIG_BRCMFMAC_SDIO=y
+-CONFIG_BRCMFMAC_USB=y
+-CONFIG_BRCMFMAC_PCIE=y
+-# CONFIG_BRCM_TRACING is not set
+-# CONFIG_BRCMDBG is not set
+-CONFIG_WLAN_VENDOR_CISCO=y
+-CONFIG_WLAN_VENDOR_INTEL=y
+-# CONFIG_IPW2100 is not set
+-CONFIG_IPW2200=m
+-CONFIG_IPW2200_MONITOR=y
+-CONFIG_IPW2200_RADIOTAP=y
+-CONFIG_IPW2200_PROMISCUOUS=y
+-CONFIG_IPW2200_QOS=y
+-# CONFIG_IPW2200_DEBUG is not set
+-CONFIG_LIBIPW=m
+-# CONFIG_LIBIPW_DEBUG is not set
+-CONFIG_IWLEGACY=m
+-CONFIG_IWL4965=m
+-CONFIG_IWL3945=m
+-
+-#
+-# iwl3945 / iwl4965 Debugging Options
+-#
+-# CONFIG_IWLEGACY_DEBUG is not set
+-CONFIG_IWLWIFI=m
+-CONFIG_IWLWIFI_LEDS=y
+-CONFIG_IWLDVM=m
+-CONFIG_IWLMVM=m
+-CONFIG_IWLWIFI_OPMODE_MODULAR=y
+-# CONFIG_IWLWIFI_BCAST_FILTERING is not set
+-# CONFIG_IWLWIFI_PCIE_RTPM is not set
+-
+-#
+-# Debugging Options
+-#
+-# CONFIG_IWLWIFI_DEBUG is not set
+-# CONFIG_IWLWIFI_DEVICE_TRACING is not set
+-CONFIG_WLAN_VENDOR_INTERSIL=y
+-CONFIG_HOSTAP=m
+-CONFIG_HOSTAP_FIRMWARE=y
+-# CONFIG_HOSTAP_FIRMWARE_NVRAM is not set
+-CONFIG_HOSTAP_PLX=m
+-CONFIG_HOSTAP_PCI=m
+-# CONFIG_HERMES is not set
+-CONFIG_P54_COMMON=m
+-CONFIG_P54_USB=m
+-CONFIG_P54_PCI=m
+-# CONFIG_P54_SPI is not set
+-CONFIG_P54_LEDS=y
+-# CONFIG_PRISM54 is not set
+-CONFIG_WLAN_VENDOR_MARVELL=y
+-CONFIG_LIBERTAS=m
+-CONFIG_LIBERTAS_USB=m
+-CONFIG_LIBERTAS_SDIO=m
+-# CONFIG_LIBERTAS_SPI is not set
+-# CONFIG_LIBERTAS_DEBUG is not set
+-CONFIG_LIBERTAS_MESH=y
+-CONFIG_LIBERTAS_THINFIRM=m
+-# CONFIG_LIBERTAS_THINFIRM_DEBUG is not set
+-CONFIG_LIBERTAS_THINFIRM_USB=m
+-CONFIG_MWIFIEX=m
+-# CONFIG_MWIFIEX_SDIO is not set
+-CONFIG_MWIFIEX_PCIE=m
+-# CONFIG_MWIFIEX_USB is not set
+-CONFIG_MWL8K=m
+-CONFIG_WLAN_VENDOR_MEDIATEK=y
+-CONFIG_MT7601U=m
+-CONFIG_MT76_CORE=m
+-CONFIG_MT76_LEDS=y
+-CONFIG_MT76_USB=m
+-CONFIG_MT76x2_COMMON=m
+-CONFIG_MT76x0U=m
+-CONFIG_MT76x2E=m
+-CONFIG_MT76x2U=m
+-CONFIG_WLAN_VENDOR_RALINK=y
+-CONFIG_RT2X00=m
+-CONFIG_RT2400PCI=m
+-CONFIG_RT2500PCI=m
+-CONFIG_RT61PCI=m
+-CONFIG_RT2800PCI=m
+-CONFIG_RT2800PCI_RT33XX=y
+-CONFIG_RT2800PCI_RT35XX=y
+-CONFIG_RT2800PCI_RT53XX=y
+-CONFIG_RT2800PCI_RT3290=y
+-CONFIG_RT2500USB=m
+-CONFIG_RT73USB=m
+-CONFIG_RT2800USB=m
+-CONFIG_RT2800USB_RT33XX=y
+-CONFIG_RT2800USB_RT35XX=y
+-CONFIG_RT2800USB_RT3573=y
+-CONFIG_RT2800USB_RT53XX=y
+-CONFIG_RT2800USB_RT55XX=y
+-# CONFIG_RT2800USB_UNKNOWN is not set
+-CONFIG_RT2800_LIB=m
+-CONFIG_RT2800_LIB_MMIO=m
+-CONFIG_RT2X00_LIB_MMIO=m
+-CONFIG_RT2X00_LIB_PCI=m
+-CONFIG_RT2X00_LIB_USB=m
+-CONFIG_RT2X00_LIB=m
+-CONFIG_RT2X00_LIB_FIRMWARE=y
+-CONFIG_RT2X00_LIB_CRYPTO=y
+-CONFIG_RT2X00_LIB_LEDS=y
+-# CONFIG_RT2X00_DEBUG is not set
+-CONFIG_WLAN_VENDOR_REALTEK=y
+-CONFIG_RTL8180=m
+-CONFIG_RTL8187=m
+-CONFIG_RTL8187_LEDS=y
+-CONFIG_RTL_CARDS=m
+-CONFIG_RTL8192CE=m
+-CONFIG_RTL8192SE=m
+-CONFIG_RTL8192DE=m
+-CONFIG_RTL8723AE=m
+-CONFIG_RTL8723BE=m
+-CONFIG_RTL8188EE=m
+-CONFIG_RTL8192EE=m
+-CONFIG_RTL8821AE=m
+-CONFIG_RTL8192CU=m
+-CONFIG_RTLWIFI=m
+-CONFIG_RTLWIFI_PCI=m
+-CONFIG_RTLWIFI_USB=m
+-# CONFIG_RTLWIFI_DEBUG is not set
+-CONFIG_RTL8192C_COMMON=m
+-CONFIG_RTL8723_COMMON=m
+-CONFIG_RTLBTCOEXIST=m
+-CONFIG_RTL8XXXU=m
+-# CONFIG_RTL8XXXU_UNTESTED is not set
+-CONFIG_WLAN_VENDOR_RSI=y
+-CONFIG_RSI_91X=m
+-CONFIG_RSI_DEBUGFS=y
+-# CONFIG_RSI_SDIO is not set
+-CONFIG_RSI_USB=m
+-CONFIG_RSI_COEX=y
+-CONFIG_WLAN_VENDOR_ST=y
+-# CONFIG_CW1200 is not set
+-CONFIG_WLAN_VENDOR_TI=y
+-CONFIG_WL1251=m
+-CONFIG_WL1251_SPI=m
+-CONFIG_WL1251_SDIO=m
+-CONFIG_WL12XX=m
+-CONFIG_WL18XX=m
+-CONFIG_WLCORE=m
+-CONFIG_WLCORE_SPI=m
+-CONFIG_WLCORE_SDIO=m
+-CONFIG_WILINK_PLATFORM_DATA=y
+-CONFIG_WLAN_VENDOR_ZYDAS=y
+-# CONFIG_USB_ZD1201 is not set
+-CONFIG_ZD1211RW=m
+-# CONFIG_ZD1211RW_DEBUG is not set
+-CONFIG_WLAN_VENDOR_QUANTENNA=y
+-# CONFIG_QTNFMAC_PEARL_PCIE is not set
+-CONFIG_MAC80211_HWSIM=m
+-CONFIG_USB_NET_RNDIS_WLAN=m
++# CONFIG_WLAN is not set
+ 
+ #
+ # WiMAX Wireless Broadband devices
+@@ -3247,7 +2937,6 @@
+ # CONFIG_IEEE802154_MCR20A is not set
+ CONFIG_IEEE802154_HWSIM=m
+ CONFIG_XEN_NETDEV_FRONTEND=m
+-CONFIG_XEN_NETDEV_BACKEND=m
+ # CONFIG_VMXNET3 is not set
+ # CONFIG_FUJITSU_ES is not set
+ # CONFIG_NETDEVSIM is not set
+@@ -3338,106 +3027,8 @@
+ CONFIG_MOUSE_SYNAPTICS_I2C=m
+ CONFIG_MOUSE_SYNAPTICS_USB=m
+ # CONFIG_INPUT_JOYSTICK is not set
+-CONFIG_INPUT_TABLET=y
+-CONFIG_TABLET_USB_ACECAD=m
+-CONFIG_TABLET_USB_AIPTEK=m
+-CONFIG_TABLET_USB_GTCO=m
+-CONFIG_TABLET_USB_HANWANG=m
+-CONFIG_TABLET_USB_KBTAB=m
+-CONFIG_TABLET_USB_PEGASUS=m
+-CONFIG_TABLET_SERIAL_WACOM4=m
+-CONFIG_INPUT_TOUCHSCREEN=y
+-CONFIG_TOUCHSCREEN_PROPERTIES=y
+-CONFIG_TOUCHSCREEN_ADS7846=m
+-CONFIG_TOUCHSCREEN_AD7877=m
+-CONFIG_TOUCHSCREEN_AD7879=m
+-CONFIG_TOUCHSCREEN_AD7879_I2C=m
+-# CONFIG_TOUCHSCREEN_AD7879_SPI is not set
+-# CONFIG_TOUCHSCREEN_ADC is not set
+-# CONFIG_TOUCHSCREEN_AR1021_I2C is not set
+-CONFIG_TOUCHSCREEN_ATMEL_MXT=m
+-CONFIG_TOUCHSCREEN_ATMEL_MXT_T37=y
+-# CONFIG_TOUCHSCREEN_AUO_PIXCIR is not set
+-# CONFIG_TOUCHSCREEN_BU21013 is not set
+-# CONFIG_TOUCHSCREEN_BU21029 is not set
+-# CONFIG_TOUCHSCREEN_CHIPONE_ICN8318 is not set
+-# CONFIG_TOUCHSCREEN_CHIPONE_ICN8505 is not set
+-# CONFIG_TOUCHSCREEN_CY8CTMG110 is not set
+-# CONFIG_TOUCHSCREEN_CYTTSP_CORE is not set
+-# CONFIG_TOUCHSCREEN_CYTTSP4_CORE is not set
+-CONFIG_TOUCHSCREEN_DYNAPRO=m
+-CONFIG_TOUCHSCREEN_HAMPSHIRE=m
+-CONFIG_TOUCHSCREEN_EETI=m
+-# CONFIG_TOUCHSCREEN_EGALAX is not set
+-# CONFIG_TOUCHSCREEN_EGALAX_SERIAL is not set
+-# CONFIG_TOUCHSCREEN_EXC3000 is not set
+-CONFIG_TOUCHSCREEN_FUJITSU=m
+-CONFIG_TOUCHSCREEN_GOODIX=m
+-# CONFIG_TOUCHSCREEN_HIDEEP is not set
+-# CONFIG_TOUCHSCREEN_ILI210X is not set
+-# CONFIG_TOUCHSCREEN_S6SY761 is not set
+-CONFIG_TOUCHSCREEN_GUNZE=m
+-# CONFIG_TOUCHSCREEN_EKTF2127 is not set
+-CONFIG_TOUCHSCREEN_ELAN=m
+-CONFIG_TOUCHSCREEN_ELO=m
+-CONFIG_TOUCHSCREEN_WACOM_W8001=m
+-# CONFIG_TOUCHSCREEN_WACOM_I2C is not set
+-# CONFIG_TOUCHSCREEN_MAX11801 is not set
+-CONFIG_TOUCHSCREEN_MCS5000=m
+-# CONFIG_TOUCHSCREEN_MMS114 is not set
+-# CONFIG_TOUCHSCREEN_MELFAS_MIP4 is not set
+-CONFIG_TOUCHSCREEN_MTOUCH=m
+-# CONFIG_TOUCHSCREEN_IMX6UL_TSC is not set
+-CONFIG_TOUCHSCREEN_INEXIO=m
+-CONFIG_TOUCHSCREEN_MK712=m
+-CONFIG_TOUCHSCREEN_PENMOUNT=m
+-# CONFIG_TOUCHSCREEN_EDT_FT5X06 is not set
+-CONFIG_TOUCHSCREEN_TOUCHRIGHT=m
+-CONFIG_TOUCHSCREEN_TOUCHWIN=m
+-# CONFIG_TOUCHSCREEN_PIXCIR is not set
+-# CONFIG_TOUCHSCREEN_WDT87XX_I2C is not set
+-CONFIG_TOUCHSCREEN_WM97XX=m
+-CONFIG_TOUCHSCREEN_WM9705=y
+-CONFIG_TOUCHSCREEN_WM9712=y
+-CONFIG_TOUCHSCREEN_WM9713=y
+-CONFIG_TOUCHSCREEN_USB_COMPOSITE=m
+-CONFIG_TOUCHSCREEN_USB_EGALAX=y
+-CONFIG_TOUCHSCREEN_USB_PANJIT=y
+-CONFIG_TOUCHSCREEN_USB_3M=y
+-CONFIG_TOUCHSCREEN_USB_ITM=y
+-CONFIG_TOUCHSCREEN_USB_ETURBO=y
+-CONFIG_TOUCHSCREEN_USB_GUNZE=y
+-CONFIG_TOUCHSCREEN_USB_DMC_TSC10=y
+-CONFIG_TOUCHSCREEN_USB_IRTOUCH=y
+-CONFIG_TOUCHSCREEN_USB_IDEALTEK=y
+-CONFIG_TOUCHSCREEN_USB_GENERAL_TOUCH=y
+-CONFIG_TOUCHSCREEN_USB_GOTOP=y
+-CONFIG_TOUCHSCREEN_USB_JASTEC=y
+-CONFIG_TOUCHSCREEN_USB_ELO=y
+-CONFIG_TOUCHSCREEN_USB_E2I=y
+-CONFIG_TOUCHSCREEN_USB_ZYTRONIC=y
+-CONFIG_TOUCHSCREEN_USB_ETT_TC45USB=y
+-CONFIG_TOUCHSCREEN_USB_NEXIO=y
+-CONFIG_TOUCHSCREEN_USB_EASYTOUCH=y
+-CONFIG_TOUCHSCREEN_TOUCHIT213=m
+-# CONFIG_TOUCHSCREEN_TSC_SERIO is not set
+-# CONFIG_TOUCHSCREEN_TSC2004 is not set
+-# CONFIG_TOUCHSCREEN_TSC2005 is not set
+-CONFIG_TOUCHSCREEN_TSC2007=m
+-# CONFIG_TOUCHSCREEN_TSC2007_IIO is not set
+-# CONFIG_TOUCHSCREEN_RM_TS is not set
+-# CONFIG_TOUCHSCREEN_SILEAD is not set
+-# CONFIG_TOUCHSCREEN_SIS_I2C is not set
+-# CONFIG_TOUCHSCREEN_ST1232 is not set
+-# CONFIG_TOUCHSCREEN_STMFTS is not set
+-# CONFIG_TOUCHSCREEN_SUN4I is not set
+-CONFIG_TOUCHSCREEN_SUR40=m
+-# CONFIG_TOUCHSCREEN_SURFACE3_SPI is not set
+-# CONFIG_TOUCHSCREEN_SX8654 is not set
+-CONFIG_TOUCHSCREEN_TPS6507X=m
+-# CONFIG_TOUCHSCREEN_ZET6223 is not set
+-# CONFIG_TOUCHSCREEN_ZFORCE is not set
+-# CONFIG_TOUCHSCREEN_ROHM_BU21023 is not set
++# CONFIG_INPUT_TABLET is not set
++# CONFIG_INPUT_TOUCHSCREEN is not set
+ CONFIG_INPUT_MISC=y
+ # CONFIG_INPUT_AD714X is not set
+ # CONFIG_INPUT_ATMEL_CAPTOUCH is not set
+@@ -3482,8 +3073,7 @@
+ CONFIG_RMI4_F11=y
+ CONFIG_RMI4_F12=y
+ CONFIG_RMI4_F30=y
+-CONFIG_RMI4_F34=y
+-# CONFIG_RMI4_F54 is not set
++# CONFIG_RMI4_F34 is not set
+ CONFIG_RMI4_F55=y
+ 
+ #
+@@ -3657,7 +3247,7 @@
+ # CONFIG_I2C_MUX_PINCTRL is not set
+ # CONFIG_I2C_MUX_REG is not set
+ # CONFIG_I2C_DEMUX_PINCTRL is not set
+-# CONFIG_I2C_MUX_MLXCPLD is not set
++CONFIG_I2C_MUX_MLXCPLD=m
+ CONFIG_I2C_HELPER_AUTO=y
+ CONFIG_I2C_SMBUS=m
+ CONFIG_I2C_ALGOBIT=m
+@@ -3850,8 +3440,8 @@
+ CONFIG_PINCTRL_MSM8996=y
+ # CONFIG_PINCTRL_MSM8998 is not set
+ # CONFIG_PINCTRL_QDF2XXX is not set
+-CONFIG_PINCTRL_QCOM_SPMI_PMIC=y
+-CONFIG_PINCTRL_QCOM_SSBI_PMIC=y
++CONFIG_PINCTRL_QCOM_SPMI_PMIC=m
++CONFIG_PINCTRL_QCOM_SSBI_PMIC=m
+ # CONFIG_PINCTRL_SDM845 is not set
+ CONFIG_PINCTRL_SUNXI=y
+ CONFIG_PINCTRL_SUN8I_H3_R=y
+@@ -3860,9 +3450,6 @@
+ CONFIG_PINCTRL_SUN50I_H5=y
+ CONFIG_PINCTRL_SUN50I_H6=y
+ CONFIG_PINCTRL_SUN50I_H6_R=y
+-CONFIG_PINCTRL_TEGRA=y
+-CONFIG_PINCTRL_TEGRA124=y
+-CONFIG_PINCTRL_TEGRA210=y
+ CONFIG_PINCTRL_TEGRA_XUSB=y
+ CONFIG_PINCTRL_MESON=y
+ CONFIG_PINCTRL_MESON_GXBB=y
+@@ -3902,7 +3489,7 @@
+ CONFIG_GPIO_XGENE=y
+ CONFIG_GPIO_XGENE_SB=m
+ # CONFIG_GPIO_XILINX is not set
+-CONFIG_GPIO_XLP=y
++CONFIG_GPIO_XLP=m
+ CONFIG_GPIO_ZYNQ=m
+ 
+ #
+@@ -3920,11 +3507,12 @@
+ #
+ # MFD GPIO expanders
+ #
+-CONFIG_GPIO_MAX77620=y
++CONFIG_GPIO_MAX77620=m
+ 
+ #
+ # PCI GPIO expanders
+ #
++CONFIG_GPIO_BT8XX=y
+ CONFIG_GPIO_PCI_IDIO_16=m
+ CONFIG_GPIO_PCIE_IDIO_24=m
+ # CONFIG_GPIO_RDC321X is not set
+@@ -4095,6 +3683,7 @@
+ CONFIG_SENSORS_MAX6639=m
+ CONFIG_SENSORS_MAX6642=m
+ CONFIG_SENSORS_MAX6650=m
++CONFIG_SENSORS_MAX6620=m
+ # CONFIG_SENSORS_MAX6697 is not set
+ # CONFIG_SENSORS_MAX31790 is not set
+ # CONFIG_SENSORS_MCP3021 is not set
+@@ -4280,10 +3869,8 @@
+ CONFIG_SSB_POSSIBLE=y
+ CONFIG_SSB=m
+ CONFIG_SSB_SPROM=y
+-CONFIG_SSB_BLOCKIO=y
+ CONFIG_SSB_PCIHOST_POSSIBLE=y
+ CONFIG_SSB_PCIHOST=y
+-CONFIG_SSB_B43_PCI_BRIDGE=y
+ CONFIG_SSB_SDIOHOST_POSSIBLE=y
+ CONFIG_SSB_SDIOHOST=y
+ CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=y
+@@ -4291,7 +3878,6 @@
+ # CONFIG_SSB_DRIVER_GPIO is not set
+ CONFIG_BCMA_POSSIBLE=y
+ CONFIG_BCMA=m
+-CONFIG_BCMA_BLOCKIO=y
+ CONFIG_BCMA_HOST_PCI_POSSIBLE=y
+ CONFIG_BCMA_HOST_PCI=y
+ # CONFIG_BCMA_HOST_SOC is not set
+@@ -4358,7 +3944,6 @@
+ CONFIG_MFD_VIPERBOARD=m
+ # CONFIG_MFD_RETU is not set
+ # CONFIG_MFD_PCF50633 is not set
+-# CONFIG_UCB1400_CORE is not set
+ CONFIG_MFD_QCOM_RPM=m
+ CONFIG_MFD_SPMI_PMIC=m
+ # CONFIG_MFD_RDC321X is not set
+@@ -4459,704 +4044,70 @@
+ # CONFIG_REGULATOR_TPS6524X is not set
+ CONFIG_REGULATOR_VCTRL=m
+ # CONFIG_REGULATOR_VEXPRESS is not set
+-CONFIG_CEC_CORE=m
+ CONFIG_RC_CORE=m
+ CONFIG_RC_MAP=m
+-CONFIG_LIRC=y
+-CONFIG_RC_DECODERS=y
+-CONFIG_IR_NEC_DECODER=m
+-CONFIG_IR_RC5_DECODER=m
+-CONFIG_IR_RC6_DECODER=m
+-CONFIG_IR_JVC_DECODER=m
+-CONFIG_IR_SONY_DECODER=m
+-CONFIG_IR_SANYO_DECODER=m
+-CONFIG_IR_SHARP_DECODER=m
+-CONFIG_IR_MCE_KBD_DECODER=m
+-CONFIG_IR_XMP_DECODER=m
+-CONFIG_IR_IMON_DECODER=m
+-CONFIG_RC_DEVICES=y
+-CONFIG_RC_ATI_REMOTE=m
+-CONFIG_IR_ENE=m
+-# CONFIG_IR_HIX5HD2 is not set
+-CONFIG_IR_IMON=m
+-CONFIG_IR_IMON_RAW=m
+-CONFIG_IR_MCEUSB=m
+-# CONFIG_IR_ITE_CIR is not set
+-# CONFIG_IR_FINTEK is not set
+-# CONFIG_IR_MESON is not set
+-# CONFIG_IR_NUVOTON is not set
+-CONFIG_IR_REDRAT3=m
+-# CONFIG_IR_SPI is not set
+-CONFIG_IR_STREAMZAP=m
+-CONFIG_IR_IGORPLUGUSB=m
+-CONFIG_IR_IGUANA=m
+-CONFIG_IR_TTUSBIR=m
+-CONFIG_RC_LOOPBACK=m
+-# CONFIG_IR_GPIO_CIR is not set
+-# CONFIG_IR_GPIO_TX is not set
+-# CONFIG_IR_PWM_TX is not set
+-# CONFIG_IR_SUNXI is not set
+-# CONFIG_IR_SERIAL is not set
+-# CONFIG_IR_SIR is not set
++# CONFIG_LIRC is not set
++# CONFIG_RC_DECODERS is not set
++# CONFIG_RC_DEVICES is not set
+ CONFIG_MEDIA_SUPPORT=m
+ 
+ #
+ # Multimedia core support
+ #
+-CONFIG_MEDIA_CAMERA_SUPPORT=y
+-CONFIG_MEDIA_ANALOG_TV_SUPPORT=y
+-CONFIG_MEDIA_DIGITAL_TV_SUPPORT=y
+-CONFIG_MEDIA_RADIO_SUPPORT=y
+-CONFIG_MEDIA_SDR_SUPPORT=y
+-CONFIG_MEDIA_CEC_SUPPORT=y
+-# CONFIG_MEDIA_CEC_RC is not set
+-CONFIG_MEDIA_CONTROLLER=y
+-# CONFIG_MEDIA_CONTROLLER_DVB is not set
+-CONFIG_VIDEO_DEV=m
+-# CONFIG_VIDEO_V4L2_SUBDEV_API is not set
+-CONFIG_VIDEO_V4L2=m
++# CONFIG_MEDIA_CAMERA_SUPPORT is not set
++# CONFIG_MEDIA_ANALOG_TV_SUPPORT is not set
++# CONFIG_MEDIA_DIGITAL_TV_SUPPORT is not set
++# CONFIG_MEDIA_RADIO_SUPPORT is not set
++# CONFIG_MEDIA_SDR_SUPPORT is not set
++# CONFIG_MEDIA_CEC_SUPPORT is not set
+ # CONFIG_VIDEO_ADV_DEBUG is not set
+ # CONFIG_VIDEO_FIXED_MINOR_RANGES is not set
+-# CONFIG_VIDEO_PCI_SKELETON is not set
+-CONFIG_VIDEO_TUNER=m
+-CONFIG_V4L2_MEM2MEM_DEV=m
+-CONFIG_V4L2_FWNODE=m
+-CONFIG_VIDEOBUF_GEN=m
+-CONFIG_VIDEOBUF_DMA_SG=m
+-CONFIG_VIDEOBUF_VMALLOC=m
+-CONFIG_DVB_CORE=m
+-# CONFIG_DVB_MMAP is not set
+-CONFIG_DVB_NET=y
+-CONFIG_TTPCI_EEPROM=m
+-CONFIG_DVB_MAX_ADAPTERS=16
+-CONFIG_DVB_DYNAMIC_MINORS=y
+-# CONFIG_DVB_DEMUX_SECTION_LOSS_LOG is not set
+-# CONFIG_DVB_ULE_DEBUG is not set
+ 
+ #
+ # Media drivers
+ #
+ CONFIG_MEDIA_USB_SUPPORT=y
+-
+-#
+-# Webcam devices
+-#
+-CONFIG_USB_VIDEO_CLASS=m
+-CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
+-CONFIG_USB_GSPCA=m
+-CONFIG_USB_M5602=m
+-CONFIG_USB_STV06XX=m
+-CONFIG_USB_GL860=m
+-CONFIG_USB_GSPCA_BENQ=m
+-CONFIG_USB_GSPCA_CONEX=m
+-CONFIG_USB_GSPCA_CPIA1=m
+-CONFIG_USB_GSPCA_DTCS033=m
+-CONFIG_USB_GSPCA_ETOMS=m
+-CONFIG_USB_GSPCA_FINEPIX=m
+-CONFIG_USB_GSPCA_JEILINJ=m
+-CONFIG_USB_GSPCA_JL2005BCD=m
+-CONFIG_USB_GSPCA_KINECT=m
+-CONFIG_USB_GSPCA_KONICA=m
+-CONFIG_USB_GSPCA_MARS=m
+-CONFIG_USB_GSPCA_MR97310A=m
+-CONFIG_USB_GSPCA_NW80X=m
+-CONFIG_USB_GSPCA_OV519=m
+-CONFIG_USB_GSPCA_OV534=m
+-CONFIG_USB_GSPCA_OV534_9=m
+-CONFIG_USB_GSPCA_PAC207=m
+-CONFIG_USB_GSPCA_PAC7302=m
+-CONFIG_USB_GSPCA_PAC7311=m
+-CONFIG_USB_GSPCA_SE401=m
+-CONFIG_USB_GSPCA_SN9C2028=m
+-CONFIG_USB_GSPCA_SN9C20X=m
+-CONFIG_USB_GSPCA_SONIXB=m
+-CONFIG_USB_GSPCA_SONIXJ=m
+-CONFIG_USB_GSPCA_SPCA500=m
+-CONFIG_USB_GSPCA_SPCA501=m
+-CONFIG_USB_GSPCA_SPCA505=m
+-CONFIG_USB_GSPCA_SPCA506=m
+-CONFIG_USB_GSPCA_SPCA508=m
+-CONFIG_USB_GSPCA_SPCA561=m
+-CONFIG_USB_GSPCA_SPCA1528=m
+-CONFIG_USB_GSPCA_SQ905=m
+-CONFIG_USB_GSPCA_SQ905C=m
+-CONFIG_USB_GSPCA_SQ930X=m
+-CONFIG_USB_GSPCA_STK014=m
+-CONFIG_USB_GSPCA_STK1135=m
+-CONFIG_USB_GSPCA_STV0680=m
+-CONFIG_USB_GSPCA_SUNPLUS=m
+-CONFIG_USB_GSPCA_T613=m
+-CONFIG_USB_GSPCA_TOPRO=m
+-CONFIG_USB_GSPCA_TOUPTEK=m
+-CONFIG_USB_GSPCA_TV8532=m
+-CONFIG_USB_GSPCA_VC032X=m
+-CONFIG_USB_GSPCA_VICAM=m
+-CONFIG_USB_GSPCA_XIRLINK_CIT=m
+-CONFIG_USB_GSPCA_ZC3XX=m
+-CONFIG_USB_PWC=m
+-# CONFIG_USB_PWC_DEBUG is not set
+-CONFIG_USB_PWC_INPUT_EVDEV=y
+-CONFIG_VIDEO_CPIA2=m
+-CONFIG_USB_ZR364XX=m
+-CONFIG_USB_STKWEBCAM=m
+-CONFIG_USB_S2255=m
+-CONFIG_VIDEO_USBTV=m
+-
+-#
+-# Analog TV USB devices
+-#
+-CONFIG_VIDEO_PVRUSB2=m
+-CONFIG_VIDEO_PVRUSB2_SYSFS=y
+-CONFIG_VIDEO_PVRUSB2_DVB=y
+-# CONFIG_VIDEO_PVRUSB2_DEBUGIFC is not set
+-CONFIG_VIDEO_HDPVR=m
+-CONFIG_VIDEO_USBVISION=m
+-CONFIG_VIDEO_STK1160_COMMON=m
+-CONFIG_VIDEO_STK1160=m
+-CONFIG_VIDEO_GO7007=m
+-CONFIG_VIDEO_GO7007_USB=m
+-CONFIG_VIDEO_GO7007_LOADER=m
+-CONFIG_VIDEO_GO7007_USB_S2250_BOARD=m
+-
+-#
+-# Analog/digital TV USB devices
+-#
+-CONFIG_VIDEO_AU0828=m
+-CONFIG_VIDEO_AU0828_V4L2=y
+-CONFIG_VIDEO_AU0828_RC=y
+-CONFIG_VIDEO_CX231XX=m
+-CONFIG_VIDEO_CX231XX_RC=y
+-CONFIG_VIDEO_CX231XX_ALSA=m
+-CONFIG_VIDEO_CX231XX_DVB=m
+-# CONFIG_VIDEO_TM6000 is not set
+-
+-#
+-# Digital TV USB devices
+-#
+-CONFIG_DVB_USB=m
+-# CONFIG_DVB_USB_DEBUG is not set
+-CONFIG_DVB_USB_DIB3000MC=m
+-CONFIG_DVB_USB_A800=m
+-CONFIG_DVB_USB_DIBUSB_MB=m
+-CONFIG_DVB_USB_DIBUSB_MB_FAULTY=y
+-CONFIG_DVB_USB_DIBUSB_MC=m
+-CONFIG_DVB_USB_DIB0700=m
+-CONFIG_DVB_USB_UMT_010=m
+-CONFIG_DVB_USB_CXUSB=m
+-CONFIG_DVB_USB_M920X=m
+-CONFIG_DVB_USB_DIGITV=m
+-CONFIG_DVB_USB_VP7045=m
+-CONFIG_DVB_USB_VP702X=m
+-CONFIG_DVB_USB_GP8PSK=m
+-CONFIG_DVB_USB_NOVA_T_USB2=m
+-CONFIG_DVB_USB_TTUSB2=m
+-CONFIG_DVB_USB_DTT200U=m
+-CONFIG_DVB_USB_OPERA1=m
+-CONFIG_DVB_USB_AF9005=m
+-CONFIG_DVB_USB_AF9005_REMOTE=m
+-CONFIG_DVB_USB_PCTV452E=m
+-CONFIG_DVB_USB_DW2102=m
+-CONFIG_DVB_USB_CINERGY_T2=m
+-CONFIG_DVB_USB_DTV5100=m
+-CONFIG_DVB_USB_AZ6027=m
+-CONFIG_DVB_USB_TECHNISAT_USB2=m
+-CONFIG_DVB_USB_V2=m
+-CONFIG_DVB_USB_AF9015=m
+-CONFIG_DVB_USB_AF9035=m
+-CONFIG_DVB_USB_ANYSEE=m
+-CONFIG_DVB_USB_AU6610=m
+-CONFIG_DVB_USB_AZ6007=m
+-CONFIG_DVB_USB_CE6230=m
+-CONFIG_DVB_USB_EC168=m
+-CONFIG_DVB_USB_GL861=m
+-CONFIG_DVB_USB_LME2510=m
+-CONFIG_DVB_USB_MXL111SF=m
+-CONFIG_DVB_USB_RTL28XXU=m
+-CONFIG_DVB_USB_DVBSKY=m
+-CONFIG_DVB_USB_ZD1301=m
+-CONFIG_DVB_TTUSB_BUDGET=m
+-CONFIG_DVB_TTUSB_DEC=m
+-CONFIG_SMS_USB_DRV=m
+-CONFIG_DVB_B2C2_FLEXCOP_USB=m
+-# CONFIG_DVB_B2C2_FLEXCOP_USB_DEBUG is not set
+-CONFIG_DVB_AS102=m
+-
+-#
+-# Webcam, TV (analog/digital) USB devices
+-#
+-CONFIG_VIDEO_EM28XX=m
+-CONFIG_VIDEO_EM28XX_V4L2=m
+-CONFIG_VIDEO_EM28XX_ALSA=m
+-CONFIG_VIDEO_EM28XX_DVB=m
+-CONFIG_VIDEO_EM28XX_RC=m
+-
+-#
+-# Software defined radio USB devices
+-#
+-CONFIG_USB_AIRSPY=m
+-CONFIG_USB_HACKRF=m
+-CONFIG_USB_MSI2500=m
+-
+-#
+-# USB HDMI CEC adapters
+-#
+-CONFIG_USB_PULSE8_CEC=m
+-CONFIG_USB_RAINSHADOW_CEC=m
+ CONFIG_MEDIA_PCI_SUPPORT=y
+ 
+ #
+-# Media capture support
+-#
+-CONFIG_VIDEO_SOLO6X10=m
+-CONFIG_VIDEO_TW5864=m
+-CONFIG_VIDEO_TW68=m
+-CONFIG_VIDEO_TW686X=m
+-
+-#
+-# Media capture/analog TV support
+-#
+-CONFIG_VIDEO_IVTV=m
+-# CONFIG_VIDEO_IVTV_DEPRECATED_IOCTLS is not set
+-CONFIG_VIDEO_IVTV_ALSA=m
+-CONFIG_VIDEO_FB_IVTV=m
+-CONFIG_VIDEO_HEXIUM_GEMINI=m
+-CONFIG_VIDEO_HEXIUM_ORION=m
+-CONFIG_VIDEO_MXB=m
+-CONFIG_VIDEO_DT3155=m
+-
+-#
+-# Media capture/analog/hybrid TV support
+-#
+-CONFIG_VIDEO_CX18=m
+-CONFIG_VIDEO_CX18_ALSA=m
+-CONFIG_VIDEO_CX23885=m
+-CONFIG_MEDIA_ALTERA_CI=m
+-# CONFIG_VIDEO_CX25821 is not set
+-CONFIG_VIDEO_CX88=m
+-CONFIG_VIDEO_CX88_ALSA=m
+-CONFIG_VIDEO_CX88_BLACKBIRD=m
+-CONFIG_VIDEO_CX88_DVB=m
+-CONFIG_VIDEO_CX88_ENABLE_VP3054=y
+-CONFIG_VIDEO_CX88_VP3054=m
+-CONFIG_VIDEO_CX88_MPEG=m
+-CONFIG_VIDEO_BT848=m
+-CONFIG_DVB_BT8XX=m
+-CONFIG_VIDEO_SAA7134=m
+-CONFIG_VIDEO_SAA7134_ALSA=m
+-CONFIG_VIDEO_SAA7134_RC=y
+-CONFIG_VIDEO_SAA7134_DVB=m
+-# CONFIG_VIDEO_SAA7134_GO7007 is not set
+-CONFIG_VIDEO_SAA7164=m
+-
+-#
+-# Media digital TV PCI Adapters
+-#
+-CONFIG_DVB_AV7110_IR=y
+-CONFIG_DVB_AV7110=m
+-CONFIG_DVB_AV7110_OSD=y
+-CONFIG_DVB_BUDGET_CORE=m
+-CONFIG_DVB_BUDGET=m
+-CONFIG_DVB_BUDGET_CI=m
+-CONFIG_DVB_BUDGET_AV=m
+-CONFIG_DVB_BUDGET_PATCH=m
+-CONFIG_DVB_B2C2_FLEXCOP_PCI=m
+-# CONFIG_DVB_B2C2_FLEXCOP_PCI_DEBUG is not set
+-CONFIG_DVB_PLUTO2=m
+-CONFIG_DVB_DM1105=m
+-CONFIG_DVB_PT1=m
+-CONFIG_DVB_PT3=m
+-CONFIG_MANTIS_CORE=m
+-CONFIG_DVB_MANTIS=m
+-CONFIG_DVB_HOPPER=m
+-CONFIG_DVB_NGENE=m
+-CONFIG_DVB_DDBRIDGE=m
+-# CONFIG_DVB_DDBRIDGE_MSIENABLE is not set
+-CONFIG_DVB_SMIPCIE=m
+-CONFIG_DVB_NETUP_UNIDVB=m
+-CONFIG_V4L_PLATFORM_DRIVERS=y
+-CONFIG_VIDEO_CAFE_CCIC=m
+-# CONFIG_VIDEO_CADENCE is not set
+-# CONFIG_SOC_CAMERA is not set
+-CONFIG_V4L_MEM2MEM_DRIVERS=y
+-# CONFIG_VIDEO_MEM2MEM_DEINTERLACE is not set
+-# CONFIG_VIDEO_SH_VEU is not set
+-# CONFIG_VIDEO_ROCKCHIP_RGA is not set
+-CONFIG_VIDEO_QCOM_VENUS=m
+-CONFIG_V4L_TEST_DRIVERS=y
+-CONFIG_VIDEO_VIVID=m
+-CONFIG_VIDEO_VIVID_CEC=y
+-CONFIG_VIDEO_VIVID_MAX_DEVS=64
+-# CONFIG_VIDEO_VIM2M is not set
+-# CONFIG_DVB_PLATFORM_DRIVERS is not set
+-# CONFIG_CEC_PLATFORM_DRIVERS is not set
+-# CONFIG_SDR_PLATFORM_DRIVERS is not set
+-
+-#
+ # Supported MMC/SDIO adapters
+ #
+-CONFIG_SMS_SDIO_DRV=m
+-CONFIG_RADIO_ADAPTERS=y
+-CONFIG_RADIO_TEA575X=m
+-CONFIG_RADIO_SI470X=m
+-CONFIG_USB_SI470X=m
+-# CONFIG_I2C_SI470X is not set
+-# CONFIG_RADIO_SI4713 is not set
+-CONFIG_USB_MR800=m
+-# CONFIG_USB_DSBR is not set
+-# CONFIG_RADIO_MAXIRADIO is not set
+-CONFIG_RADIO_SHARK=m
+-CONFIG_RADIO_SHARK2=m
+-CONFIG_USB_KEENE=m
+-CONFIG_USB_RAREMONO=m
+-CONFIG_USB_MA901=m
+-# CONFIG_RADIO_TEA5764 is not set
+-# CONFIG_RADIO_SAA7706H is not set
+-# CONFIG_RADIO_TEF6862 is not set
+-# CONFIG_RADIO_WL1273 is not set
+-
+-#
+-# Texas Instruments WL128x FM driver (ST based)
+-#
+-# CONFIG_RADIO_WL128X is not set
+-
+-#
+-# Supported FireWire (IEEE 1394) Adapters
+-#
+-CONFIG_DVB_FIREDTV=m
+-CONFIG_DVB_FIREDTV_INPUT=y
+-CONFIG_MEDIA_COMMON_OPTIONS=y
+-
+-#
+-# common driver options
+-#
+-CONFIG_VIDEO_CX2341X=m
+-CONFIG_VIDEO_TVEEPROM=m
+ CONFIG_CYPRESS_FIRMWARE=m
+-CONFIG_VIDEOBUF2_CORE=m
+-CONFIG_VIDEOBUF2_V4L2=m
+-CONFIG_VIDEOBUF2_MEMOPS=m
+-CONFIG_VIDEOBUF2_DMA_CONTIG=m
+-CONFIG_VIDEOBUF2_VMALLOC=m
+-CONFIG_VIDEOBUF2_DMA_SG=m
+-CONFIG_VIDEOBUF2_DVB=m
+-CONFIG_DVB_B2C2_FLEXCOP=m
+-CONFIG_VIDEO_SAA7146=m
+-CONFIG_VIDEO_SAA7146_VV=m
+-CONFIG_SMS_SIANO_MDTV=m
+-CONFIG_SMS_SIANO_RC=y
+-# CONFIG_SMS_SIANO_DEBUGFS is not set
+-CONFIG_VIDEO_V4L2_TPG=m
+ 
+ #
+ # Media ancillary drivers (tuners, sensors, i2c, spi, frontends)
+ #
+-CONFIG_MEDIA_SUBDRV_AUTOSELECT=y
+-CONFIG_MEDIA_ATTACH=y
+-CONFIG_VIDEO_IR_I2C=m
+-
+-#
+-# Audio decoders, processors and mixers
+-#
+-CONFIG_VIDEO_TVAUDIO=m
+-CONFIG_VIDEO_TDA7432=m
+-CONFIG_VIDEO_TDA9840=m
+-CONFIG_VIDEO_TEA6415C=m
+-CONFIG_VIDEO_TEA6420=m
+-CONFIG_VIDEO_MSP3400=m
+-CONFIG_VIDEO_CS3308=m
+-CONFIG_VIDEO_CS5345=m
+-CONFIG_VIDEO_CS53L32A=m
+-CONFIG_VIDEO_UDA1342=m
+-CONFIG_VIDEO_WM8775=m
+-CONFIG_VIDEO_WM8739=m
+-CONFIG_VIDEO_VP27SMPX=m
+-CONFIG_VIDEO_SONY_BTF_MPX=m
+-
+-#
+-# RDS decoders
+-#
+-CONFIG_VIDEO_SAA6588=m
+-
+-#
+-# Video decoders
+-#
+-CONFIG_VIDEO_SAA711X=m
+-CONFIG_VIDEO_TVP5150=m
+-CONFIG_VIDEO_TW2804=m
+-CONFIG_VIDEO_TW9903=m
+-CONFIG_VIDEO_TW9906=m
+-
+-#
+-# Video and audio decoders
+-#
+-CONFIG_VIDEO_SAA717X=m
+-CONFIG_VIDEO_CX25840=m
+-
+-#
+-# Video encoders
+-#
+-CONFIG_VIDEO_SAA7127=m
+-
+-#
+-# Camera sensor devices
+-#
+-CONFIG_VIDEO_OV2640=m
+-CONFIG_VIDEO_OV7640=m
+-CONFIG_VIDEO_OV7670=m
+-CONFIG_VIDEO_MT9V011=m
+-
+-#
+-# Flash devices
+-#
+-
+-#
+-# Video improvement chips
+-#
+-CONFIG_VIDEO_UPD64031A=m
+-CONFIG_VIDEO_UPD64083=m
+-
+-#
+-# Audio/Video compression chips
+-#
+-CONFIG_VIDEO_SAA6752HS=m
+-
+-#
+-# SDR tuner chips
+-#
+-
+-#
+-# Miscellaneous helper chips
+-#
+-CONFIG_VIDEO_M52790=m
+-
+-#
+-# Sensors used on soc_camera driver
+-#
+ 
+ #
+ # Media SPI Adapters
+ #
+-# CONFIG_CXD2880_SPI_DRV is not set
+-CONFIG_MEDIA_TUNER=m
+-CONFIG_MEDIA_TUNER_SIMPLE=m
+-CONFIG_MEDIA_TUNER_TDA18250=m
+-CONFIG_MEDIA_TUNER_TDA8290=m
+-CONFIG_MEDIA_TUNER_TDA827X=m
+-CONFIG_MEDIA_TUNER_TDA18271=m
+-CONFIG_MEDIA_TUNER_TDA9887=m
+-CONFIG_MEDIA_TUNER_TEA5761=m
+-CONFIG_MEDIA_TUNER_TEA5767=m
+-CONFIG_MEDIA_TUNER_MSI001=m
+-CONFIG_MEDIA_TUNER_MT20XX=m
+-CONFIG_MEDIA_TUNER_MT2060=m
+-CONFIG_MEDIA_TUNER_MT2063=m
+-CONFIG_MEDIA_TUNER_MT2266=m
+-CONFIG_MEDIA_TUNER_MT2131=m
+-CONFIG_MEDIA_TUNER_QT1010=m
+-CONFIG_MEDIA_TUNER_XC2028=m
+-CONFIG_MEDIA_TUNER_XC5000=m
+-CONFIG_MEDIA_TUNER_XC4000=m
+-CONFIG_MEDIA_TUNER_MXL5005S=m
+-CONFIG_MEDIA_TUNER_MXL5007T=m
+-CONFIG_MEDIA_TUNER_MC44S803=m
+-CONFIG_MEDIA_TUNER_MAX2165=m
+-CONFIG_MEDIA_TUNER_TDA18218=m
+-CONFIG_MEDIA_TUNER_FC0011=m
+-CONFIG_MEDIA_TUNER_FC0012=m
+-CONFIG_MEDIA_TUNER_FC0013=m
+-CONFIG_MEDIA_TUNER_TDA18212=m
+-CONFIG_MEDIA_TUNER_E4000=m
+-CONFIG_MEDIA_TUNER_FC2580=m
+-CONFIG_MEDIA_TUNER_M88RS6000T=m
+-CONFIG_MEDIA_TUNER_TUA9001=m
+-CONFIG_MEDIA_TUNER_SI2157=m
+-CONFIG_MEDIA_TUNER_IT913X=m
+-CONFIG_MEDIA_TUNER_R820T=m
+-CONFIG_MEDIA_TUNER_MXL301RF=m
+-CONFIG_MEDIA_TUNER_QM1D1C0042=m
+-CONFIG_MEDIA_TUNER_QM1D1B0004=m
+-
+-#
+-# Multistandard (satellite) frontends
+-#
+-CONFIG_DVB_STB0899=m
+-CONFIG_DVB_STB6100=m
+-CONFIG_DVB_STV090x=m
+-CONFIG_DVB_STV0910=m
+-CONFIG_DVB_STV6110x=m
+-CONFIG_DVB_STV6111=m
+-CONFIG_DVB_MXL5XX=m
+-CONFIG_DVB_M88DS3103=m
+-
+-#
+-# Multistandard (cable + terrestrial) frontends
+-#
+-CONFIG_DVB_DRXK=m
+-CONFIG_DVB_TDA18271C2DD=m
+-CONFIG_DVB_SI2165=m
+-CONFIG_DVB_MN88472=m
+-CONFIG_DVB_MN88473=m
+-
+-#
+-# DVB-S (satellite) frontends
+-#
+-CONFIG_DVB_CX24110=m
+-CONFIG_DVB_CX24123=m
+-CONFIG_DVB_MT312=m
+-CONFIG_DVB_ZL10036=m
+-CONFIG_DVB_ZL10039=m
+-CONFIG_DVB_S5H1420=m
+-CONFIG_DVB_STV0288=m
+-CONFIG_DVB_STB6000=m
+-CONFIG_DVB_STV0299=m
+-CONFIG_DVB_STV6110=m
+-CONFIG_DVB_STV0900=m
+-CONFIG_DVB_TDA8083=m
+-CONFIG_DVB_TDA10086=m
+-CONFIG_DVB_TDA8261=m
+-CONFIG_DVB_VES1X93=m
+-CONFIG_DVB_TUNER_ITD1000=m
+-CONFIG_DVB_TUNER_CX24113=m
+-CONFIG_DVB_TDA826X=m
+-CONFIG_DVB_TUA6100=m
+-CONFIG_DVB_CX24116=m
+-CONFIG_DVB_CX24117=m
+-CONFIG_DVB_CX24120=m
+-CONFIG_DVB_SI21XX=m
+-CONFIG_DVB_TS2020=m
+-CONFIG_DVB_DS3000=m
+-CONFIG_DVB_MB86A16=m
+-CONFIG_DVB_TDA10071=m
+-
+-#
+-# DVB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_SP8870=m
+-CONFIG_DVB_SP887X=m
+-CONFIG_DVB_CX22700=m
+-CONFIG_DVB_CX22702=m
+-CONFIG_DVB_DRXD=m
+-CONFIG_DVB_L64781=m
+-CONFIG_DVB_TDA1004X=m
+-CONFIG_DVB_NXT6000=m
+-CONFIG_DVB_MT352=m
+-CONFIG_DVB_ZL10353=m
+-CONFIG_DVB_DIB3000MB=m
+-CONFIG_DVB_DIB3000MC=m
+-CONFIG_DVB_DIB7000M=m
+-CONFIG_DVB_DIB7000P=m
+-CONFIG_DVB_TDA10048=m
+-CONFIG_DVB_AF9013=m
+-CONFIG_DVB_EC100=m
+-CONFIG_DVB_STV0367=m
+-CONFIG_DVB_CXD2820R=m
+-CONFIG_DVB_CXD2841ER=m
+-CONFIG_DVB_RTL2830=m
+-CONFIG_DVB_RTL2832=m
+-CONFIG_DVB_RTL2832_SDR=m
+-CONFIG_DVB_SI2168=m
+-CONFIG_DVB_AS102_FE=m
+-CONFIG_DVB_ZD1301_DEMOD=m
+-CONFIG_DVB_GP8PSK_FE=m
+-
+-#
+-# DVB-C (cable) frontends
+-#
+-CONFIG_DVB_VES1820=m
+-CONFIG_DVB_TDA10021=m
+-CONFIG_DVB_TDA10023=m
+-CONFIG_DVB_STV0297=m
+-
+-#
+-# ATSC (North American/Korean Terrestrial/Cable DTV) frontends
+-#
+-CONFIG_DVB_NXT200X=m
+-CONFIG_DVB_OR51211=m
+-CONFIG_DVB_OR51132=m
+-CONFIG_DVB_BCM3510=m
+-CONFIG_DVB_LGDT330X=m
+-CONFIG_DVB_LGDT3305=m
+-CONFIG_DVB_LGDT3306A=m
+-CONFIG_DVB_LG2160=m
+-CONFIG_DVB_S5H1409=m
+-CONFIG_DVB_AU8522=m
+-CONFIG_DVB_AU8522_DTV=m
+-CONFIG_DVB_AU8522_V4L=m
+-CONFIG_DVB_S5H1411=m
+-
+-#
+-# ISDB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_S921=m
+-CONFIG_DVB_DIB8000=m
+-CONFIG_DVB_MB86A20S=m
+-
+-#
+-# ISDB-S (satellite) & ISDB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_TC90522=m
+-
+-#
+-# Digital terrestrial only tuners/PLL
+-#
+-CONFIG_DVB_PLL=m
+-CONFIG_DVB_TUNER_DIB0070=m
+-CONFIG_DVB_TUNER_DIB0090=m
+-
+-#
+-# SEC control devices for DVB-S
+-#
+-CONFIG_DVB_DRX39XYJ=m
+-CONFIG_DVB_LNBH25=m
+-CONFIG_DVB_LNBP21=m
+-CONFIG_DVB_LNBP22=m
+-CONFIG_DVB_ISL6405=m
+-CONFIG_DVB_ISL6421=m
+-CONFIG_DVB_ISL6423=m
+-CONFIG_DVB_A8293=m
+-CONFIG_DVB_LGS8GXX=m
+-CONFIG_DVB_ATBM8830=m
+-CONFIG_DVB_TDA665x=m
+-CONFIG_DVB_IX2505V=m
+-CONFIG_DVB_M88RS2000=m
+-CONFIG_DVB_AF9033=m
+-CONFIG_DVB_HORUS3A=m
+-CONFIG_DVB_ASCOT2E=m
+-CONFIG_DVB_HELENE=m
+ 
+ #
+-# Common Interface (EN50221) controller drivers
++# Customise DVB Frontends
+ #
+-CONFIG_DVB_CXD2099=m
+-CONFIG_DVB_SP2=m
+ 
+ #
+ # Tools to develop new frontends
+ #
+-CONFIG_DVB_DUMMY_FE=m
+ 
+ #
+ # Graphics support
+ #
+-CONFIG_VGA_ARB=y
+-CONFIG_VGA_ARB_MAX_GPUS=16
++# CONFIG_VGA_ARB is not set
+ CONFIG_TEGRA_HOST1X=m
+-CONFIG_TEGRA_HOST1X_FIREWALL=y
++# CONFIG_TEGRA_HOST1X_FIREWALL is not set
+ CONFIG_DRM=m
+ CONFIG_DRM_MIPI_DSI=y
+-CONFIG_DRM_DP_AUX_CHARDEV=y
++# CONFIG_DRM_DP_AUX_CHARDEV is not set
+ # CONFIG_DRM_DEBUG_SELFTEST is not set
+ CONFIG_DRM_KMS_HELPER=m
+ CONFIG_DRM_KMS_FB_HELPER=y
+-CONFIG_DRM_FBDEV_EMULATION=y
+-CONFIG_DRM_FBDEV_OVERALLOC=100
+-# CONFIG_DRM_FBDEV_LEAK_PHYS_SMEM is not set
+-CONFIG_DRM_LOAD_EDID_FIRMWARE=y
++# CONFIG_DRM_FBDEV_EMULATION is not set
++# CONFIG_DRM_LOAD_EDID_FIRMWARE is not set
+ # CONFIG_DRM_DP_CEC is not set
+ CONFIG_DRM_TTM=m
+ CONFIG_DRM_GEM_CMA_HELPER=y
+ CONFIG_DRM_KMS_CMA_HELPER=y
+-CONFIG_DRM_VM=y
+ CONFIG_DRM_SCHED=m
+ 
+ #
+@@ -5173,9 +4124,9 @@
+ CONFIG_DRM_RADEON=m
+ # CONFIG_DRM_RADEON_USERPTR is not set
+ CONFIG_DRM_AMDGPU=m
+-CONFIG_DRM_AMDGPU_SI=y
+-CONFIG_DRM_AMDGPU_CIK=y
+-CONFIG_DRM_AMDGPU_USERPTR=y
++# CONFIG_DRM_AMDGPU_SI is not set
++# CONFIG_DRM_AMDGPU_CIK is not set
++# CONFIG_DRM_AMDGPU_USERPTR is not set
+ # CONFIG_DRM_AMDGPU_GART_DEBUGFS is not set
+ 
+ #
+@@ -5186,8 +4137,7 @@
+ #
+ # Display Engine Configuration
+ #
+-CONFIG_DRM_AMD_DC=y
+-# CONFIG_DEBUG_KERNEL_DC is not set
++# CONFIG_DRM_AMD_DC is not set
+ 
+ #
+ # AMD Library routines
+@@ -5196,19 +4146,19 @@
+ # CONFIG_CHASH_STATS is not set
+ # CONFIG_CHASH_SELFTEST is not set
+ CONFIG_DRM_NOUVEAU=m
+-CONFIG_NOUVEAU_LEGACY_CTX_SUPPORT=y
+-CONFIG_NOUVEAU_PLATFORM_DRIVER=y
++# CONFIG_NOUVEAU_LEGACY_CTX_SUPPORT is not set
++# CONFIG_NOUVEAU_PLATFORM_DRIVER is not set
+ CONFIG_NOUVEAU_DEBUG=5
+ CONFIG_NOUVEAU_DEBUG_DEFAULT=3
+ # CONFIG_NOUVEAU_DEBUG_MMU is not set
+-CONFIG_DRM_NOUVEAU_BACKLIGHT=y
++# CONFIG_DRM_NOUVEAU_BACKLIGHT is not set
+ CONFIG_DRM_VGEM=m
+ # CONFIG_DRM_VKMS is not set
+ CONFIG_DRM_ROCKCHIP=m
+-CONFIG_ROCKCHIP_ANALOGIX_DP=y
+-CONFIG_ROCKCHIP_CDN_DP=y
+-CONFIG_ROCKCHIP_DW_HDMI=y
+-CONFIG_ROCKCHIP_DW_MIPI_DSI=y
++# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
++# CONFIG_ROCKCHIP_CDN_DP is not set
++# CONFIG_ROCKCHIP_DW_HDMI is not set
++# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
+ # CONFIG_ROCKCHIP_INNO_HDMI is not set
+ # CONFIG_ROCKCHIP_LVDS is not set
+ CONFIG_DRM_UDL=m
+@@ -5230,17 +4180,11 @@
+ CONFIG_DRM_MSM=m
+ # CONFIG_DRM_MSM_REGISTER_LOGGING is not set
+ # CONFIG_DRM_MSM_GPU_SUDO is not set
+-CONFIG_DRM_MSM_HDMI_HDCP=y
+-CONFIG_DRM_MSM_DSI=y
+-CONFIG_DRM_MSM_DSI_PLL=y
+-CONFIG_DRM_MSM_DSI_28NM_PHY=y
+-CONFIG_DRM_MSM_DSI_20NM_PHY=y
+-CONFIG_DRM_MSM_DSI_28NM_8960_PHY=y
+-CONFIG_DRM_MSM_DSI_14NM_PHY=y
+-CONFIG_DRM_MSM_DSI_10NM_PHY=y
++# CONFIG_DRM_MSM_HDMI_HDCP is not set
++# CONFIG_DRM_MSM_DSI is not set
+ CONFIG_DRM_TEGRA=m
+ # CONFIG_DRM_TEGRA_DEBUG is not set
+-CONFIG_DRM_TEGRA_STAGING=y
++# CONFIG_DRM_TEGRA_STAGING is not set
+ CONFIG_DRM_PANEL=y
+ 
+ #
+@@ -5285,11 +4229,10 @@
+ # CONFIG_DRM_THINE_THC63LVD1024 is not set
+ # CONFIG_DRM_TOSHIBA_TC358767 is not set
+ # CONFIG_DRM_TI_TFP410 is not set
+-CONFIG_DRM_ANALOGIX_DP=m
+ CONFIG_DRM_I2C_ADV7511=m
+-CONFIG_DRM_I2C_ADV7511_AUDIO=y
+-CONFIG_DRM_I2C_ADV7533=y
+-CONFIG_DRM_I2C_ADV7511_CEC=y
++# CONFIG_DRM_I2C_ADV7511_AUDIO is not set
++# CONFIG_DRM_I2C_ADV7533 is not set
++# CONFIG_DRM_I2C_ADV7511_CEC is not set
+ CONFIG_DRM_DW_HDMI=m
+ # CONFIG_DRM_DW_HDMI_AHB_AUDIO is not set
+ # CONFIG_DRM_DW_HDMI_I2S_AUDIO is not set
+@@ -5306,12 +4249,7 @@
+ # CONFIG_DRM_TINYDRM is not set
+ # CONFIG_DRM_PL111 is not set
+ # CONFIG_DRM_XEN is not set
+-CONFIG_DRM_LEGACY=y
+-# CONFIG_DRM_TDFX is not set
+-# CONFIG_DRM_R128 is not set
+-# CONFIG_DRM_MGA is not set
+-CONFIG_DRM_VIA=m
+-CONFIG_DRM_SAVAGE=m
++# CONFIG_DRM_LEGACY is not set
+ CONFIG_DRM_PANEL_ORIENTATION_QUIRKS=y
+ 
+ #
+@@ -5332,7 +4270,6 @@
+ CONFIG_FB_SYS_FOPS=y
+ CONFIG_FB_DEFERRED_IO=y
+ CONFIG_FB_SVGALIB=m
+-CONFIG_FB_BACKLIGHT=y
+ CONFIG_FB_MODE_HELPERS=y
+ CONFIG_FB_TILEBLITTING=y
+ 
+@@ -5414,120 +4351,43 @@
+ # CONFIG_FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER is not set
+ # CONFIG_LOGO is not set
+ CONFIG_SOUND=m
+-CONFIG_SOUND_OSS_CORE=y
+-# CONFIG_SOUND_OSS_CORE_PRECLAIM is not set
+ CONFIG_SND=m
+ CONFIG_SND_TIMER=m
+ CONFIG_SND_PCM=m
+ CONFIG_SND_PCM_ELD=y
+ CONFIG_SND_PCM_IEC958=y
+ CONFIG_SND_DMAENGINE_PCM=m
+-CONFIG_SND_HWDEP=m
+ CONFIG_SND_SEQ_DEVICE=m
+ CONFIG_SND_RAWMIDI=m
+ CONFIG_SND_JACK=y
+ CONFIG_SND_JACK_INPUT_DEV=y
+-CONFIG_SND_OSSEMUL=y
+-CONFIG_SND_MIXER_OSS=m
+-CONFIG_SND_PCM_OSS=m
+-CONFIG_SND_PCM_OSS_PLUGINS=y
+-CONFIG_SND_PCM_TIMER=y
++# CONFIG_SND_OSSEMUL is not set
++# CONFIG_SND_PCM_TIMER is not set
+ CONFIG_SND_HRTIMER=m
+ CONFIG_SND_DYNAMIC_MINORS=y
+ CONFIG_SND_MAX_CARDS=32
+-CONFIG_SND_SUPPORT_OLD_API=y
+-CONFIG_SND_PROC_FS=y
+-CONFIG_SND_VERBOSE_PROCFS=y
++# CONFIG_SND_SUPPORT_OLD_API is not set
++# CONFIG_SND_PROC_FS is not set
+ # CONFIG_SND_VERBOSE_PRINTK is not set
+ # CONFIG_SND_DEBUG is not set
+ CONFIG_SND_VMASTER=y
+ CONFIG_SND_SEQUENCER=m
+ CONFIG_SND_SEQ_DUMMY=m
+-# CONFIG_SND_SEQUENCER_OSS is not set
+-CONFIG_SND_SEQ_HRTIMER_DEFAULT=y
++# CONFIG_SND_SEQ_HRTIMER_DEFAULT is not set
+ CONFIG_SND_SEQ_MIDI_EVENT=m
+ CONFIG_SND_SEQ_MIDI=m
+-CONFIG_SND_SEQ_MIDI_EMUL=m
+-CONFIG_SND_MPU401_UART=m
+-CONFIG_SND_OPL3_LIB=m
+-CONFIG_SND_OPL3_LIB_SEQ=m
+-CONFIG_SND_AC97_CODEC=m
+-CONFIG_SND_DRIVERS=y
+-# CONFIG_SND_DUMMY is not set
+-CONFIG_SND_ALOOP=m
+-# CONFIG_SND_VIRMIDI is not set
+-# CONFIG_SND_MTPAV is not set
+-CONFIG_SND_MTS64=m
+-# CONFIG_SND_SERIAL_U16550 is not set
+-# CONFIG_SND_MPU401 is not set
+-CONFIG_SND_PORTMAN2X4=m
+-CONFIG_SND_AC97_POWER_SAVE=y
+-CONFIG_SND_AC97_POWER_SAVE_DEFAULT=0
+-CONFIG_SND_PCI=y
+-CONFIG_SND_AD1889=m
+-# CONFIG_SND_ATIIXP is not set
+-# CONFIG_SND_ATIIXP_MODEM is not set
+-# CONFIG_SND_AU8810 is not set
+-# CONFIG_SND_AU8820 is not set
+-# CONFIG_SND_AU8830 is not set
+-# CONFIG_SND_AW2 is not set
+-# CONFIG_SND_BT87X is not set
+-# CONFIG_SND_CA0106 is not set
+-# CONFIG_SND_CMIPCI is not set
+-CONFIG_SND_OXYGEN_LIB=m
+-CONFIG_SND_OXYGEN=m
+-# CONFIG_SND_CS4281 is not set
+-# CONFIG_SND_CS46XX is not set
+-CONFIG_SND_CTXFI=m
+-CONFIG_SND_DARLA20=m
+-CONFIG_SND_GINA20=m
+-CONFIG_SND_LAYLA20=m
+-CONFIG_SND_DARLA24=m
+-CONFIG_SND_GINA24=m
+-CONFIG_SND_LAYLA24=m
+-CONFIG_SND_MONA=m
+-CONFIG_SND_MIA=m
+-CONFIG_SND_ECHO3G=m
+-CONFIG_SND_INDIGO=m
+-CONFIG_SND_INDIGOIO=m
+-CONFIG_SND_INDIGODJ=m
+-CONFIG_SND_INDIGOIOX=m
+-CONFIG_SND_INDIGODJX=m
+-# CONFIG_SND_ENS1370 is not set
+-# CONFIG_SND_ENS1371 is not set
+-# CONFIG_SND_FM801 is not set
+-# CONFIG_SND_HDSP is not set
+-CONFIG_SND_HDSPM=m
+-# CONFIG_SND_ICE1724 is not set
+-# CONFIG_SND_INTEL8X0 is not set
+-# CONFIG_SND_INTEL8X0M is not set
+-# CONFIG_SND_KORG1212 is not set
+-CONFIG_SND_LOLA=m
+-CONFIG_SND_LX6464ES=m
+-# CONFIG_SND_MIXART is not set
+-# CONFIG_SND_NM256 is not set
+-CONFIG_SND_PCXHR=m
+-CONFIG_SND_RIPTIDE=m
+-# CONFIG_SND_RME32 is not set
+-# CONFIG_SND_RME96 is not set
+-# CONFIG_SND_RME9652 is not set
+-# CONFIG_SND_VIA82XX is not set
+-# CONFIG_SND_VIA82XX_MODEM is not set
+-CONFIG_SND_VIRTUOSO=m
+-# CONFIG_SND_VX222 is not set
+-# CONFIG_SND_YMFPCI is not set
++# CONFIG_SND_DRIVERS is not set
++# CONFIG_SND_PCI is not set
+ 
+ #
+ # HD-Audio
+ #
+ CONFIG_SND_HDA=m
+-CONFIG_SND_HDA_INTEL=m
+ CONFIG_SND_HDA_TEGRA=m
+-CONFIG_SND_HDA_HWDEP=y
+-CONFIG_SND_HDA_RECONFIG=y
+-CONFIG_SND_HDA_INPUT_BEEP=y
+-CONFIG_SND_HDA_INPUT_BEEP_MODE=1
+-CONFIG_SND_HDA_PATCH_LOADER=y
++# CONFIG_SND_HDA_HWDEP is not set
++# CONFIG_SND_HDA_RECONFIG is not set
++# CONFIG_SND_HDA_INPUT_BEEP is not set
++# CONFIG_SND_HDA_PATCH_LOADER is not set
+ CONFIG_SND_HDA_CODEC_REALTEK=m
+ CONFIG_SND_HDA_CODEC_ANALOG=m
+ CONFIG_SND_HDA_CODEC_SIGMATEL=m
+@@ -5537,39 +4397,16 @@
+ CONFIG_SND_HDA_CODEC_CONEXANT=m
+ CONFIG_SND_HDA_CODEC_CA0110=m
+ CONFIG_SND_HDA_CODEC_CA0132=m
+-CONFIG_SND_HDA_CODEC_CA0132_DSP=y
++# CONFIG_SND_HDA_CODEC_CA0132_DSP is not set
+ CONFIG_SND_HDA_CODEC_CMEDIA=m
+ CONFIG_SND_HDA_CODEC_SI3054=m
+ CONFIG_SND_HDA_GENERIC=m
+ CONFIG_SND_HDA_POWER_SAVE_DEFAULT=1
+ CONFIG_SND_HDA_CORE=m
+-CONFIG_SND_HDA_DSP_LOADER=y
+ CONFIG_SND_HDA_PREALLOC_SIZE=2048
+-CONFIG_SND_SPI=y
+-CONFIG_SND_USB=y
+-CONFIG_SND_USB_AUDIO=m
+-CONFIG_SND_USB_UA101=m
+-CONFIG_SND_USB_CAIAQ=m
+-CONFIG_SND_USB_CAIAQ_INPUT=y
+-CONFIG_SND_USB_6FIRE=m
+-CONFIG_SND_USB_HIFACE=m
+-CONFIG_SND_BCD2000=m
+-CONFIG_SND_USB_LINE6=m
+-CONFIG_SND_USB_POD=m
+-CONFIG_SND_USB_PODHD=m
+-CONFIG_SND_USB_TONEPORT=m
+-CONFIG_SND_USB_VARIAX=m
+-CONFIG_SND_FIREWIRE=y
+-CONFIG_SND_FIREWIRE_LIB=m
+-CONFIG_SND_DICE=m
+-CONFIG_SND_OXFW=m
+-CONFIG_SND_ISIGHT=m
+-CONFIG_SND_FIREWORKS=m
+-CONFIG_SND_BEBOB=m
+-CONFIG_SND_FIREWIRE_DIGI00X=m
+-CONFIG_SND_FIREWIRE_TASCAM=m
+-CONFIG_SND_FIREWIRE_MOTU=m
+-CONFIG_SND_FIREFACE=m
++# CONFIG_SND_SPI is not set
++# CONFIG_SND_USB is not set
++# CONFIG_SND_FIREWIRE is not set
+ CONFIG_SND_SOC=m
+ CONFIG_SND_SOC_GENERIC_DMAENGINE_PCM=y
+ # CONFIG_SND_SOC_AMD_ACP is not set
+@@ -5785,14 +4622,13 @@
+ # CONFIG_SND_AUDIO_GRAPH_CARD is not set
+ # CONFIG_SND_AUDIO_GRAPH_SCU_CARD is not set
+ CONFIG_SND_XEN_FRONTEND=m
+-CONFIG_AC97_BUS=m
+ 
+ #
+ # HID support
+ #
+ CONFIG_HID=m
+-CONFIG_HID_BATTERY_STRENGTH=y
+-CONFIG_HIDRAW=y
++# CONFIG_HID_BATTERY_STRENGTH is not set
++# CONFIG_HIDRAW is not set
+ CONFIG_UHID=m
+ CONFIG_HID_GENERIC=m
+ 
+@@ -5802,7 +4638,7 @@
+ CONFIG_HID_A4TECH=m
+ CONFIG_HID_ACCUTOUCH=m
+ CONFIG_HID_ACRUX=m
+-CONFIG_HID_ACRUX_FF=y
++# CONFIG_HID_ACRUX_FF is not set
+ CONFIG_HID_APPLE=m
+ # CONFIG_HID_APPLEIR is not set
+ CONFIG_HID_ASUS=m
+@@ -5815,10 +4651,9 @@
+ CONFIG_HID_COUGAR=m
+ CONFIG_HID_PRODIKEYS=m
+ CONFIG_HID_CMEDIA=m
+-CONFIG_HID_CP2112=m
+ CONFIG_HID_CYPRESS=m
+ CONFIG_HID_DRAGONRISE=m
+-CONFIG_DRAGONRISE_FF=y
++# CONFIG_DRAGONRISE_FF is not set
+ CONFIG_HID_EMS_FF=m
+ CONFIG_HID_ELAN=m
+ CONFIG_HID_ELECOM=m
+@@ -5827,7 +4662,7 @@
+ CONFIG_HID_GEMBIRD=m
+ # CONFIG_HID_GFRM is not set
+ CONFIG_HID_HOLTEK=m
+-CONFIG_HOLTEK_FF=y
++# CONFIG_HOLTEK_FF is not set
+ # CONFIG_HID_GOOGLE_HAMMER is not set
+ # CONFIG_HID_GT683R is not set
+ CONFIG_HID_KEYTOUCH=m
+@@ -5844,12 +4679,11 @@
+ CONFIG_HID_LED=m
+ CONFIG_HID_LENOVO=m
+ CONFIG_HID_LOGITECH=m
+-CONFIG_HID_LOGITECH_DJ=m
+ CONFIG_HID_LOGITECH_HIDPP=m
+-CONFIG_LOGITECH_FF=y
+-CONFIG_LOGIRUMBLEPAD2_FF=y
+-CONFIG_LOGIG940_FF=y
+-CONFIG_LOGIWHEELS_FF=y
++# CONFIG_LOGITECH_FF is not set
++# CONFIG_LOGIRUMBLEPAD2_FF is not set
++# CONFIG_LOGIG940_FF is not set
++# CONFIG_LOGIWHEELS_FF is not set
+ CONFIG_HID_MAGICMOUSE=m
+ CONFIG_HID_MAYFLASH=m
+ CONFIG_HID_REDRAGON=m
+@@ -5860,14 +4694,14 @@
+ CONFIG_HID_NTRIG=m
+ CONFIG_HID_ORTEK=m
+ CONFIG_HID_PANTHERLORD=m
+-CONFIG_PANTHERLORD_FF=y
++# CONFIG_PANTHERLORD_FF is not set
+ CONFIG_HID_PENMOUNT=m
+ CONFIG_HID_PETALYNX=m
+ CONFIG_HID_PICOLCD=m
+-CONFIG_HID_PICOLCD_FB=y
+-CONFIG_HID_PICOLCD_BACKLIGHT=y
+-CONFIG_HID_PICOLCD_LEDS=y
+-CONFIG_HID_PICOLCD_CIR=y
++# CONFIG_HID_PICOLCD_FB is not set
++# CONFIG_HID_PICOLCD_BACKLIGHT is not set
++# CONFIG_HID_PICOLCD_LEDS is not set
++# CONFIG_HID_PICOLCD_CIR is not set
+ CONFIG_HID_PLANTRONICS=m
+ CONFIG_HID_PRIMAX=m
+ CONFIG_HID_RETRODE=m
+@@ -5875,27 +4709,27 @@
+ CONFIG_HID_SAITEK=m
+ CONFIG_HID_SAMSUNG=m
+ CONFIG_HID_SONY=m
+-CONFIG_SONY_FF=y
++# CONFIG_SONY_FF is not set
+ CONFIG_HID_SPEEDLINK=m
+ CONFIG_HID_STEAM=m
+ CONFIG_HID_STEELSERIES=m
+ CONFIG_HID_SUNPLUS=m
+ CONFIG_HID_RMI=m
+ CONFIG_HID_GREENASIA=m
+-CONFIG_GREENASIA_FF=y
++# CONFIG_GREENASIA_FF is not set
+ CONFIG_HID_SMARTJOYPLUS=m
+-CONFIG_SMARTJOYPLUS_FF=y
++# CONFIG_SMARTJOYPLUS_FF is not set
+ CONFIG_HID_TIVO=m
+ CONFIG_HID_TOPSEED=m
+ CONFIG_HID_THINGM=m
+ CONFIG_HID_THRUSTMASTER=m
+-CONFIG_THRUSTMASTER_FF=y
++# CONFIG_THRUSTMASTER_FF is not set
+ CONFIG_HID_UDRAW_PS3=m
+ CONFIG_HID_WACOM=m
+ CONFIG_HID_WIIMOTE=m
+ CONFIG_HID_XINMO=m
+ CONFIG_HID_ZEROPLUS=m
+-CONFIG_ZEROPLUS_FF=y
++# CONFIG_ZEROPLUS_FF is not set
+ CONFIG_HID_ZYDACRON=m
+ CONFIG_HID_SENSOR_HUB=m
+ CONFIG_HID_SENSOR_CUSTOM_SENSOR=m
+@@ -6219,7 +5053,6 @@
+ CONFIG_USB_F_FS=m
+ CONFIG_USB_F_UAC1=m
+ CONFIG_USB_F_UAC2=m
+-CONFIG_USB_F_UVC=m
+ CONFIG_USB_F_MIDI=m
+ CONFIG_USB_F_HID=m
+ CONFIG_USB_F_PRINTER=m
+@@ -6241,7 +5074,6 @@
+ CONFIG_USB_CONFIGFS_F_UAC2=y
+ CONFIG_USB_CONFIGFS_F_MIDI=y
+ CONFIG_USB_CONFIGFS_F_HID=y
+-CONFIG_USB_CONFIGFS_F_UVC=y
+ CONFIG_USB_CONFIGFS_F_PRINTER=y
+ # CONFIG_USB_CONFIGFS_F_TCM is not set
+ # CONFIG_USB_ZERO is not set
+@@ -6266,7 +5098,6 @@
+ # CONFIG_USB_G_MULTI is not set
+ # CONFIG_USB_G_HID is not set
+ # CONFIG_USB_G_DBGP is not set
+-# CONFIG_USB_G_WEBCAM is not set
+ # CONFIG_TYPEC is not set
+ # CONFIG_USB_ROLE_SWITCH is not set
+ CONFIG_USB_LED_TRIG=y
+@@ -6290,34 +5121,34 @@
+ # CONFIG_MMC_DEBUG is not set
+ CONFIG_MMC_ARMMMCI=m
+ CONFIG_MMC_QCOM_DML=y
+-CONFIG_MMC_SDHCI=m
++CONFIG_MMC_SDHCI=y
+ CONFIG_MMC_SDHCI_IO_ACCESSORS=y
+-CONFIG_MMC_SDHCI_PCI=m
++CONFIG_MMC_SDHCI_PCI=y
+ CONFIG_MMC_RICOH_MMC=y
+-CONFIG_MMC_SDHCI_ACPI=m
+-CONFIG_MMC_SDHCI_PLTFM=m
++CONFIG_MMC_SDHCI_ACPI=y
++CONFIG_MMC_SDHCI_PLTFM=y
+ CONFIG_MMC_SDHCI_OF_ARASAN=m
+-# CONFIG_MMC_SDHCI_OF_AT91 is not set
+-# CONFIG_MMC_SDHCI_OF_DWCMSHC is not set
+-# CONFIG_MMC_SDHCI_CADENCE is not set
+-CONFIG_MMC_SDHCI_TEGRA=m
+-# CONFIG_MMC_SDHCI_PXAV3 is not set
++CONFIG_MMC_SDHCI_OF_AT91=m
++CONFIG_MMC_SDHCI_OF_DWCMSHC=m
++CONFIG_MMC_SDHCI_CADENCE=m
++CONFIG_MMC_SDHCI_TEGRA=y
++CONFIG_MMC_SDHCI_PXAV3=y
+ CONFIG_MMC_SDHCI_F_SDH30=m
+-CONFIG_MMC_SDHCI_IPROC=m
+-CONFIG_MMC_MESON_GX=m
++CONFIG_MMC_SDHCI_IPROC=y
++CONFIG_MMC_MESON_GX=y
+ # CONFIG_MMC_MESON_MX_SDIO is not set
+-CONFIG_MMC_SDHCI_MSM=m
+-CONFIG_MMC_TIFM_SD=m
+-CONFIG_MMC_SPI=m
+-CONFIG_MMC_CB710=m
+-CONFIG_MMC_VIA_SDMMC=m
+-CONFIG_MMC_DW=m
++CONFIG_MMC_SDHCI_MSM=y
++CONFIG_MMC_TIFM_SD=y
++CONFIG_MMC_SPI=y
++CONFIG_MMC_CB710=y
++CONFIG_MMC_VIA_SDMMC=y
++CONFIG_MMC_DW=y
+ CONFIG_MMC_DW_PLTFM=m
+-# CONFIG_MMC_DW_BLUEFIELD is not set
+-# CONFIG_MMC_DW_EXYNOS is not set
+-# CONFIG_MMC_DW_HI3798CV200 is not set
++CONFIG_MMC_DW_BLUEFIELD=m
++CONFIG_MMC_DW_EXYNOS=m
++CONFIG_MMC_DW_HI3798CV200=m
+ CONFIG_MMC_DW_K3=m
+-# CONFIG_MMC_DW_PCI is not set
++CONFIG_MMC_DW_PCI=m
+ CONFIG_MMC_DW_ROCKCHIP=m
+ CONFIG_MMC_VUB300=m
+ CONFIG_MMC_USHC=m
+@@ -6325,12 +5156,12 @@
+ CONFIG_MMC_REALTEK_PCI=m
+ CONFIG_MMC_REALTEK_USB=m
+ CONFIG_MMC_SUNXI=m
+-CONFIG_MMC_CQHCI=m
++CONFIG_MMC_CQHCI=y
+ CONFIG_MMC_TOSHIBA_PCI=m
+ CONFIG_MMC_BCM2835=m
+-# CONFIG_MMC_MTK is not set
+-CONFIG_MMC_SDHCI_XENON=m
+-# CONFIG_MMC_SDHCI_OMAP is not set
++CONFIG_MMC_MTK=m
++CONFIG_MMC_SDHCI_XENON=y
++CONFIG_MMC_SDHCI_OMAP=m
+ CONFIG_MEMSTICK=m
+ # CONFIG_MEMSTICK_DEBUG is not set
+ 
+@@ -6418,40 +5249,7 @@
+ # CONFIG_LEDS_TRIGGER_NETDEV is not set
+ CONFIG_ACCESSIBILITY=y
+ CONFIG_A11Y_BRAILLE_CONSOLE=y
+-CONFIG_INFINIBAND=m
+-CONFIG_INFINIBAND_USER_MAD=m
+-CONFIG_INFINIBAND_USER_ACCESS=m
+-# CONFIG_INFINIBAND_EXP_LEGACY_VERBS_NEW_UAPI is not set
+-CONFIG_INFINIBAND_USER_MEM=y
+-CONFIG_INFINIBAND_ON_DEMAND_PAGING=y
+-CONFIG_INFINIBAND_ADDR_TRANS=y
+-CONFIG_INFINIBAND_ADDR_TRANS_CONFIGFS=y
+-CONFIG_INFINIBAND_MTHCA=m
+-CONFIG_INFINIBAND_MTHCA_DEBUG=y
+-CONFIG_INFINIBAND_QIB=m
+-CONFIG_INFINIBAND_CXGB3=m
+-CONFIG_INFINIBAND_CXGB4=m
+-CONFIG_INFINIBAND_I40IW=m
+-CONFIG_MLX4_INFINIBAND=m
+-CONFIG_MLX5_INFINIBAND=m
+-CONFIG_INFINIBAND_NES=m
+-# CONFIG_INFINIBAND_NES_DEBUG is not set
+-CONFIG_INFINIBAND_OCRDMA=m
+-CONFIG_INFINIBAND_HNS=m
+-CONFIG_INFINIBAND_HNS_HIP06=m
+-CONFIG_INFINIBAND_HNS_HIP08=m
+-CONFIG_INFINIBAND_IPOIB=m
+-CONFIG_INFINIBAND_IPOIB_CM=y
+-CONFIG_INFINIBAND_IPOIB_DEBUG=y
+-# CONFIG_INFINIBAND_IPOIB_DEBUG_DATA is not set
+-CONFIG_INFINIBAND_SRP=m
+-CONFIG_INFINIBAND_SRPT=m
+-CONFIG_INFINIBAND_ISER=m
+-CONFIG_INFINIBAND_ISERT=m
+-CONFIG_INFINIBAND_RDMAVT=m
+-CONFIG_RDMA_RXE=m
+-CONFIG_INFINIBAND_QEDR=m
+-# CONFIG_INFINIBAND_BNXT_RE is not set
++# CONFIG_INFINIBAND is not set
+ CONFIG_EDAC_SUPPORT=y
+ CONFIG_EDAC=y
+ CONFIG_EDAC_LEGACY_SYSFS=y
+@@ -6601,7 +5399,6 @@
+ CONFIG_MV_XOR_V2=y
+ CONFIG_PL330_DMA=m
+ CONFIG_TEGRA20_APB_DMA=y
+-CONFIG_TEGRA210_ADMA=y
+ CONFIG_XGENE_DMA=m
+ # CONFIG_XILINX_DMA is not set
+ # CONFIG_XILINX_ZYNQMP_DMA is not set
+@@ -6661,37 +5458,26 @@
+ #
+ # Xen driver support
+ #
+-CONFIG_XEN_BALLOON=y
+-CONFIG_XEN_SCRUB_PAGES_DEFAULT=y
++# CONFIG_XEN_BALLOON is not set
+ CONFIG_XEN_DEV_EVTCHN=m
+-CONFIG_XEN_BACKEND=y
++# CONFIG_XEN_BACKEND is not set
+ CONFIG_XENFS=m
+-CONFIG_XEN_COMPAT_XENFS=y
+-CONFIG_XEN_SYS_HYPERVISOR=y
++# CONFIG_XEN_COMPAT_XENFS is not set
++# CONFIG_XEN_SYS_HYPERVISOR is not set
+ CONFIG_XEN_XENBUS_FRONTEND=y
+ CONFIG_XEN_GNTDEV=m
+ CONFIG_XEN_GRANT_DEV_ALLOC=m
+ # CONFIG_XEN_GRANT_DMA_ALLOC is not set
+ CONFIG_SWIOTLB_XEN=y
+ # CONFIG_XEN_PVCALLS_FRONTEND is not set
+-# CONFIG_XEN_PVCALLS_BACKEND is not set
+-CONFIG_XEN_SCSI_BACKEND=m
+ CONFIG_XEN_PRIVCMD=m
+ CONFIG_XEN_EFI=y
+ CONFIG_XEN_AUTO_XLATE=y
+ CONFIG_STAGING=y
+-# CONFIG_PRISM2_USB is not set
+ # CONFIG_COMEDI is not set
+-# CONFIG_RTL8192U is not set
+-# CONFIG_RTLLIB is not set
+-CONFIG_RTL8723BS=m
+-CONFIG_R8712U=m
+-CONFIG_R8188EU=m
+-CONFIG_88EU_AP_MODE=y
+ # CONFIG_R8822BE is not set
+ # CONFIG_RTS5208 is not set
+ # CONFIG_VT6655 is not set
+-# CONFIG_VT6656 is not set
+ 
+ #
+ # IIO staging drivers
+@@ -6769,12 +5555,11 @@
+ #
+ # Android
+ #
+-CONFIG_ASHMEM=m
+-# CONFIG_ANDROID_VSOC is not set
+-# CONFIG_ION is not set
+ # CONFIG_STAGING_BOARD is not set
+ # CONFIG_LTE_GDM724X is not set
+ # CONFIG_FIREWIRE_SERIAL is not set
++CONFIG_MTD_SPINAND_MT29F=y
++CONFIG_MTD_SPINAND_ONDIEECC=y
+ # CONFIG_DGNC is not set
+ # CONFIG_GS_FPGABOOT is not set
+ # CONFIG_UNISYSSPAR is not set
+@@ -6785,10 +5570,9 @@
+ # CONFIG_MOST is not set
+ # CONFIG_KS7010 is not set
+ # CONFIG_GREYBUS is not set
+-CONFIG_BCM_VIDEOCORE=y
++CONFIG_BCM_VIDEOCORE=m
+ CONFIG_BCM2835_VCHIQ=m
+ CONFIG_SND_BCM2835=m
+-# CONFIG_VIDEO_BCM2835 is not set
+ # CONFIG_PI433 is not set
+ # CONFIG_MTK_MMC is not set
+ 
+@@ -6963,14 +5747,14 @@
+ #
+ # Amlogic SoC drivers
+ #
+-CONFIG_MESON_GX_SOCINFO=y
+-CONFIG_MESON_GX_PM_DOMAINS=y
+-CONFIG_MESON_MX_SOCINFO=y
++# CONFIG_MESON_GX_SOCINFO is not set
++# CONFIG_MESON_GX_PM_DOMAINS is not set
++# CONFIG_MESON_MX_SOCINFO is not set
+ 
+ #
+ # Broadcom SoC drivers
+ #
+-CONFIG_RASPBERRYPI_POWER=y
++# CONFIG_RASPBERRYPI_POWER is not set
+ # CONFIG_SOC_BRCMSTB is not set
+ 
+ #
+@@ -6995,15 +5779,13 @@
+ CONFIG_QCOM_WCNSS_CTRL=m
+ # CONFIG_QCOM_APR is not set
+ CONFIG_ROCKCHIP_GRF=y
+-CONFIG_ROCKCHIP_PM_DOMAINS=y
++# CONFIG_ROCKCHIP_PM_DOMAINS is not set
+ CONFIG_SUNXI_SRAM=y
+-CONFIG_ARCH_TEGRA_132_SOC=y
+-CONFIG_ARCH_TEGRA_210_SOC=y
++# CONFIG_ARCH_TEGRA_132_SOC is not set
++# CONFIG_ARCH_TEGRA_210_SOC is not set
+ # CONFIG_ARCH_TEGRA_186_SOC is not set
+ # CONFIG_ARCH_TEGRA_194_SOC is not set
+ CONFIG_SOC_TEGRA_FUSE=y
+-CONFIG_SOC_TEGRA_FLOWCTRL=y
+-CONFIG_SOC_TEGRA_PMC=y
+ # CONFIG_SOC_TI is not set
+ 
+ #
+@@ -7524,10 +6306,7 @@
+ #
+ # Android
+ #
+-CONFIG_ANDROID=y
+-CONFIG_ANDROID_BINDER_IPC=m
+-CONFIG_ANDROID_BINDER_DEVICES="binder"
+-# CONFIG_ANDROID_BINDER_IPC_SELFTEST is not set
++# CONFIG_ANDROID is not set
+ CONFIG_LIBNVDIMM=m
+ CONFIG_BLK_DEV_PMEM=m
+ CONFIG_ND_BLK=m
+@@ -7569,17 +6348,19 @@
+ CONFIG_DCACHE_WORD_ACCESS=y
+ CONFIG_FS_IOMAP=y
+ # CONFIG_EXT2_FS is not set
+-# CONFIG_EXT3_FS is not set
+-CONFIG_EXT4_FS=m
++CONFIG_EXT3_FS=y
++CONFIG_EXT3_FS_POSIX_ACL=y
++CONFIG_EXT3_FS_SECURITY=y
++CONFIG_EXT4_FS=y
+ CONFIG_EXT4_USE_FOR_EXT2=y
+ CONFIG_EXT4_FS_POSIX_ACL=y
+ CONFIG_EXT4_FS_SECURITY=y
+ CONFIG_EXT4_ENCRYPTION=y
+ CONFIG_EXT4_FS_ENCRYPTION=y
+ # CONFIG_EXT4_DEBUG is not set
+-CONFIG_JBD2=m
++CONFIG_JBD2=y
+ # CONFIG_JBD2_DEBUG is not set
+-CONFIG_FS_MBCACHE=m
++CONFIG_FS_MBCACHE=y
+ CONFIG_REISERFS_FS=m
+ # CONFIG_REISERFS_CHECK is not set
+ # CONFIG_REISERFS_PROC_INFO is not set
+@@ -7621,7 +6402,6 @@
+ CONFIG_F2FS_FS_SECURITY=y
+ # CONFIG_F2FS_CHECK_FS is not set
+ CONFIG_F2FS_FS_ENCRYPTION=y
+-# CONFIG_F2FS_IO_TRACE is not set
+ # CONFIG_F2FS_FAULT_INJECTION is not set
+ CONFIG_FS_DAX=y
+ CONFIG_FS_POSIX_ACL=y
+@@ -7629,7 +6409,7 @@
+ CONFIG_EXPORTFS_BLOCK_OPS=y
+ CONFIG_FILE_LOCKING=y
+ CONFIG_MANDATORY_FILE_LOCKING=y
+-CONFIG_FS_ENCRYPTION=m
++CONFIG_FS_ENCRYPTION=y
+ CONFIG_FSNOTIFY=y
+ CONFIG_DNOTIFY=y
+ CONFIG_INOTIFY_USER=y
+@@ -7670,8 +6450,8 @@
+ # CD-ROM/DVD Filesystems
+ #
+ CONFIG_ISO9660_FS=m
+-CONFIG_JOLIET=y
+-CONFIG_ZISOFS=y
++# CONFIG_JOLIET is not set
++# CONFIG_ZISOFS is not set
+ CONFIG_UDF_FS=m
+ 
+ #
+@@ -7720,21 +6500,12 @@
+ CONFIG_EFS_FS=m
+ CONFIG_JFFS2_FS=m
+ CONFIG_JFFS2_FS_DEBUG=0
+-CONFIG_JFFS2_FS_WRITEBUFFER=y
+-# CONFIG_JFFS2_FS_WBUF_VERIFY is not set
+-CONFIG_JFFS2_SUMMARY=y
+-CONFIG_JFFS2_FS_XATTR=y
+-CONFIG_JFFS2_FS_POSIX_ACL=y
+-CONFIG_JFFS2_FS_SECURITY=y
+-CONFIG_JFFS2_COMPRESSION_OPTIONS=y
++# CONFIG_JFFS2_FS_WRITEBUFFER is not set
++# CONFIG_JFFS2_SUMMARY is not set
++# CONFIG_JFFS2_FS_XATTR is not set
++# CONFIG_JFFS2_COMPRESSION_OPTIONS is not set
+ CONFIG_JFFS2_ZLIB=y
+-CONFIG_JFFS2_LZO=y
+ CONFIG_JFFS2_RTIME=y
+-# CONFIG_JFFS2_RUBIN is not set
+-# CONFIG_JFFS2_CMODE_NONE is not set
+-CONFIG_JFFS2_CMODE_PRIORITY=y
+-# CONFIG_JFFS2_CMODE_SIZE is not set
+-# CONFIG_JFFS2_CMODE_FAVOURLZO is not set
+ CONFIG_UBIFS_FS=m
+ CONFIG_UBIFS_FS_ADVANCED_COMPR=y
+ CONFIG_UBIFS_FS_LZO=y
+@@ -7744,7 +6515,7 @@
+ # CONFIG_UBIFS_FS_ENCRYPTION is not set
+ CONFIG_UBIFS_FS_SECURITY=y
+ # CONFIG_CRAMFS is not set
+-CONFIG_SQUASHFS=m
++CONFIG_SQUASHFS=y
+ CONFIG_SQUASHFS_FILE_CACHE=y
+ # CONFIG_SQUASHFS_FILE_DIRECT is not set
+ CONFIG_SQUASHFS_DECOMP_SINGLE=y
+@@ -7784,7 +6555,6 @@
+ CONFIG_PSTORE_COMPRESS_DEFAULT="deflate"
+ # CONFIG_PSTORE_CONSOLE is not set
+ # CONFIG_PSTORE_PMSG is not set
+-# CONFIG_PSTORE_FTRACE is not set
+ CONFIG_PSTORE_RAM=m
+ CONFIG_SYSV_FS=m
+ CONFIG_UFS_FS=m
+@@ -7834,7 +6604,6 @@
+ CONFIG_SUNRPC_SWAP=y
+ CONFIG_RPCSEC_GSS_KRB5=m
+ CONFIG_SUNRPC_DEBUG=y
+-CONFIG_SUNRPC_XPRT_RDMA=m
+ CONFIG_CEPH_FS=m
+ CONFIG_CEPH_FSCACHE=y
+ CONFIG_CEPH_FS_POSIX_ACL=y
+@@ -7850,7 +6619,6 @@
+ # CONFIG_CIFS_DEBUG2 is not set
+ # CONFIG_CIFS_DEBUG_DUMP_KEYS is not set
+ CONFIG_CIFS_DFS_UPCALL=y
+-# CONFIG_CIFS_SMB_DIRECT is not set
+ CONFIG_CIFS_FSCACHE=y
+ CONFIG_CODA_FS=m
+ CONFIG_AFS_FS=m
+@@ -7929,7 +6697,6 @@
+ CONFIG_SECURITY=y
+ CONFIG_SECURITYFS=y
+ CONFIG_SECURITY_NETWORK=y
+-# CONFIG_SECURITY_INFINIBAND is not set
+ CONFIG_SECURITY_NETWORK_XFRM=y
+ CONFIG_SECURITY_PATH=y
+ CONFIG_LSM_MMAP_MIN_ADDR=32768
+@@ -7988,15 +6755,15 @@
+ CONFIG_CRYPTO_FIPS=y
+ CONFIG_CRYPTO_ALGAPI=y
+ CONFIG_CRYPTO_ALGAPI2=y
+-CONFIG_CRYPTO_AEAD=m
++CONFIG_CRYPTO_AEAD=y
+ CONFIG_CRYPTO_AEAD2=y
+-CONFIG_CRYPTO_BLKCIPHER=m
++CONFIG_CRYPTO_BLKCIPHER=y
+ CONFIG_CRYPTO_BLKCIPHER2=y
+ CONFIG_CRYPTO_HASH=y
+ CONFIG_CRYPTO_HASH2=y
+-CONFIG_CRYPTO_RNG=m
++CONFIG_CRYPTO_RNG=y
+ CONFIG_CRYPTO_RNG2=y
+-CONFIG_CRYPTO_RNG_DEFAULT=m
++CONFIG_CRYPTO_RNG_DEFAULT=y
+ CONFIG_CRYPTO_AKCIPHER2=y
+ CONFIG_CRYPTO_AKCIPHER=y
+ CONFIG_CRYPTO_KPP2=y
+@@ -8010,7 +6777,7 @@
+ CONFIG_CRYPTO_USER=m
+ # CONFIG_CRYPTO_MANAGER_DISABLE_TESTS is not set
+ CONFIG_CRYPTO_GF128MUL=m
+-CONFIG_CRYPTO_NULL=m
++CONFIG_CRYPTO_NULL=y
+ CONFIG_CRYPTO_NULL2=y
+ CONFIG_CRYPTO_PCRYPT=m
+ CONFIG_CRYPTO_WORKQUEUE=y
+@@ -8032,20 +6799,20 @@
+ CONFIG_CRYPTO_AEGIS256=m
+ CONFIG_CRYPTO_MORUS640=m
+ CONFIG_CRYPTO_MORUS1280=m
+-CONFIG_CRYPTO_SEQIV=m
++CONFIG_CRYPTO_SEQIV=y
+ CONFIG_CRYPTO_ECHAINIV=m
+ 
+ #
+ # Block modes
+ #
+-CONFIG_CRYPTO_CBC=m
++CONFIG_CRYPTO_CBC=y
+ # CONFIG_CRYPTO_CFB is not set
+-CONFIG_CRYPTO_CTR=m
+-CONFIG_CRYPTO_CTS=m
+-CONFIG_CRYPTO_ECB=m
++CONFIG_CRYPTO_CTR=y
++CONFIG_CRYPTO_CTS=y
++CONFIG_CRYPTO_ECB=y
+ CONFIG_CRYPTO_LRW=m
+ CONFIG_CRYPTO_PCBC=m
+-CONFIG_CRYPTO_XTS=m
++CONFIG_CRYPTO_XTS=y
+ # CONFIG_CRYPTO_KEYWRAP is not set
+ 
+ #
+@@ -8059,7 +6826,7 @@
+ #
+ # Digest
+ #
+-CONFIG_CRYPTO_CRC32C=m
++CONFIG_CRYPTO_CRC32C=y
+ CONFIG_CRYPTO_CRC32=m
+ CONFIG_CRYPTO_CRCT10DIF=y
+ CONFIG_CRYPTO_GHASH=m
+@@ -8118,12 +6885,12 @@
+ # Random Number Generation
+ #
+ CONFIG_CRYPTO_ANSI_CPRNG=m
+-CONFIG_CRYPTO_DRBG_MENU=m
++CONFIG_CRYPTO_DRBG_MENU=y
+ CONFIG_CRYPTO_DRBG_HMAC=y
+ # CONFIG_CRYPTO_DRBG_HASH is not set
+ # CONFIG_CRYPTO_DRBG_CTR is not set
+-CONFIG_CRYPTO_DRBG=m
+-CONFIG_CRYPTO_JITTERENTROPY=m
++CONFIG_CRYPTO_DRBG=y
++CONFIG_CRYPTO_JITTERENTROPY=y
+ CONFIG_CRYPTO_USER_API=m
+ CONFIG_CRYPTO_USER_API_HASH=m
+ CONFIG_CRYPTO_USER_API_SKCIPHER=m
+@@ -8166,7 +6933,6 @@
+ CONFIG_SYSTEM_BLACKLIST_HASH_LIST=""
+ CONFIG_EFI_SIGNATURE_LIST_PARSER=y
+ CONFIG_LOAD_UEFI_KEYS=y
+-CONFIG_BINARY_PRINTF=y
+ 
+ #
+ # Library routines
+@@ -8183,9 +6949,9 @@
+ CONFIG_ARCH_HAS_FAST_MULTIPLIER=y
+ CONFIG_INDIRECT_PIO=y
+ CONFIG_CRC_CCITT=m
+-CONFIG_CRC16=m
++CONFIG_CRC16=y
+ CONFIG_CRC_T10DIF=y
+-CONFIG_CRC_ITU_T=m
++CONFIG_CRC_ITU_T=y
+ CONFIG_CRC32=y
+ # CONFIG_CRC32_SELFTEST is not set
+ CONFIG_CRC32_SLICEBY8=y
+@@ -8194,10 +6960,10 @@
+ # CONFIG_CRC32_BIT is not set
+ CONFIG_CRC64=m
+ # CONFIG_CRC4 is not set
+-CONFIG_CRC7=m
++CONFIG_CRC7=y
+ CONFIG_LIBCRC32C=m
+ CONFIG_CRC8=m
+-CONFIG_XXHASH=m
++CONFIG_XXHASH=y
+ CONFIG_AUDIT_GENERIC=y
+ CONFIG_AUDIT_ARCH_COMPAT_GENERIC=y
+ CONFIG_AUDIT_COMPAT_GENERIC=y
+@@ -8210,7 +6976,7 @@
+ CONFIG_LZ4HC_COMPRESS=m
+ CONFIG_LZ4_DECOMPRESS=y
+ CONFIG_ZSTD_COMPRESS=m
+-CONFIG_ZSTD_DECOMPRESS=m
++CONFIG_ZSTD_DECOMPRESS=y
+ CONFIG_XZ_DEC=y
+ # CONFIG_XZ_DEC_X86 is not set
+ # CONFIG_XZ_DEC_POWERPC is not set
+@@ -8226,9 +6992,11 @@
+ CONFIG_DECOMPRESS_LZO=y
+ CONFIG_DECOMPRESS_LZ4=y
+ CONFIG_GENERIC_ALLOCATOR=y
+-CONFIG_REED_SOLOMON=m
++CONFIG_REED_SOLOMON=y
+ CONFIG_REED_SOLOMON_ENC8=y
+ CONFIG_REED_SOLOMON_DEC8=y
++CONFIG_REED_SOLOMON_DEC16=y
++CONFIG_BCH=y
+ CONFIG_TEXTSEARCH=y
+ CONFIG_TEXTSEARCH_KMP=m
+ CONFIG_TEXTSEARCH_BM=m
+@@ -8245,7 +7013,6 @@
+ CONFIG_ARCH_DMA_ADDR_T_64BIT=y
+ CONFIG_HAVE_GENERIC_DMA_COHERENT=y
+ CONFIG_DMA_DIRECT_OPS=y
+-CONFIG_DMA_VIRT_OPS=y
+ CONFIG_SWIOTLB=y
+ CONFIG_SGL_ALLOC=y
+ CONFIG_CHECK_SIGNATURE=y
+@@ -8323,7 +7090,6 @@
+ CONFIG_PAGE_POISONING=y
+ CONFIG_PAGE_POISONING_NO_SANITY=y
+ # CONFIG_PAGE_POISONING_ZERO is not set
+-# CONFIG_DEBUG_PAGE_REF is not set
+ # CONFIG_DEBUG_RODATA_TEST is not set
+ # CONFIG_DEBUG_OBJECTS is not set
+ # CONFIG_SLUB_DEBUG_ON is not set
+@@ -8407,51 +7173,16 @@
+ # CONFIG_NETDEV_NOTIFIER_ERROR_INJECT is not set
+ # CONFIG_FAULT_INJECTION is not set
+ # CONFIG_LATENCYTOP is not set
+-CONFIG_NOP_TRACER=y
+ CONFIG_HAVE_FUNCTION_TRACER=y
+ CONFIG_HAVE_FUNCTION_GRAPH_TRACER=y
+ CONFIG_HAVE_DYNAMIC_FTRACE=y
+ CONFIG_HAVE_FTRACE_MCOUNT_RECORD=y
+ CONFIG_HAVE_SYSCALL_TRACEPOINTS=y
+ CONFIG_HAVE_C_RECORDMCOUNT=y
+-CONFIG_TRACER_MAX_TRACE=y
+-CONFIG_TRACE_CLOCK=y
+-CONFIG_RING_BUFFER=y
+-CONFIG_EVENT_TRACING=y
+-CONFIG_CONTEXT_SWITCH_TRACER=y
+-CONFIG_TRACING=y
+-CONFIG_GENERIC_TRACER=y
+ CONFIG_TRACING_SUPPORT=y
+-CONFIG_FTRACE=y
+-CONFIG_FUNCTION_TRACER=y
+-CONFIG_FUNCTION_GRAPH_TRACER=y
+-# CONFIG_PREEMPTIRQ_EVENTS is not set
+-# CONFIG_IRQSOFF_TRACER is not set
+-# CONFIG_SCHED_TRACER is not set
+-# CONFIG_HWLAT_TRACER is not set
+-CONFIG_FTRACE_SYSCALLS=y
+-CONFIG_TRACER_SNAPSHOT=y
+-# CONFIG_TRACER_SNAPSHOT_PER_CPU_SWAP is not set
+-CONFIG_BRANCH_PROFILE_NONE=y
+-# CONFIG_PROFILE_ANNOTATED_BRANCHES is not set
+-CONFIG_STACK_TRACER=y
+-CONFIG_BLK_DEV_IO_TRACE=y
+-CONFIG_KPROBE_EVENTS=y
+-CONFIG_UPROBE_EVENTS=y
+-CONFIG_BPF_EVENTS=y
+-CONFIG_PROBE_EVENTS=y
+-CONFIG_DYNAMIC_FTRACE=y
+-# CONFIG_FUNCTION_PROFILER is not set
+-CONFIG_FTRACE_MCOUNT_RECORD=y
+-# CONFIG_FTRACE_STARTUP_TEST is not set
+-# CONFIG_HIST_TRIGGERS is not set
+-# CONFIG_TRACEPOINT_BENCHMARK is not set
+-# CONFIG_RING_BUFFER_BENCHMARK is not set
+-# CONFIG_RING_BUFFER_STARTUP_TEST is not set
+-# CONFIG_PREEMPTIRQ_DELAY_TEST is not set
+-# CONFIG_TRACE_EVAL_MAP_FILE is not set
+-CONFIG_TRACING_EVENTS_GPIO=y
+-# CONFIG_DMA_API_DEBUG is not set
++# CONFIG_FTRACE is not set
++CONFIG_DMA_API_DEBUG=y
++# CONFIG_DMA_API_DEBUG_SG is not set
+ CONFIG_RUNTIME_TESTING_MENU=y
+ # CONFIG_LKDTM is not set
+ # CONFIG_TEST_LIST_SORT is not set
+@@ -8491,8 +7222,7 @@
+ CONFIG_ARCH_HAS_UBSAN_SANITIZE_ALL=y
+ # CONFIG_UBSAN is not set
+ CONFIG_ARCH_HAS_DEVMEM_IS_ALLOWED=y
+-CONFIG_STRICT_DEVMEM=y
+-CONFIG_IO_STRICT_DEVMEM=y
++# CONFIG_STRICT_DEVMEM is not set
+ # CONFIG_ARM64_PTDUMP_DEBUGFS is not set
+ # CONFIG_PID_IN_CONTEXTIDR is not set
+ # CONFIG_ARM64_RANDOMIZE_TEXT_OFFSET is not set
diff --git a/patch/0120-arm64-pcie-irq.patch b/patch/0120-arm64-pcie-irq.patch
index e69de29..30b7b85 100644
--- a/patch/0120-arm64-pcie-irq.patch
+++ b/patch/0120-arm64-pcie-irq.patch
@@ -0,0 +1,72 @@
+From adf767005a35a2afeb8006c1023633af4de9d78e Mon Sep 17 00:00:00 2001
+From: Antony Rheneus <arheneus@marvell.com>
+Date: Thu, 17 Oct 2019 18:31:57 +0530
+Subject: [PATCH] arm64 pcie irq
+
+---
+ arch/arm64/kernel/pci.c | 9 +++++++++
+ drivers/acpi/pci_irq.c | 9 +++++++++
+ 2 file changed, 9 insertions(+)
+
+diff --git a/arch/arm64/kernel/pci.c b/arch/arm64/kernel/pci.c
+index 0e2ea1c..8679828 100644
+--- a/arch/arm64/kernel/pci.c
++++ b/arch/arm64/kernel/pci.c
+@@ -28,8 +28,11 @@
+  */
+ int pcibios_alloc_irq(struct pci_dev *dev)
+ {
+-	if (!acpi_disabled)
++	if (!acpi_disabled) 
++	{
++		dev->irq = 0;
+ 		acpi_pci_irq_enable(dev);
++	}
+ 
+ 	return 0;
+ }
+diff --git a/drivers/acpi/pci_irq.c b/drivers/acpi/pci_irq.c
+index c576a6f..48c321a 100644
+--- a/drivers/acpi/pci_irq.c
++++ b/drivers/acpi/pci_irq.c
+@@ -390,7 +390,7 @@ static inline int acpi_isa_register_gsi(struct pci_dev *dev)
+ 
+ static inline bool acpi_pci_irq_valid(struct pci_dev *dev, u8 pin)
+ {
+-#ifdef CONFIG_X86
++#if defined(CONFIG_X86) || defined(CONFIG_ARM64)
+ 	/*
+ 	 * On x86 irq line 0xff means "unknown" or "no connection"
+ 	 * (PCI 3.0, Section 6.2.4, footnote on page 223).
+diff --git a/drivers/acpi/pci_irq.c b/drivers/acpi/pci_irq.c
+index c576a6f..48c321a 100644
+--- a/drivers/pci/pci.c
++++ b/drivers/pci/pci.c
+@@ -1779,6 +1779,9 @@
+  */
+ int __weak pcibios_add_device(struct pci_dev *dev)
+ {
++#if defined(CONFIG_ARM64)
++	dev->irq = of_irq_parse_and_map_pci(dev, 0, 0);
++#endif
+ 	return 0;
+ }
+ 
+diff --git a/drivers/pci/pcie/portdrv_core.c b/drivers/pci/pcie/portdrv_core.c
+index c576a6f..48c321a 100644
+--- a/drivers/pci/pcie/portdrv_core.c
++++ b/drivers/pci/pcie/portdrv_core.c
+@@ -103,8 +103,13 @@
+ 	u32 pme = 0, aer = 0, dpc = 0;
+ 
+ 	/* Allocate the maximum possible number of MSI/MSI-X vectors */
++#if defined(CONFIG_ARM64)
++	nr_entries = pci_alloc_irq_vectors(dev, 1, PCIE_PORT_MAX_MSI_ENTRIES,
++			PCI_IRQ_MSI);
++#else
+ 	nr_entries = pci_alloc_irq_vectors(dev, 1, PCIE_PORT_MAX_MSI_ENTRIES,
+ 			PCI_IRQ_MSIX | PCI_IRQ_MSI);
++#endif
+ 	if (nr_entries < 0)
+ 		return nr_entries;
+ 
diff --git a/patch/0120-arm64-reduced-configs.patch b/patch/0120-arm64-reduced-configs.patch
index e69de29..edf697a 100644
--- a/patch/0120-arm64-reduced-configs.patch
+++ b/patch/0120-arm64-reduced-configs.patch
@@ -0,0 +1,2529 @@
+diff --git a/debian/build/build_arm64_none_arm64/.config b/debian/build/build_arm64_none_arm64/.config
+index 64d0c1e..5e81b7a 100644
+--- a/debian/build/build_arm64_none_arm64/.config
++++ b/debian/build/build_arm64_none_arm64/.config
+@@ -212,7 +212,6 @@ CONFIG_SLAB_FREELIST_HARDENED=y
+ CONFIG_SLUB_CPU_PARTIAL=y
+ CONFIG_SYSTEM_DATA_VERIFICATION=y
+ CONFIG_PROFILING=y
+-CONFIG_TRACEPOINTS=y
+ CONFIG_ARM64=y
+ CONFIG_64BIT=y
+ CONFIG_MMU=y
+@@ -310,6 +309,7 @@ CONFIG_PCI_IOV=y
+ CONFIG_PCI_PRI=y
+ CONFIG_PCI_PASID=y
+ CONFIG_PCI_LABEL=y
++# CONFIG_PCI_REASSIGN_PREF_MEM is not set
+ CONFIG_HOTPLUG_PCI=y
+ CONFIG_HOTPLUG_PCI_ACPI=y
+ CONFIG_HOTPLUG_PCI_ACPI_IBM=m
+@@ -700,7 +700,6 @@ CONFIG_KEXEC_CORE=y
+ CONFIG_KPROBES=y
+ CONFIG_JUMP_LABEL=y
+ # CONFIG_STATIC_KEYS_SELFTEST is not set
+-CONFIG_UPROBES=y
+ CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS=y
+ CONFIG_KRETPROBES=y
+ CONFIG_HAVE_KPROBES=y
+@@ -967,7 +966,6 @@ CONFIG_ZSMALLOC=m
+ CONFIG_GENERIC_EARLY_IOREMAP=y
+ # CONFIG_DEFERRED_STRUCT_PAGE_INIT is not set
+ # CONFIG_IDLE_PAGE_TRACKING is not set
+-CONFIG_FRAME_VECTOR=y
+ # CONFIG_PERCPU_STATS is not set
+ # CONFIG_GUP_BENCHMARK is not set
+ CONFIG_ARCH_HAS_PTE_SPECIAL=y
+@@ -1228,7 +1226,7 @@ CONFIG_NETFILTER_XT_TARGET_TCPOPTSTRIP=m
+ #
+ CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=m
+ CONFIG_NETFILTER_XT_MATCH_BPF=m
+-CONFIG_NETFILTER_XT_MATCH_CGROUP=m
++# CONFIG_NETFILTER_XT_MATCH_CGROUP is not set
+ CONFIG_NETFILTER_XT_MATCH_CLUSTER=m
+ CONFIG_NETFILTER_XT_MATCH_COMMENT=m
+ CONFIG_NETFILTER_XT_MATCH_CONNBYTES=m
+@@ -1592,7 +1590,7 @@ CONFIG_CLS_U32_MARK=y
+ CONFIG_NET_CLS_RSVP=m
+ CONFIG_NET_CLS_RSVP6=m
+ CONFIG_NET_CLS_FLOW=m
+-CONFIG_NET_CLS_CGROUP=m
++# CONFIG_NET_CLS_CGROUP is not set
+ CONFIG_NET_CLS_BPF=m
+ CONFIG_NET_CLS_FLOWER=m
+ CONFIG_NET_CLS_MATCHALL=m
+@@ -1661,8 +1659,8 @@ CONFIG_NET_L3_MASTER_DEV=y
+ CONFIG_RPS=y
+ CONFIG_RFS_ACCEL=y
+ CONFIG_XPS=y
+-CONFIG_CGROUP_NET_PRIO=y
+-CONFIG_CGROUP_NET_CLASSID=y
++# CONFIG_CGROUP_NET_PRIO is not set
++# CONFIG_CGROUP_NET_CLASSID is not set
+ CONFIG_NET_RX_BUSY_POLL=y
+ CONFIG_BQL=y
+ CONFIG_BPF_JIT=y
+@@ -1673,7 +1671,6 @@ CONFIG_NET_FLOW_LIMIT=y
+ # Network testing
+ #
+ CONFIG_NET_PKTGEN=m
+-CONFIG_NET_DROP_MONITOR=m
+ # CONFIG_HAMRADIO is not set
+ CONFIG_CAN=m
+ CONFIG_CAN_RAW=m
+@@ -1726,15 +1723,15 @@ CONFIG_CAN_UCAN=m
+ CONFIG_BT=m
+ CONFIG_BT_BREDR=y
+ CONFIG_BT_RFCOMM=m
+-CONFIG_BT_RFCOMM_TTY=y
++# CONFIG_BT_RFCOMM_TTY is not set
+ CONFIG_BT_BNEP=m
+-CONFIG_BT_BNEP_MC_FILTER=y
+-CONFIG_BT_BNEP_PROTO_FILTER=y
++# CONFIG_BT_BNEP_MC_FILTER is not set
++# CONFIG_BT_BNEP_PROTO_FILTER is not set
+ CONFIG_BT_HIDP=m
+ CONFIG_BT_HS=y
+ CONFIG_BT_LE=y
+ CONFIG_BT_6LOWPAN=m
+-CONFIG_BT_LEDS=y
++# CONFIG_BT_LEDS is not set
+ # CONFIG_BT_SELFTEST is not set
+ CONFIG_BT_DEBUGFS=y
+ 
+@@ -1773,7 +1770,6 @@ CONFIG_BT_ATH3K=m
+ CONFIG_BT_WILINK=m
+ CONFIG_BT_MTKUART=m
+ CONFIG_BT_QCOMSMD=m
+-CONFIG_BT_HCIRSI=m
+ CONFIG_AF_RXRPC=m
+ CONFIG_AF_RXRPC_IPV6=y
+ # CONFIG_AF_RXRPC_INJECT_LOSS is not set
+@@ -1783,11 +1779,8 @@ CONFIG_RXKAD=y
+ CONFIG_STREAM_PARSER=y
+ CONFIG_FIB_RULES=y
+ CONFIG_WIRELESS=y
+-CONFIG_WIRELESS_EXT=y
+ CONFIG_WEXT_CORE=y
+ CONFIG_WEXT_PROC=y
+-CONFIG_WEXT_SPY=y
+-CONFIG_WEXT_PRIV=y
+ CONFIG_CFG80211=m
+ # CONFIG_NL80211_TESTMODE is not set
+ # CONFIG_CFG80211_DEVELOPER_WARNINGS is not set
+@@ -1798,12 +1791,6 @@ CONFIG_CFG80211_DEFAULT_PS=y
+ # CONFIG_CFG80211_DEBUGFS is not set
+ CONFIG_CFG80211_CRDA_SUPPORT=y
+ CONFIG_CFG80211_WEXT=y
+-CONFIG_CFG80211_WEXT_EXPORT=y
+-CONFIG_LIB80211=m
+-CONFIG_LIB80211_CRYPT_WEP=m
+-CONFIG_LIB80211_CRYPT_CCMP=m
+-CONFIG_LIB80211_CRYPT_TKIP=m
+-# CONFIG_LIB80211_DEBUG is not set
+ CONFIG_MAC80211=m
+ CONFIG_MAC80211_HAS_RC=y
+ CONFIG_MAC80211_RC_MINSTREL=y
+@@ -1894,7 +1881,7 @@ CONFIG_SOC_BUS=y
+ CONFIG_REGMAP=y
+ CONFIG_REGMAP_I2C=y
+ CONFIG_REGMAP_SPI=y
+-CONFIG_REGMAP_SPMI=y
++CONFIG_REGMAP_SPMI=m
+ CONFIG_REGMAP_MMIO=y
+ CONFIG_REGMAP_IRQ=y
+ CONFIG_DMA_SHARED_BUFFER=y
+@@ -1923,7 +1910,6 @@ CONFIG_QCOM_EBI2=y
+ # CONFIG_SIMPLE_PM_BUS is not set
+ CONFIG_SUN50I_DE2_BUS=y
+ CONFIG_SUNXI_RSB=y
+-CONFIG_TEGRA_ACONNECT=y
+ # CONFIG_TEGRA_GMI is not set
+ CONFIG_VEXPRESS_CONFIG=y
+ CONFIG_CONNECTOR=y
+@@ -1932,12 +1918,12 @@ CONFIG_GNSS=m
+ CONFIG_GNSS_SERIAL=m
+ CONFIG_GNSS_SIRF_SERIAL=m
+ CONFIG_GNSS_UBX_SERIAL=m
+-CONFIG_MTD=m
++CONFIG_MTD=y
+ # CONFIG_MTD_TESTS is not set
+ # CONFIG_MTD_REDBOOT_PARTS is not set
+-# CONFIG_MTD_CMDLINE_PARTS is not set
++CONFIG_MTD_CMDLINE_PARTS=y
+ # CONFIG_MTD_AFS_PARTS is not set
+-CONFIG_MTD_OF_PARTS=m
++CONFIG_MTD_OF_PARTS=y
+ CONFIG_MTD_AR7_PARTS=m
+ 
+ #
+@@ -1947,12 +1933,12 @@ CONFIG_MTD_AR7_PARTS=m
+ #
+ # User Modules And Translation Layers
+ #
+-CONFIG_MTD_BLKDEVS=m
+-CONFIG_MTD_BLOCK=m
+-CONFIG_MTD_BLOCK_RO=m
+-# CONFIG_FTL is not set
+-# CONFIG_NFTL is not set
+-# CONFIG_INFTL is not set
++CONFIG_MTD_BLKDEVS=y
++CONFIG_MTD_BLOCK=y
++CONFIG_FTL=y
++CONFIG_NFTL=y
++CONFIG_NFTL_RW=y
++CONFIG_INFTL=y
+ CONFIG_RFD_FTL=m
+ CONFIG_SSFDC=m
+ # CONFIG_SM_FTL is not set
+@@ -1963,13 +1949,29 @@ CONFIG_MTD_SWAP=m
+ #
+ # RAM/ROM/Flash chip drivers
+ #
+-# CONFIG_MTD_CFI is not set
+-# CONFIG_MTD_JEDECPROBE is not set
++CONFIG_MTD_CFI=y
++CONFIG_MTD_JEDECPROBE=y
++CONFIG_MTD_GEN_PROBE=y
++CONFIG_MTD_CFI_ADV_OPTIONS=y
++CONFIG_MTD_CFI_NOSWAP=y
++# CONFIG_MTD_CFI_BE_BYTE_SWAP is not set
++# CONFIG_MTD_CFI_LE_BYTE_SWAP is not set
++CONFIG_MTD_CFI_GEOMETRY=y
+ CONFIG_MTD_MAP_BANK_WIDTH_1=y
+ CONFIG_MTD_MAP_BANK_WIDTH_2=y
+ CONFIG_MTD_MAP_BANK_WIDTH_4=y
++# CONFIG_MTD_MAP_BANK_WIDTH_8 is not set
++# CONFIG_MTD_MAP_BANK_WIDTH_16 is not set
++# CONFIG_MTD_MAP_BANK_WIDTH_32 is not set
+ CONFIG_MTD_CFI_I1=y
+ CONFIG_MTD_CFI_I2=y
++# CONFIG_MTD_CFI_I4 is not set
++# CONFIG_MTD_CFI_I8 is not set
++# CONFIG_MTD_OTP is not set
++# CONFIG_MTD_CFI_INTELEXT is not set
++# CONFIG_MTD_CFI_AMDSTD is not set
++# CONFIG_MTD_CFI_STAA is not set
++CONFIG_MTD_CFI_UTIL=y
+ CONFIG_MTD_RAM=m
+ # CONFIG_MTD_ROM is not set
+ # CONFIG_MTD_ABSENT is not set
+@@ -2002,12 +2004,36 @@ CONFIG_MTD_SST25L=m
+ # Disk-On-Chip Device Drivers
+ #
+ # CONFIG_MTD_DOCG3 is not set
+-CONFIG_MTD_ONENAND=m
++CONFIG_MTD_ONENAND=y
+ CONFIG_MTD_ONENAND_VERIFY_WRITE=y
+ # CONFIG_MTD_ONENAND_GENERIC is not set
+ # CONFIG_MTD_ONENAND_OTP is not set
+ CONFIG_MTD_ONENAND_2X_PROGRAM=y
+-# CONFIG_MTD_NAND is not set
++CONFIG_MTD_NAND_ECC=y
++CONFIG_MTD_NAND_ECC_SMC=y
++CONFIG_MTD_NAND=y
++CONFIG_MTD_NAND_BCH=y
++CONFIG_MTD_NAND_ECC_BCH=y
++CONFIG_MTD_SM_COMMON=y
++# CONFIG_MTD_NAND_DENALI_PCI is not set
++# CONFIG_MTD_NAND_DENALI_DT is not set
++# CONFIG_MTD_NAND_GPIO is not set
++CONFIG_MTD_NAND_RICOH=y
++CONFIG_MTD_NAND_DISKONCHIP=y
++CONFIG_MTD_NAND_DISKONCHIP_PROBE_ADVANCED=y
++CONFIG_MTD_NAND_DISKONCHIP_PROBE_ADDRESS=0x0
++# CONFIG_MTD_NAND_DISKONCHIP_PROBE_HIGH is not set
++# CONFIG_MTD_NAND_DISKONCHIP_BBTWRITE is not set
++# CONFIG_MTD_NAND_DOCG4 is not set
++# CONFIG_MTD_NAND_CAFE is not set
++CONFIG_MTD_NAND_MARVELL=y
++# CONFIG_MTD_NAND_NANDSIM is not set
++CONFIG_MTD_NAND_BRCMNAND=y
++CONFIG_MTD_NAND_PLATFORM=y
++# CONFIG_MTD_NAND_SUNXI is not set
++CONFIG_MTD_NAND_HISI504=y
++# CONFIG_MTD_NAND_QCOM is not set
++# CONFIG_MTD_NAND_TEGRA is not set
+ # CONFIG_MTD_SPI_NAND is not set
+ 
+ #
+@@ -2035,7 +2061,7 @@ CONFIG_OF_KOBJ=y
+ CONFIG_OF_ADDRESS=y
+ CONFIG_OF_IRQ=y
+ CONFIG_OF_NET=y
+-CONFIG_OF_MDIO=m
++CONFIG_OF_MDIO=y
+ CONFIG_OF_RESERVED_MEM=y
+ # CONFIG_OF_OVERLAY is not set
+ CONFIG_OF_NUMA=y
+@@ -2085,6 +2111,7 @@ CONFIG_BLK_DEV_RBD=m
+ CONFIG_NVME_CORE=m
+ CONFIG_BLK_DEV_NVME=m
+ CONFIG_NVME_MULTIPATH=y
++# CONFIG_NVME_HWMON is not set
+ CONFIG_NVME_FABRICS=m
+ CONFIG_NVME_RDMA=m
+ CONFIG_NVME_FC=m
+@@ -2104,7 +2131,7 @@ CONFIG_AD525X_DPOT_SPI=m
+ # CONFIG_DUMMY_IRQ is not set
+ # CONFIG_PHANTOM is not set
+ CONFIG_SGI_IOC4=m
+-CONFIG_TIFM_CORE=m
++CONFIG_TIFM_CORE=y
+ CONFIG_TIFM_7XX1=m
+ CONFIG_ICS932S401=m
+ CONFIG_ENCLOSURE_SERVICES=m
+@@ -2136,7 +2163,9 @@ CONFIG_EEPROM_MAX6875=m
+ CONFIG_EEPROM_93CX6=m
+ # CONFIG_EEPROM_93XX46 is not set
+ # CONFIG_EEPROM_IDT_89HPESX is not set
+-CONFIG_CB710_CORE=m
++CONFIG_EEPROM_SFF_8436=y
++CONFIG_EEPROM_OPTOE=y
++CONFIG_CB710_CORE=y
+ # CONFIG_CB710_DEBUG is not set
+ CONFIG_CB710_DEBUG_ASSUMPTIONS=y
+ 
+@@ -2525,23 +2554,7 @@ CONFIG_NLMON=m
+ CONFIG_NET_VRF=m
+ CONFIG_VSOCKMON=m
+ # CONFIG_ARCNET is not set
+-CONFIG_ATM_DRIVERS=y
+-CONFIG_ATM_DUMMY=m
+-# CONFIG_ATM_TCP is not set
+-# CONFIG_ATM_LANAI is not set
+-# CONFIG_ATM_ENI is not set
+-CONFIG_ATM_NICSTAR=m
+-CONFIG_ATM_NICSTAR_USE_SUNI=y
+-CONFIG_ATM_NICSTAR_USE_IDT77105=y
+-# CONFIG_ATM_IDT77252 is not set
+-CONFIG_ATM_IA=m
+-# CONFIG_ATM_IA_DEBUG is not set
+-CONFIG_ATM_FORE200E=m
+-# CONFIG_ATM_FORE200E_USE_TASKLET is not set
+-CONFIG_ATM_FORE200E_TX_RETRY=16
+-CONFIG_ATM_FORE200E_DEBUG=0
+-# CONFIG_ATM_HE is not set
+-CONFIG_ATM_SOLOS=m
++# CONFIG_ATM_DRIVERS is not set
+ 
+ #
+ # CAIF transport drivers
+@@ -2566,38 +2579,21 @@ CONFIG_NET_DSA_MV88E6XXX_GLOBAL2=y
+ # CONFIG_NET_DSA_VITESSE_VSC73XX is not set
+ CONFIG_ETHERNET=y
+ CONFIG_MDIO=m
+-CONFIG_NET_VENDOR_3COM=y
+-CONFIG_VORTEX=m
+-CONFIG_TYPHOON=m
+-CONFIG_NET_VENDOR_ADAPTEC=y
+-CONFIG_ADAPTEC_STARFIRE=m
+-CONFIG_NET_VENDOR_AGERE=y
+-CONFIG_ET131X=m
+-CONFIG_NET_VENDOR_ALACRITECH=y
+-# CONFIG_SLICOSS is not set
++# CONFIG_NET_VENDOR_3COM is not set
++# CONFIG_NET_VENDOR_ADAPTEC is not set
++# CONFIG_NET_VENDOR_AGERE is not set
++# CONFIG_NET_VENDOR_ALACRITECH is not set
+ CONFIG_NET_VENDOR_ALLWINNER=y
+ # CONFIG_SUN4I_EMAC is not set
+-CONFIG_NET_VENDOR_ALTEON=y
+-CONFIG_ACENIC=m
+-# CONFIG_ACENIC_OMIT_TIGON_I is not set
++# CONFIG_NET_VENDOR_ALTEON is not set
+ # CONFIG_ALTERA_TSE is not set
+-CONFIG_NET_VENDOR_AMAZON=y
+-CONFIG_ENA_ETHERNET=m
+-CONFIG_NET_VENDOR_AMD=y
+-# CONFIG_AMD8111_ETH is not set
+-CONFIG_PCNET32=m
+-CONFIG_AMD_XGBE=m
+-CONFIG_AMD_XGBE_DCB=y
++# CONFIG_NET_VENDOR_AMAZON is not set
++# CONFIG_NET_VENDOR_AMD is not set
+ CONFIG_NET_XGENE=m
+ CONFIG_NET_XGENE_V2=m
+-CONFIG_NET_VENDOR_AQUANTIA=y
++# CONFIG_NET_VENDOR_AQUANTIA is not set
+ # CONFIG_NET_VENDOR_ARC is not set
+-CONFIG_NET_VENDOR_ATHEROS=y
+-CONFIG_ATL2=m
+-CONFIG_ATL1=m
+-CONFIG_ATL1E=m
+-CONFIG_ATL1C=m
+-CONFIG_ALX=m
++# CONFIG_NET_VENDOR_ATHEROS is not set
+ # CONFIG_NET_VENDOR_AURORA is not set
+ CONFIG_NET_VENDOR_BROADCOM=y
+ # CONFIG_B44 is not set
+@@ -2620,14 +2616,7 @@ CONFIG_NET_VENDOR_CADENCE=y
+ CONFIG_MACB=m
+ CONFIG_MACB_USE_HWSTAMP=y
+ # CONFIG_MACB_PCI is not set
+-CONFIG_NET_VENDOR_CAVIUM=y
+-CONFIG_THUNDER_NIC_PF=m
+-CONFIG_THUNDER_NIC_VF=m
+-CONFIG_THUNDER_NIC_BGX=m
+-CONFIG_THUNDER_NIC_RGX=m
+-CONFIG_CAVIUM_PTP=y
+-CONFIG_LIQUIDIO=m
+-CONFIG_LIQUIDIO_VF=m
++# CONFIG_NET_VENDOR_CAVIUM is not set
+ CONFIG_NET_VENDOR_CHELSIO=y
+ CONFIG_CHELSIO_T1=m
+ CONFIG_CHELSIO_T1_1G=y
+@@ -2637,27 +2626,11 @@ CONFIG_CHELSIO_T4_DCB=y
+ CONFIG_CHELSIO_T4_FCOE=y
+ CONFIG_CHELSIO_T4VF=m
+ CONFIG_CHELSIO_LIB=m
+-CONFIG_NET_VENDOR_CISCO=y
+-CONFIG_ENIC=m
+-CONFIG_NET_VENDOR_CORTINA=y
+-# CONFIG_GEMINI_ETHERNET is not set
++# CONFIG_NET_VENDOR_CISCO is not set
++# CONFIG_NET_VENDOR_CORTINA is not set
+ # CONFIG_DNET is not set
+-CONFIG_NET_VENDOR_DEC=y
+-CONFIG_NET_TULIP=y
+-CONFIG_DE2104X=m
+-CONFIG_DE2104X_DSL=0
+-CONFIG_TULIP=m
+-# CONFIG_TULIP_MWI is not set
+-# CONFIG_TULIP_MMIO is not set
+-CONFIG_TULIP_NAPI=y
+-CONFIG_TULIP_NAPI_HW_MITIGATION=y
+-CONFIG_WINBOND_840=m
+-CONFIG_DM9102=m
+-CONFIG_ULI526X=m
+-CONFIG_NET_VENDOR_DLINK=y
+-CONFIG_DL2K=m
+-CONFIG_SUNDANCE=m
+-# CONFIG_SUNDANCE_MMIO is not set
++# CONFIG_NET_VENDOR_DEC is not set
++# CONFIG_NET_VENDOR_DLINK is not set
+ CONFIG_NET_VENDOR_EMULEX=y
+ CONFIG_BE2NET=m
+ CONFIG_BE2NET_HWMON=y
+@@ -2682,31 +2655,13 @@ CONFIG_HNS3_HCLGEVF=m
+ CONFIG_HNS3_ENET=m
+ CONFIG_NET_VENDOR_HP=y
+ # CONFIG_HP100 is not set
+-CONFIG_NET_VENDOR_HUAWEI=y
+-CONFIG_HINIC=m
+-CONFIG_NET_VENDOR_I825XX=y
+-CONFIG_NET_VENDOR_INTEL=y
+-CONFIG_E100=m
+-CONFIG_E1000=m
+-CONFIG_E1000E=m
+-CONFIG_IGB=m
+-CONFIG_IGB_HWMON=y
+-CONFIG_IGBVF=m
+-CONFIG_IXGB=m
+-CONFIG_IXGBE=m
+-CONFIG_IXGBE_HWMON=y
+-CONFIG_IXGBE_DCB=y
+-CONFIG_IXGBEVF=m
+-CONFIG_I40E=m
+-CONFIG_I40E_DCB=y
+-CONFIG_I40EVF=m
+-CONFIG_ICE=m
+-# CONFIG_FM10K is not set
++# CONFIG_NET_VENDOR_HUAWEI is not set
++# CONFIG_NET_VENDOR_INTEL is not set
+ CONFIG_JME=m
+ CONFIG_NET_VENDOR_MARVELL=y
+-CONFIG_MVMDIO=m
+-CONFIG_MVNETA=m
+-CONFIG_MVPP2=m
++CONFIG_MVMDIO=y
++CONFIG_MVNETA=y
++CONFIG_MVPP2=y
+ CONFIG_SKGE=m
+ # CONFIG_SKGE_DEBUG is not set
+ CONFIG_SKGE_GENESIS=y
+@@ -2731,35 +2686,19 @@ CONFIG_MLX5_CORE_IPOIB=y
+ # CONFIG_MLX5_EN_IPSEC is not set
+ # CONFIG_MLXSW_CORE is not set
+ CONFIG_MLXFW=m
+-CONFIG_NET_VENDOR_MICREL=y
+-# CONFIG_KS8842 is not set
+-# CONFIG_KS8851 is not set
+-# CONFIG_KS8851_MLL is not set
+-CONFIG_KSZ884X_PCI=m
+-CONFIG_NET_VENDOR_MICROCHIP=y
+-# CONFIG_ENC28J60 is not set
+-# CONFIG_ENCX24J600 is not set
+-CONFIG_LAN743X=m
+-CONFIG_NET_VENDOR_MICROSEMI=y
+-# CONFIG_MSCC_OCELOT_SWITCH is not set
+-CONFIG_NET_VENDOR_MYRI=y
+-CONFIG_MYRI10GE=m
++# CONFIG_NET_VENDOR_MICREL is not set
++# CONFIG_NET_VENDOR_MICROCHIP is not set
++# CONFIG_NET_VENDOR_MICROSEMI is not set
++# CONFIG_NET_VENDOR_MYRI is not set
+ CONFIG_FEALNX=m
+-CONFIG_NET_VENDOR_NATSEMI=y
+-CONFIG_NATSEMI=m
+-CONFIG_NS83820=m
+-CONFIG_NET_VENDOR_NETERION=y
+-CONFIG_S2IO=m
+-CONFIG_VXGE=m
+-# CONFIG_VXGE_DEBUG_TRACE_ALL is not set
++# CONFIG_NET_VENDOR_NATSEMI is not set
++# CONFIG_NET_VENDOR_NETERION is not set
+ CONFIG_NET_VENDOR_NETRONOME=y
+ CONFIG_NFP=m
+ CONFIG_NFP_APP_FLOWER=y
+ CONFIG_NFP_APP_ABM_NIC=y
+ # CONFIG_NFP_DEBUG is not set
+ CONFIG_NET_VENDOR_NI=y
+-CONFIG_NET_VENDOR_8390=y
+-CONFIG_NE2K_PCI=m
+ CONFIG_NET_VENDOR_NVIDIA=y
+ # CONFIG_FORCEDETH is not set
+ CONFIG_NET_VENDOR_OKI=y
+@@ -2859,8 +2798,8 @@ CONFIG_DEFXX=m
+ CONFIG_SKFP=m
+ # CONFIG_HIPPI is not set
+ # CONFIG_NET_SB1000 is not set
+-CONFIG_MDIO_DEVICE=m
+-CONFIG_MDIO_BUS=m
++CONFIG_MDIO_DEVICE=y
++CONFIG_MDIO_BUS=y
+ # CONFIG_MDIO_BCM_UNIMAC is not set
+ # CONFIG_MDIO_BITBANG is not set
+ CONFIG_MDIO_BUS_MUX=m
+@@ -2874,8 +2813,8 @@ CONFIG_MDIO_I2C=m
+ # CONFIG_MDIO_SUN4I is not set
+ CONFIG_MDIO_THUNDER=m
+ CONFIG_MDIO_XGENE=m
+-CONFIG_PHYLINK=m
+-CONFIG_PHYLIB=m
++CONFIG_PHYLINK=y
++CONFIG_PHYLIB=y
+ CONFIG_SWPHY=y
+ CONFIG_LED_TRIGGER_PHY=y
+ 
+@@ -2898,13 +2837,13 @@ CONFIG_DP83822_PHY=m
+ CONFIG_DP83TC811_PHY=m
+ CONFIG_DP83848_PHY=m
+ CONFIG_DP83867_PHY=m
+-CONFIG_FIXED_PHY=m
++CONFIG_FIXED_PHY=y
+ CONFIG_ICPLUS_PHY=m
+ # CONFIG_INTEL_XWAY_PHY is not set
+ CONFIG_LSI_ET1011C_PHY=m
+ CONFIG_LXT_PHY=m
+-CONFIG_MARVELL_PHY=m
+-CONFIG_MARVELL_10G_PHY=m
++CONFIG_MARVELL_PHY=y
++CONFIG_MARVELL_10G_PHY=y
+ CONFIG_MESON_GXL_PHY=m
+ CONFIG_MICREL_PHY=m
+ CONFIG_MICROCHIP_PHY=m
+@@ -2970,12 +2909,12 @@ CONFIG_USB_NET_MCS7830=m
+ CONFIG_USB_NET_RNDIS_HOST=m
+ CONFIG_USB_NET_CDC_SUBSET_ENABLE=m
+ CONFIG_USB_NET_CDC_SUBSET=m
+-CONFIG_USB_ALI_M5632=y
+-CONFIG_USB_AN2720=y
++# CONFIG_USB_ALI_M5632 is not set
++# CONFIG_USB_AN2720 is not set
+ CONFIG_USB_BELKIN=y
+ CONFIG_USB_ARMLINUX=y
+-CONFIG_USB_EPSON2888=y
+-CONFIG_USB_KC2190=y
++# CONFIG_USB_EPSON2888 is not set
++# CONFIG_USB_KC2190 is not set
+ CONFIG_USB_NET_ZAURUS=m
+ CONFIG_USB_NET_CX82310_ETH=m
+ CONFIG_USB_NET_KALMIA=m
+@@ -2987,248 +2926,7 @@ CONFIG_USB_IPHETH=m
+ CONFIG_USB_SIERRA_NET=m
+ CONFIG_USB_VL600=m
+ CONFIG_USB_NET_CH9200=m
+-CONFIG_WLAN=y
+-# CONFIG_WIRELESS_WDS is not set
+-CONFIG_WLAN_VENDOR_ADMTEK=y
+-CONFIG_ADM8211=m
+-CONFIG_ATH_COMMON=m
+-CONFIG_WLAN_VENDOR_ATH=y
+-# CONFIG_ATH_DEBUG is not set
+-CONFIG_ATH5K=m
+-# CONFIG_ATH5K_DEBUG is not set
+-# CONFIG_ATH5K_TRACER is not set
+-CONFIG_ATH5K_PCI=y
+-CONFIG_ATH9K_HW=m
+-CONFIG_ATH9K_COMMON=m
+-CONFIG_ATH9K_BTCOEX_SUPPORT=y
+-CONFIG_ATH9K=m
+-CONFIG_ATH9K_PCI=y
+-# CONFIG_ATH9K_AHB is not set
+-# CONFIG_ATH9K_DEBUGFS is not set
+-# CONFIG_ATH9K_DYNACK is not set
+-# CONFIG_ATH9K_WOW is not set
+-CONFIG_ATH9K_RFKILL=y
+-CONFIG_ATH9K_CHANNEL_CONTEXT=y
+-CONFIG_ATH9K_PCOEM=y
+-CONFIG_ATH9K_HTC=m
+-# CONFIG_ATH9K_HTC_DEBUGFS is not set
+-# CONFIG_ATH9K_HWRNG is not set
+-CONFIG_CARL9170=m
+-CONFIG_CARL9170_LEDS=y
+-CONFIG_CARL9170_WPC=y
+-# CONFIG_CARL9170_HWRNG is not set
+-CONFIG_ATH6KL=m
+-CONFIG_ATH6KL_SDIO=m
+-CONFIG_ATH6KL_USB=m
+-# CONFIG_ATH6KL_DEBUG is not set
+-# CONFIG_ATH6KL_TRACING is not set
+-CONFIG_AR5523=m
+-CONFIG_WIL6210=m
+-CONFIG_WIL6210_ISR_COR=y
+-CONFIG_WIL6210_TRACING=y
+-CONFIG_WIL6210_DEBUGFS=y
+-CONFIG_ATH10K=m
+-CONFIG_ATH10K_CE=y
+-CONFIG_ATH10K_PCI=m
+-# CONFIG_ATH10K_AHB is not set
+-# CONFIG_ATH10K_SDIO is not set
+-CONFIG_ATH10K_USB=m
+-# CONFIG_ATH10K_SNOC is not set
+-# CONFIG_ATH10K_DEBUG is not set
+-# CONFIG_ATH10K_DEBUGFS is not set
+-# CONFIG_ATH10K_TRACING is not set
+-CONFIG_WCN36XX=m
+-# CONFIG_WCN36XX_DEBUGFS is not set
+-CONFIG_WLAN_VENDOR_ATMEL=y
+-# CONFIG_ATMEL is not set
+-CONFIG_AT76C50X_USB=m
+-CONFIG_WLAN_VENDOR_BROADCOM=y
+-CONFIG_B43=m
+-CONFIG_B43_BCMA=y
+-CONFIG_B43_SSB=y
+-CONFIG_B43_BUSES_BCMA_AND_SSB=y
+-# CONFIG_B43_BUSES_BCMA is not set
+-# CONFIG_B43_BUSES_SSB is not set
+-CONFIG_B43_PCI_AUTOSELECT=y
+-CONFIG_B43_PCICORE_AUTOSELECT=y
+-CONFIG_B43_SDIO=y
+-CONFIG_B43_BCMA_PIO=y
+-CONFIG_B43_PIO=y
+-CONFIG_B43_PHY_G=y
+-CONFIG_B43_PHY_N=y
+-CONFIG_B43_PHY_LP=y
+-CONFIG_B43_PHY_HT=y
+-CONFIG_B43_LEDS=y
+-CONFIG_B43_HWRNG=y
+-# CONFIG_B43_DEBUG is not set
+-CONFIG_B43LEGACY=m
+-CONFIG_B43LEGACY_PCI_AUTOSELECT=y
+-CONFIG_B43LEGACY_PCICORE_AUTOSELECT=y
+-CONFIG_B43LEGACY_LEDS=y
+-CONFIG_B43LEGACY_HWRNG=y
+-CONFIG_B43LEGACY_DEBUG=y
+-CONFIG_B43LEGACY_DMA=y
+-CONFIG_B43LEGACY_PIO=y
+-CONFIG_B43LEGACY_DMA_AND_PIO_MODE=y
+-# CONFIG_B43LEGACY_DMA_MODE is not set
+-# CONFIG_B43LEGACY_PIO_MODE is not set
+-CONFIG_BRCMUTIL=m
+-CONFIG_BRCMSMAC=m
+-CONFIG_BRCMFMAC=m
+-CONFIG_BRCMFMAC_PROTO_BCDC=y
+-CONFIG_BRCMFMAC_PROTO_MSGBUF=y
+-CONFIG_BRCMFMAC_SDIO=y
+-CONFIG_BRCMFMAC_USB=y
+-CONFIG_BRCMFMAC_PCIE=y
+-# CONFIG_BRCM_TRACING is not set
+-# CONFIG_BRCMDBG is not set
+-CONFIG_WLAN_VENDOR_CISCO=y
+-CONFIG_WLAN_VENDOR_INTEL=y
+-# CONFIG_IPW2100 is not set
+-CONFIG_IPW2200=m
+-CONFIG_IPW2200_MONITOR=y
+-CONFIG_IPW2200_RADIOTAP=y
+-CONFIG_IPW2200_PROMISCUOUS=y
+-CONFIG_IPW2200_QOS=y
+-# CONFIG_IPW2200_DEBUG is not set
+-CONFIG_LIBIPW=m
+-# CONFIG_LIBIPW_DEBUG is not set
+-CONFIG_IWLEGACY=m
+-CONFIG_IWL4965=m
+-CONFIG_IWL3945=m
+-
+-#
+-# iwl3945 / iwl4965 Debugging Options
+-#
+-# CONFIG_IWLEGACY_DEBUG is not set
+-CONFIG_IWLWIFI=m
+-CONFIG_IWLWIFI_LEDS=y
+-CONFIG_IWLDVM=m
+-CONFIG_IWLMVM=m
+-CONFIG_IWLWIFI_OPMODE_MODULAR=y
+-# CONFIG_IWLWIFI_BCAST_FILTERING is not set
+-# CONFIG_IWLWIFI_PCIE_RTPM is not set
+-
+-#
+-# Debugging Options
+-#
+-# CONFIG_IWLWIFI_DEBUG is not set
+-# CONFIG_IWLWIFI_DEVICE_TRACING is not set
+-CONFIG_WLAN_VENDOR_INTERSIL=y
+-CONFIG_HOSTAP=m
+-CONFIG_HOSTAP_FIRMWARE=y
+-# CONFIG_HOSTAP_FIRMWARE_NVRAM is not set
+-CONFIG_HOSTAP_PLX=m
+-CONFIG_HOSTAP_PCI=m
+-# CONFIG_HERMES is not set
+-CONFIG_P54_COMMON=m
+-CONFIG_P54_USB=m
+-CONFIG_P54_PCI=m
+-# CONFIG_P54_SPI is not set
+-CONFIG_P54_LEDS=y
+-# CONFIG_PRISM54 is not set
+-CONFIG_WLAN_VENDOR_MARVELL=y
+-CONFIG_LIBERTAS=m
+-CONFIG_LIBERTAS_USB=m
+-CONFIG_LIBERTAS_SDIO=m
+-# CONFIG_LIBERTAS_SPI is not set
+-# CONFIG_LIBERTAS_DEBUG is not set
+-CONFIG_LIBERTAS_MESH=y
+-CONFIG_LIBERTAS_THINFIRM=m
+-# CONFIG_LIBERTAS_THINFIRM_DEBUG is not set
+-CONFIG_LIBERTAS_THINFIRM_USB=m
+-CONFIG_MWIFIEX=m
+-# CONFIG_MWIFIEX_SDIO is not set
+-CONFIG_MWIFIEX_PCIE=m
+-# CONFIG_MWIFIEX_USB is not set
+-CONFIG_MWL8K=m
+-CONFIG_WLAN_VENDOR_MEDIATEK=y
+-CONFIG_MT7601U=m
+-CONFIG_MT76_CORE=m
+-CONFIG_MT76_LEDS=y
+-CONFIG_MT76_USB=m
+-CONFIG_MT76x2_COMMON=m
+-CONFIG_MT76x0U=m
+-CONFIG_MT76x2E=m
+-CONFIG_MT76x2U=m
+-CONFIG_WLAN_VENDOR_RALINK=y
+-CONFIG_RT2X00=m
+-CONFIG_RT2400PCI=m
+-CONFIG_RT2500PCI=m
+-CONFIG_RT61PCI=m
+-CONFIG_RT2800PCI=m
+-CONFIG_RT2800PCI_RT33XX=y
+-CONFIG_RT2800PCI_RT35XX=y
+-CONFIG_RT2800PCI_RT53XX=y
+-CONFIG_RT2800PCI_RT3290=y
+-CONFIG_RT2500USB=m
+-CONFIG_RT73USB=m
+-CONFIG_RT2800USB=m
+-CONFIG_RT2800USB_RT33XX=y
+-CONFIG_RT2800USB_RT35XX=y
+-CONFIG_RT2800USB_RT3573=y
+-CONFIG_RT2800USB_RT53XX=y
+-CONFIG_RT2800USB_RT55XX=y
+-# CONFIG_RT2800USB_UNKNOWN is not set
+-CONFIG_RT2800_LIB=m
+-CONFIG_RT2800_LIB_MMIO=m
+-CONFIG_RT2X00_LIB_MMIO=m
+-CONFIG_RT2X00_LIB_PCI=m
+-CONFIG_RT2X00_LIB_USB=m
+-CONFIG_RT2X00_LIB=m
+-CONFIG_RT2X00_LIB_FIRMWARE=y
+-CONFIG_RT2X00_LIB_CRYPTO=y
+-CONFIG_RT2X00_LIB_LEDS=y
+-# CONFIG_RT2X00_DEBUG is not set
+-CONFIG_WLAN_VENDOR_REALTEK=y
+-CONFIG_RTL8180=m
+-CONFIG_RTL8187=m
+-CONFIG_RTL8187_LEDS=y
+-CONFIG_RTL_CARDS=m
+-CONFIG_RTL8192CE=m
+-CONFIG_RTL8192SE=m
+-CONFIG_RTL8192DE=m
+-CONFIG_RTL8723AE=m
+-CONFIG_RTL8723BE=m
+-CONFIG_RTL8188EE=m
+-CONFIG_RTL8192EE=m
+-CONFIG_RTL8821AE=m
+-CONFIG_RTL8192CU=m
+-CONFIG_RTLWIFI=m
+-CONFIG_RTLWIFI_PCI=m
+-CONFIG_RTLWIFI_USB=m
+-# CONFIG_RTLWIFI_DEBUG is not set
+-CONFIG_RTL8192C_COMMON=m
+-CONFIG_RTL8723_COMMON=m
+-CONFIG_RTLBTCOEXIST=m
+-CONFIG_RTL8XXXU=m
+-# CONFIG_RTL8XXXU_UNTESTED is not set
+-CONFIG_WLAN_VENDOR_RSI=y
+-CONFIG_RSI_91X=m
+-CONFIG_RSI_DEBUGFS=y
+-# CONFIG_RSI_SDIO is not set
+-CONFIG_RSI_USB=m
+-CONFIG_RSI_COEX=y
+-CONFIG_WLAN_VENDOR_ST=y
+-# CONFIG_CW1200 is not set
+-CONFIG_WLAN_VENDOR_TI=y
+-CONFIG_WL1251=m
+-CONFIG_WL1251_SPI=m
+-CONFIG_WL1251_SDIO=m
+-CONFIG_WL12XX=m
+-CONFIG_WL18XX=m
+-CONFIG_WLCORE=m
+-CONFIG_WLCORE_SPI=m
+-CONFIG_WLCORE_SDIO=m
+-CONFIG_WILINK_PLATFORM_DATA=y
+-CONFIG_WLAN_VENDOR_ZYDAS=y
+-# CONFIG_USB_ZD1201 is not set
+-CONFIG_ZD1211RW=m
+-# CONFIG_ZD1211RW_DEBUG is not set
+-CONFIG_WLAN_VENDOR_QUANTENNA=y
+-# CONFIG_QTNFMAC_PEARL_PCIE is not set
+-CONFIG_MAC80211_HWSIM=m
+-CONFIG_USB_NET_RNDIS_WLAN=m
++# CONFIG_WLAN is not set
+ 
+ #
+ # WiMAX Wireless Broadband devices
+@@ -3340,106 +3038,8 @@ CONFIG_MOUSE_ELAN_I2C_I2C=y
+ CONFIG_MOUSE_SYNAPTICS_I2C=m
+ CONFIG_MOUSE_SYNAPTICS_USB=m
+ # CONFIG_INPUT_JOYSTICK is not set
+-CONFIG_INPUT_TABLET=y
+-CONFIG_TABLET_USB_ACECAD=m
+-CONFIG_TABLET_USB_AIPTEK=m
+-CONFIG_TABLET_USB_GTCO=m
+-CONFIG_TABLET_USB_HANWANG=m
+-CONFIG_TABLET_USB_KBTAB=m
+-CONFIG_TABLET_USB_PEGASUS=m
+-CONFIG_TABLET_SERIAL_WACOM4=m
+-CONFIG_INPUT_TOUCHSCREEN=y
+-CONFIG_TOUCHSCREEN_PROPERTIES=y
+-CONFIG_TOUCHSCREEN_ADS7846=m
+-CONFIG_TOUCHSCREEN_AD7877=m
+-CONFIG_TOUCHSCREEN_AD7879=m
+-CONFIG_TOUCHSCREEN_AD7879_I2C=m
+-# CONFIG_TOUCHSCREEN_AD7879_SPI is not set
+-# CONFIG_TOUCHSCREEN_ADC is not set
+-# CONFIG_TOUCHSCREEN_AR1021_I2C is not set
+-CONFIG_TOUCHSCREEN_ATMEL_MXT=m
+-CONFIG_TOUCHSCREEN_ATMEL_MXT_T37=y
+-# CONFIG_TOUCHSCREEN_AUO_PIXCIR is not set
+-# CONFIG_TOUCHSCREEN_BU21013 is not set
+-# CONFIG_TOUCHSCREEN_BU21029 is not set
+-# CONFIG_TOUCHSCREEN_CHIPONE_ICN8318 is not set
+-# CONFIG_TOUCHSCREEN_CHIPONE_ICN8505 is not set
+-# CONFIG_TOUCHSCREEN_CY8CTMG110 is not set
+-# CONFIG_TOUCHSCREEN_CYTTSP_CORE is not set
+-# CONFIG_TOUCHSCREEN_CYTTSP4_CORE is not set
+-CONFIG_TOUCHSCREEN_DYNAPRO=m
+-CONFIG_TOUCHSCREEN_HAMPSHIRE=m
+-CONFIG_TOUCHSCREEN_EETI=m
+-# CONFIG_TOUCHSCREEN_EGALAX is not set
+-# CONFIG_TOUCHSCREEN_EGALAX_SERIAL is not set
+-# CONFIG_TOUCHSCREEN_EXC3000 is not set
+-CONFIG_TOUCHSCREEN_FUJITSU=m
+-CONFIG_TOUCHSCREEN_GOODIX=m
+-# CONFIG_TOUCHSCREEN_HIDEEP is not set
+-# CONFIG_TOUCHSCREEN_ILI210X is not set
+-# CONFIG_TOUCHSCREEN_S6SY761 is not set
+-CONFIG_TOUCHSCREEN_GUNZE=m
+-# CONFIG_TOUCHSCREEN_EKTF2127 is not set
+-CONFIG_TOUCHSCREEN_ELAN=m
+-CONFIG_TOUCHSCREEN_ELO=m
+-CONFIG_TOUCHSCREEN_WACOM_W8001=m
+-# CONFIG_TOUCHSCREEN_WACOM_I2C is not set
+-# CONFIG_TOUCHSCREEN_MAX11801 is not set
+-CONFIG_TOUCHSCREEN_MCS5000=m
+-# CONFIG_TOUCHSCREEN_MMS114 is not set
+-# CONFIG_TOUCHSCREEN_MELFAS_MIP4 is not set
+-CONFIG_TOUCHSCREEN_MTOUCH=m
+-# CONFIG_TOUCHSCREEN_IMX6UL_TSC is not set
+-CONFIG_TOUCHSCREEN_INEXIO=m
+-CONFIG_TOUCHSCREEN_MK712=m
+-CONFIG_TOUCHSCREEN_PENMOUNT=m
+-# CONFIG_TOUCHSCREEN_EDT_FT5X06 is not set
+-CONFIG_TOUCHSCREEN_TOUCHRIGHT=m
+-CONFIG_TOUCHSCREEN_TOUCHWIN=m
+-# CONFIG_TOUCHSCREEN_PIXCIR is not set
+-# CONFIG_TOUCHSCREEN_WDT87XX_I2C is not set
+-CONFIG_TOUCHSCREEN_WM97XX=m
+-CONFIG_TOUCHSCREEN_WM9705=y
+-CONFIG_TOUCHSCREEN_WM9712=y
+-CONFIG_TOUCHSCREEN_WM9713=y
+-CONFIG_TOUCHSCREEN_USB_COMPOSITE=m
+-CONFIG_TOUCHSCREEN_USB_EGALAX=y
+-CONFIG_TOUCHSCREEN_USB_PANJIT=y
+-CONFIG_TOUCHSCREEN_USB_3M=y
+-CONFIG_TOUCHSCREEN_USB_ITM=y
+-CONFIG_TOUCHSCREEN_USB_ETURBO=y
+-CONFIG_TOUCHSCREEN_USB_GUNZE=y
+-CONFIG_TOUCHSCREEN_USB_DMC_TSC10=y
+-CONFIG_TOUCHSCREEN_USB_IRTOUCH=y
+-CONFIG_TOUCHSCREEN_USB_IDEALTEK=y
+-CONFIG_TOUCHSCREEN_USB_GENERAL_TOUCH=y
+-CONFIG_TOUCHSCREEN_USB_GOTOP=y
+-CONFIG_TOUCHSCREEN_USB_JASTEC=y
+-CONFIG_TOUCHSCREEN_USB_ELO=y
+-CONFIG_TOUCHSCREEN_USB_E2I=y
+-CONFIG_TOUCHSCREEN_USB_ZYTRONIC=y
+-CONFIG_TOUCHSCREEN_USB_ETT_TC45USB=y
+-CONFIG_TOUCHSCREEN_USB_NEXIO=y
+-CONFIG_TOUCHSCREEN_USB_EASYTOUCH=y
+-CONFIG_TOUCHSCREEN_TOUCHIT213=m
+-# CONFIG_TOUCHSCREEN_TSC_SERIO is not set
+-# CONFIG_TOUCHSCREEN_TSC2004 is not set
+-# CONFIG_TOUCHSCREEN_TSC2005 is not set
+-CONFIG_TOUCHSCREEN_TSC2007=m
+-# CONFIG_TOUCHSCREEN_TSC2007_IIO is not set
+-# CONFIG_TOUCHSCREEN_RM_TS is not set
+-# CONFIG_TOUCHSCREEN_SILEAD is not set
+-# CONFIG_TOUCHSCREEN_SIS_I2C is not set
+-# CONFIG_TOUCHSCREEN_ST1232 is not set
+-# CONFIG_TOUCHSCREEN_STMFTS is not set
+-# CONFIG_TOUCHSCREEN_SUN4I is not set
+-CONFIG_TOUCHSCREEN_SUR40=m
+-# CONFIG_TOUCHSCREEN_SURFACE3_SPI is not set
+-# CONFIG_TOUCHSCREEN_SX8654 is not set
+-CONFIG_TOUCHSCREEN_TPS6507X=m
+-# CONFIG_TOUCHSCREEN_ZET6223 is not set
+-# CONFIG_TOUCHSCREEN_ZFORCE is not set
+-# CONFIG_TOUCHSCREEN_ROHM_BU21023 is not set
++# CONFIG_INPUT_TABLET is not set
++# CONFIG_INPUT_TOUCHSCREEN is not set
+ CONFIG_INPUT_MISC=y
+ # CONFIG_INPUT_AD714X is not set
+ # CONFIG_INPUT_ATMEL_CAPTOUCH is not set
+@@ -3484,8 +3084,7 @@ CONFIG_RMI4_2D_SENSOR=y
+ CONFIG_RMI4_F11=y
+ CONFIG_RMI4_F12=y
+ CONFIG_RMI4_F30=y
+-CONFIG_RMI4_F34=y
+-# CONFIG_RMI4_F54 is not set
++# CONFIG_RMI4_F34 is not set
+ CONFIG_RMI4_F55=y
+ 
+ #
+@@ -3659,7 +3258,7 @@ CONFIG_I2C_MUX=m
+ # CONFIG_I2C_MUX_PINCTRL is not set
+ # CONFIG_I2C_MUX_REG is not set
+ # CONFIG_I2C_DEMUX_PINCTRL is not set
+-# CONFIG_I2C_MUX_MLXCPLD is not set
++CONFIG_I2C_MUX_MLXCPLD=m
+ CONFIG_I2C_HELPER_AUTO=y
+ CONFIG_I2C_SMBUS=m
+ CONFIG_I2C_ALGOBIT=m
+@@ -3837,6 +3436,7 @@ CONFIG_PINCTRL_BCM2835=y
+ CONFIG_PINCTRL_MVEBU=y
+ CONFIG_PINCTRL_ARMADA_AP806=y
+ CONFIG_PINCTRL_ARMADA_CP110=y
++CONFIG_PINCTRL_AC5=y
+ CONFIG_PINCTRL_ARMADA_37XX=y
+ CONFIG_PINCTRL_MSM=y
+ # CONFIG_PINCTRL_APQ8064 is not set
+@@ -3853,8 +3453,8 @@ CONFIG_PINCTRL_MSM8916=y
+ CONFIG_PINCTRL_MSM8996=y
+ # CONFIG_PINCTRL_MSM8998 is not set
+ # CONFIG_PINCTRL_QDF2XXX is not set
+-CONFIG_PINCTRL_QCOM_SPMI_PMIC=y
+-CONFIG_PINCTRL_QCOM_SSBI_PMIC=y
++CONFIG_PINCTRL_QCOM_SPMI_PMIC=m
++CONFIG_PINCTRL_QCOM_SSBI_PMIC=m
+ # CONFIG_PINCTRL_SDM845 is not set
+ CONFIG_PINCTRL_SUNXI=y
+ CONFIG_PINCTRL_SUN8I_H3_R=y
+@@ -3863,9 +3463,6 @@ CONFIG_PINCTRL_SUN50I_A64_R=y
+ CONFIG_PINCTRL_SUN50I_H5=y
+ CONFIG_PINCTRL_SUN50I_H6=y
+ CONFIG_PINCTRL_SUN50I_H6_R=y
+-CONFIG_PINCTRL_TEGRA=y
+-CONFIG_PINCTRL_TEGRA124=y
+-CONFIG_PINCTRL_TEGRA210=y
+ CONFIG_PINCTRL_TEGRA_XUSB=y
+ CONFIG_PINCTRL_MESON=y
+ CONFIG_PINCTRL_MESON_GXBB=y
+@@ -3898,14 +3495,14 @@ CONFIG_GPIO_GENERIC_PLATFORM=y
+ CONFIG_GPIO_MB86S7X=m
+ # CONFIG_GPIO_MOCKUP is not set
+ CONFIG_GPIO_MVEBU=y
+-CONFIG_GPIO_PL061=y
++# CONFIG_GPIO_PL061 is not set
+ # CONFIG_GPIO_SYSCON is not set
+ CONFIG_GPIO_TEGRA=y
+ # CONFIG_GPIO_THUNDERX is not set
+-CONFIG_GPIO_XGENE=y
++# CONFIG_GPIO_XGENE is not set
+ CONFIG_GPIO_XGENE_SB=m
+ # CONFIG_GPIO_XILINX is not set
+-CONFIG_GPIO_XLP=y
++CONFIG_GPIO_XLP=m
+ CONFIG_GPIO_ZYNQ=m
+ 
+ #
+@@ -3923,11 +3520,12 @@ CONFIG_GPIO_PCA953X_IRQ=y
+ #
+ # MFD GPIO expanders
+ #
+-CONFIG_GPIO_MAX77620=y
++CONFIG_GPIO_MAX77620=m
+ 
+ #
+ # PCI GPIO expanders
+ #
++# CONFIG_GPIO_BT8XX is not set
+ CONFIG_GPIO_PCI_IDIO_16=m
+ CONFIG_GPIO_PCIE_IDIO_24=m
+ # CONFIG_GPIO_RDC321X is not set
+@@ -4098,6 +3696,7 @@ CONFIG_SENSORS_MAX1668=m
+ CONFIG_SENSORS_MAX6639=m
+ CONFIG_SENSORS_MAX6642=m
+ CONFIG_SENSORS_MAX6650=m
++CONFIG_SENSORS_MAX6620=m
+ # CONFIG_SENSORS_MAX6697 is not set
+ # CONFIG_SENSORS_MAX31790 is not set
+ # CONFIG_SENSORS_MCP3021 is not set
+@@ -4283,10 +3882,8 @@ CONFIG_WATCHDOG_PRETIMEOUT_GOV_PANIC=m
+ CONFIG_SSB_POSSIBLE=y
+ CONFIG_SSB=m
+ CONFIG_SSB_SPROM=y
+-CONFIG_SSB_BLOCKIO=y
+ CONFIG_SSB_PCIHOST_POSSIBLE=y
+ CONFIG_SSB_PCIHOST=y
+-CONFIG_SSB_B43_PCI_BRIDGE=y
+ CONFIG_SSB_SDIOHOST_POSSIBLE=y
+ CONFIG_SSB_SDIOHOST=y
+ CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=y
+@@ -4294,7 +3891,6 @@ CONFIG_SSB_DRIVER_PCICORE=y
+ # CONFIG_SSB_DRIVER_GPIO is not set
+ CONFIG_BCMA_POSSIBLE=y
+ CONFIG_BCMA=m
+-CONFIG_BCMA_BLOCKIO=y
+ CONFIG_BCMA_HOST_PCI_POSSIBLE=y
+ CONFIG_BCMA_HOST_PCI=y
+ # CONFIG_BCMA_HOST_SOC is not set
+@@ -4464,678 +4060,50 @@ CONFIG_REGULATOR_VCTRL=m
+ CONFIG_CEC_CORE=m
+ CONFIG_RC_CORE=m
+ CONFIG_RC_MAP=m
+-CONFIG_LIRC=y
+-CONFIG_RC_DECODERS=y
+-CONFIG_IR_NEC_DECODER=m
+-CONFIG_IR_RC5_DECODER=m
+-CONFIG_IR_RC6_DECODER=m
+-CONFIG_IR_JVC_DECODER=m
+-CONFIG_IR_SONY_DECODER=m
+-CONFIG_IR_SANYO_DECODER=m
+-CONFIG_IR_SHARP_DECODER=m
+-CONFIG_IR_MCE_KBD_DECODER=m
+-CONFIG_IR_XMP_DECODER=m
+-CONFIG_IR_IMON_DECODER=m
+-CONFIG_RC_DEVICES=y
+-CONFIG_RC_ATI_REMOTE=m
+-CONFIG_IR_ENE=m
+-# CONFIG_IR_HIX5HD2 is not set
+-CONFIG_IR_IMON=m
+-CONFIG_IR_IMON_RAW=m
+-CONFIG_IR_MCEUSB=m
+-# CONFIG_IR_ITE_CIR is not set
+-# CONFIG_IR_FINTEK is not set
+-# CONFIG_IR_MESON is not set
+-# CONFIG_IR_NUVOTON is not set
+-CONFIG_IR_REDRAT3=m
+-# CONFIG_IR_SPI is not set
+-CONFIG_IR_STREAMZAP=m
+-CONFIG_IR_IGORPLUGUSB=m
+-CONFIG_IR_IGUANA=m
+-CONFIG_IR_TTUSBIR=m
+-CONFIG_RC_LOOPBACK=m
+-# CONFIG_IR_GPIO_CIR is not set
+-# CONFIG_IR_GPIO_TX is not set
+-# CONFIG_IR_PWM_TX is not set
+-# CONFIG_IR_SUNXI is not set
+-# CONFIG_IR_SERIAL is not set
+-# CONFIG_IR_SIR is not set
++# CONFIG_LIRC is not set
++# CONFIG_RC_DECODERS is not set
++# CONFIG_RC_DEVICES is not set
+ CONFIG_MEDIA_SUPPORT=m
+ 
+ #
+ # Multimedia core support
+ #
+-CONFIG_MEDIA_CAMERA_SUPPORT=y
+-CONFIG_MEDIA_ANALOG_TV_SUPPORT=y
+-CONFIG_MEDIA_DIGITAL_TV_SUPPORT=y
+-CONFIG_MEDIA_RADIO_SUPPORT=y
+-CONFIG_MEDIA_SDR_SUPPORT=y
+-CONFIG_MEDIA_CEC_SUPPORT=y
++# CONFIG_MEDIA_CAMERA_SUPPORT is not set
++# CONFIG_MEDIA_ANALOG_TV_SUPPORT is not set
++# CONFIG_MEDIA_DIGITAL_TV_SUPPORT is not set
++# CONFIG_MEDIA_RADIO_SUPPORT is not set
++# CONFIG_MEDIA_SDR_SUPPORT is not set
++# CONFIG_MEDIA_CEC_SUPPORT is not set
+ # CONFIG_MEDIA_CEC_RC is not set
+-CONFIG_MEDIA_CONTROLLER=y
+-# CONFIG_MEDIA_CONTROLLER_DVB is not set
+-CONFIG_VIDEO_DEV=m
+-# CONFIG_VIDEO_V4L2_SUBDEV_API is not set
+-CONFIG_VIDEO_V4L2=m
+ # CONFIG_VIDEO_ADV_DEBUG is not set
+ # CONFIG_VIDEO_FIXED_MINOR_RANGES is not set
+-# CONFIG_VIDEO_PCI_SKELETON is not set
+-CONFIG_VIDEO_TUNER=m
+-CONFIG_V4L2_MEM2MEM_DEV=m
+-CONFIG_V4L2_FWNODE=m
+-CONFIG_VIDEOBUF_GEN=m
+-CONFIG_VIDEOBUF_DMA_SG=m
+-CONFIG_VIDEOBUF_VMALLOC=m
+-CONFIG_DVB_CORE=m
+-# CONFIG_DVB_MMAP is not set
+-CONFIG_DVB_NET=y
+-CONFIG_TTPCI_EEPROM=m
+-CONFIG_DVB_MAX_ADAPTERS=16
+-CONFIG_DVB_DYNAMIC_MINORS=y
+-# CONFIG_DVB_DEMUX_SECTION_LOSS_LOG is not set
+-# CONFIG_DVB_ULE_DEBUG is not set
+ 
+ #
+ # Media drivers
+ #
+ CONFIG_MEDIA_USB_SUPPORT=y
+-
+-#
+-# Webcam devices
+-#
+-CONFIG_USB_VIDEO_CLASS=m
+-CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
+-CONFIG_USB_GSPCA=m
+-CONFIG_USB_M5602=m
+-CONFIG_USB_STV06XX=m
+-CONFIG_USB_GL860=m
+-CONFIG_USB_GSPCA_BENQ=m
+-CONFIG_USB_GSPCA_CONEX=m
+-CONFIG_USB_GSPCA_CPIA1=m
+-CONFIG_USB_GSPCA_DTCS033=m
+-CONFIG_USB_GSPCA_ETOMS=m
+-CONFIG_USB_GSPCA_FINEPIX=m
+-CONFIG_USB_GSPCA_JEILINJ=m
+-CONFIG_USB_GSPCA_JL2005BCD=m
+-CONFIG_USB_GSPCA_KINECT=m
+-CONFIG_USB_GSPCA_KONICA=m
+-CONFIG_USB_GSPCA_MARS=m
+-CONFIG_USB_GSPCA_MR97310A=m
+-CONFIG_USB_GSPCA_NW80X=m
+-CONFIG_USB_GSPCA_OV519=m
+-CONFIG_USB_GSPCA_OV534=m
+-CONFIG_USB_GSPCA_OV534_9=m
+-CONFIG_USB_GSPCA_PAC207=m
+-CONFIG_USB_GSPCA_PAC7302=m
+-CONFIG_USB_GSPCA_PAC7311=m
+-CONFIG_USB_GSPCA_SE401=m
+-CONFIG_USB_GSPCA_SN9C2028=m
+-CONFIG_USB_GSPCA_SN9C20X=m
+-CONFIG_USB_GSPCA_SONIXB=m
+-CONFIG_USB_GSPCA_SONIXJ=m
+-CONFIG_USB_GSPCA_SPCA500=m
+-CONFIG_USB_GSPCA_SPCA501=m
+-CONFIG_USB_GSPCA_SPCA505=m
+-CONFIG_USB_GSPCA_SPCA506=m
+-CONFIG_USB_GSPCA_SPCA508=m
+-CONFIG_USB_GSPCA_SPCA561=m
+-CONFIG_USB_GSPCA_SPCA1528=m
+-CONFIG_USB_GSPCA_SQ905=m
+-CONFIG_USB_GSPCA_SQ905C=m
+-CONFIG_USB_GSPCA_SQ930X=m
+-CONFIG_USB_GSPCA_STK014=m
+-CONFIG_USB_GSPCA_STK1135=m
+-CONFIG_USB_GSPCA_STV0680=m
+-CONFIG_USB_GSPCA_SUNPLUS=m
+-CONFIG_USB_GSPCA_T613=m
+-CONFIG_USB_GSPCA_TOPRO=m
+-CONFIG_USB_GSPCA_TOUPTEK=m
+-CONFIG_USB_GSPCA_TV8532=m
+-CONFIG_USB_GSPCA_VC032X=m
+-CONFIG_USB_GSPCA_VICAM=m
+-CONFIG_USB_GSPCA_XIRLINK_CIT=m
+-CONFIG_USB_GSPCA_ZC3XX=m
+-CONFIG_USB_PWC=m
+-# CONFIG_USB_PWC_DEBUG is not set
+-CONFIG_USB_PWC_INPUT_EVDEV=y
+-CONFIG_VIDEO_CPIA2=m
+-CONFIG_USB_ZR364XX=m
+-CONFIG_USB_STKWEBCAM=m
+-CONFIG_USB_S2255=m
+-CONFIG_VIDEO_USBTV=m
+-
+-#
+-# Analog TV USB devices
+-#
+-CONFIG_VIDEO_PVRUSB2=m
+-CONFIG_VIDEO_PVRUSB2_SYSFS=y
+-CONFIG_VIDEO_PVRUSB2_DVB=y
+-# CONFIG_VIDEO_PVRUSB2_DEBUGIFC is not set
+-CONFIG_VIDEO_HDPVR=m
+-CONFIG_VIDEO_USBVISION=m
+-CONFIG_VIDEO_STK1160_COMMON=m
+-CONFIG_VIDEO_STK1160=m
+-CONFIG_VIDEO_GO7007=m
+-CONFIG_VIDEO_GO7007_USB=m
+-CONFIG_VIDEO_GO7007_LOADER=m
+-CONFIG_VIDEO_GO7007_USB_S2250_BOARD=m
+-
+-#
+-# Analog/digital TV USB devices
+-#
+-CONFIG_VIDEO_AU0828=m
+-CONFIG_VIDEO_AU0828_V4L2=y
+-CONFIG_VIDEO_AU0828_RC=y
+-CONFIG_VIDEO_CX231XX=m
+-CONFIG_VIDEO_CX231XX_RC=y
+-CONFIG_VIDEO_CX231XX_ALSA=m
+-CONFIG_VIDEO_CX231XX_DVB=m
+-# CONFIG_VIDEO_TM6000 is not set
+-
+-#
+-# Digital TV USB devices
+-#
+-CONFIG_DVB_USB=m
+-# CONFIG_DVB_USB_DEBUG is not set
+-CONFIG_DVB_USB_DIB3000MC=m
+-CONFIG_DVB_USB_A800=m
+-CONFIG_DVB_USB_DIBUSB_MB=m
+-CONFIG_DVB_USB_DIBUSB_MB_FAULTY=y
+-CONFIG_DVB_USB_DIBUSB_MC=m
+-CONFIG_DVB_USB_DIB0700=m
+-CONFIG_DVB_USB_UMT_010=m
+-CONFIG_DVB_USB_CXUSB=m
+-CONFIG_DVB_USB_M920X=m
+-CONFIG_DVB_USB_DIGITV=m
+-CONFIG_DVB_USB_VP7045=m
+-CONFIG_DVB_USB_VP702X=m
+-CONFIG_DVB_USB_GP8PSK=m
+-CONFIG_DVB_USB_NOVA_T_USB2=m
+-CONFIG_DVB_USB_TTUSB2=m
+-CONFIG_DVB_USB_DTT200U=m
+-CONFIG_DVB_USB_OPERA1=m
+-CONFIG_DVB_USB_AF9005=m
+-CONFIG_DVB_USB_AF9005_REMOTE=m
+-CONFIG_DVB_USB_PCTV452E=m
+-CONFIG_DVB_USB_DW2102=m
+-CONFIG_DVB_USB_CINERGY_T2=m
+-CONFIG_DVB_USB_DTV5100=m
+-CONFIG_DVB_USB_AZ6027=m
+-CONFIG_DVB_USB_TECHNISAT_USB2=m
+-CONFIG_DVB_USB_V2=m
+-CONFIG_DVB_USB_AF9015=m
+-CONFIG_DVB_USB_AF9035=m
+-CONFIG_DVB_USB_ANYSEE=m
+-CONFIG_DVB_USB_AU6610=m
+-CONFIG_DVB_USB_AZ6007=m
+-CONFIG_DVB_USB_CE6230=m
+-CONFIG_DVB_USB_EC168=m
+-CONFIG_DVB_USB_GL861=m
+-CONFIG_DVB_USB_LME2510=m
+-CONFIG_DVB_USB_MXL111SF=m
+-CONFIG_DVB_USB_RTL28XXU=m
+-CONFIG_DVB_USB_DVBSKY=m
+-CONFIG_DVB_USB_ZD1301=m
+-CONFIG_DVB_TTUSB_BUDGET=m
+-CONFIG_DVB_TTUSB_DEC=m
+-CONFIG_SMS_USB_DRV=m
+-CONFIG_DVB_B2C2_FLEXCOP_USB=m
+-# CONFIG_DVB_B2C2_FLEXCOP_USB_DEBUG is not set
+-CONFIG_DVB_AS102=m
+-
+-#
+-# Webcam, TV (analog/digital) USB devices
+-#
+-CONFIG_VIDEO_EM28XX=m
+-CONFIG_VIDEO_EM28XX_V4L2=m
+-CONFIG_VIDEO_EM28XX_ALSA=m
+-CONFIG_VIDEO_EM28XX_DVB=m
+-CONFIG_VIDEO_EM28XX_RC=m
+-
+-#
+-# Software defined radio USB devices
+-#
+-CONFIG_USB_AIRSPY=m
+-CONFIG_USB_HACKRF=m
+-CONFIG_USB_MSI2500=m
+-
+-#
+-# USB HDMI CEC adapters
+-#
+-CONFIG_USB_PULSE8_CEC=m
+-CONFIG_USB_RAINSHADOW_CEC=m
+ CONFIG_MEDIA_PCI_SUPPORT=y
+ 
+ #
+-# Media capture support
+-#
+-CONFIG_VIDEO_SOLO6X10=m
+-CONFIG_VIDEO_TW5864=m
+-CONFIG_VIDEO_TW68=m
+-CONFIG_VIDEO_TW686X=m
+-
+-#
+-# Media capture/analog TV support
+-#
+-CONFIG_VIDEO_IVTV=m
+-# CONFIG_VIDEO_IVTV_DEPRECATED_IOCTLS is not set
+-CONFIG_VIDEO_IVTV_ALSA=m
+-CONFIG_VIDEO_FB_IVTV=m
+-CONFIG_VIDEO_HEXIUM_GEMINI=m
+-CONFIG_VIDEO_HEXIUM_ORION=m
+-CONFIG_VIDEO_MXB=m
+-CONFIG_VIDEO_DT3155=m
+-
+-#
+-# Media capture/analog/hybrid TV support
+-#
+-CONFIG_VIDEO_CX18=m
+-CONFIG_VIDEO_CX18_ALSA=m
+-CONFIG_VIDEO_CX23885=m
+-CONFIG_MEDIA_ALTERA_CI=m
+-# CONFIG_VIDEO_CX25821 is not set
+-CONFIG_VIDEO_CX88=m
+-CONFIG_VIDEO_CX88_ALSA=m
+-CONFIG_VIDEO_CX88_BLACKBIRD=m
+-CONFIG_VIDEO_CX88_DVB=m
+-CONFIG_VIDEO_CX88_ENABLE_VP3054=y
+-CONFIG_VIDEO_CX88_VP3054=m
+-CONFIG_VIDEO_CX88_MPEG=m
+-CONFIG_VIDEO_BT848=m
+-CONFIG_DVB_BT8XX=m
+-CONFIG_VIDEO_SAA7134=m
+-CONFIG_VIDEO_SAA7134_ALSA=m
+-CONFIG_VIDEO_SAA7134_RC=y
+-CONFIG_VIDEO_SAA7134_DVB=m
+-# CONFIG_VIDEO_SAA7134_GO7007 is not set
+-CONFIG_VIDEO_SAA7164=m
+-
+-#
+-# Media digital TV PCI Adapters
+-#
+-CONFIG_DVB_AV7110_IR=y
+-CONFIG_DVB_AV7110=m
+-CONFIG_DVB_AV7110_OSD=y
+-CONFIG_DVB_BUDGET_CORE=m
+-CONFIG_DVB_BUDGET=m
+-CONFIG_DVB_BUDGET_CI=m
+-CONFIG_DVB_BUDGET_AV=m
+-CONFIG_DVB_BUDGET_PATCH=m
+-CONFIG_DVB_B2C2_FLEXCOP_PCI=m
+-# CONFIG_DVB_B2C2_FLEXCOP_PCI_DEBUG is not set
+-CONFIG_DVB_PLUTO2=m
+-CONFIG_DVB_DM1105=m
+-CONFIG_DVB_PT1=m
+-CONFIG_DVB_PT3=m
+-CONFIG_MANTIS_CORE=m
+-CONFIG_DVB_MANTIS=m
+-CONFIG_DVB_HOPPER=m
+-CONFIG_DVB_NGENE=m
+-CONFIG_DVB_DDBRIDGE=m
+-# CONFIG_DVB_DDBRIDGE_MSIENABLE is not set
+-CONFIG_DVB_SMIPCIE=m
+-CONFIG_DVB_NETUP_UNIDVB=m
+-CONFIG_V4L_PLATFORM_DRIVERS=y
+-CONFIG_VIDEO_CAFE_CCIC=m
+-# CONFIG_VIDEO_CADENCE is not set
+-# CONFIG_SOC_CAMERA is not set
+-CONFIG_V4L_MEM2MEM_DRIVERS=y
+-# CONFIG_VIDEO_MEM2MEM_DEINTERLACE is not set
+-# CONFIG_VIDEO_SH_VEU is not set
+-# CONFIG_VIDEO_ROCKCHIP_RGA is not set
+-CONFIG_VIDEO_QCOM_VENUS=m
+-CONFIG_V4L_TEST_DRIVERS=y
+-CONFIG_VIDEO_VIVID=m
+-CONFIG_VIDEO_VIVID_CEC=y
+-CONFIG_VIDEO_VIVID_MAX_DEVS=64
+-# CONFIG_VIDEO_VIM2M is not set
+-# CONFIG_DVB_PLATFORM_DRIVERS is not set
+-# CONFIG_CEC_PLATFORM_DRIVERS is not set
+-# CONFIG_SDR_PLATFORM_DRIVERS is not set
+-
+-#
+ # Supported MMC/SDIO adapters
+ #
+-CONFIG_SMS_SDIO_DRV=m
+-CONFIG_RADIO_ADAPTERS=y
+-CONFIG_RADIO_TEA575X=m
+-CONFIG_RADIO_SI470X=m
+-CONFIG_USB_SI470X=m
+-# CONFIG_I2C_SI470X is not set
+-# CONFIG_RADIO_SI4713 is not set
+-CONFIG_USB_MR800=m
+-# CONFIG_USB_DSBR is not set
+-# CONFIG_RADIO_MAXIRADIO is not set
+-CONFIG_RADIO_SHARK=m
+-CONFIG_RADIO_SHARK2=m
+-CONFIG_USB_KEENE=m
+-CONFIG_USB_RAREMONO=m
+-CONFIG_USB_MA901=m
+-# CONFIG_RADIO_TEA5764 is not set
+-# CONFIG_RADIO_SAA7706H is not set
+-# CONFIG_RADIO_TEF6862 is not set
+-# CONFIG_RADIO_WL1273 is not set
+-
+-#
+-# Texas Instruments WL128x FM driver (ST based)
+-#
+-# CONFIG_RADIO_WL128X is not set
+-
+-#
+-# Supported FireWire (IEEE 1394) Adapters
+-#
+-CONFIG_DVB_FIREDTV=m
+-CONFIG_DVB_FIREDTV_INPUT=y
+-CONFIG_MEDIA_COMMON_OPTIONS=y
+-
+-#
+-# common driver options
+-#
+-CONFIG_VIDEO_CX2341X=m
+-CONFIG_VIDEO_TVEEPROM=m
+ CONFIG_CYPRESS_FIRMWARE=m
+-CONFIG_VIDEOBUF2_CORE=m
+-CONFIG_VIDEOBUF2_V4L2=m
+-CONFIG_VIDEOBUF2_MEMOPS=m
+-CONFIG_VIDEOBUF2_DMA_CONTIG=m
+-CONFIG_VIDEOBUF2_VMALLOC=m
+-CONFIG_VIDEOBUF2_DMA_SG=m
+-CONFIG_VIDEOBUF2_DVB=m
+-CONFIG_DVB_B2C2_FLEXCOP=m
+-CONFIG_VIDEO_SAA7146=m
+-CONFIG_VIDEO_SAA7146_VV=m
+-CONFIG_SMS_SIANO_MDTV=m
+-CONFIG_SMS_SIANO_RC=y
+-# CONFIG_SMS_SIANO_DEBUGFS is not set
+-CONFIG_VIDEO_V4L2_TPG=m
+ 
+ #
+ # Media ancillary drivers (tuners, sensors, i2c, spi, frontends)
+ #
+-CONFIG_MEDIA_SUBDRV_AUTOSELECT=y
+-CONFIG_MEDIA_ATTACH=y
+-CONFIG_VIDEO_IR_I2C=m
+-
+-#
+-# Audio decoders, processors and mixers
+-#
+-CONFIG_VIDEO_TVAUDIO=m
+-CONFIG_VIDEO_TDA7432=m
+-CONFIG_VIDEO_TDA9840=m
+-CONFIG_VIDEO_TEA6415C=m
+-CONFIG_VIDEO_TEA6420=m
+-CONFIG_VIDEO_MSP3400=m
+-CONFIG_VIDEO_CS3308=m
+-CONFIG_VIDEO_CS5345=m
+-CONFIG_VIDEO_CS53L32A=m
+-CONFIG_VIDEO_UDA1342=m
+-CONFIG_VIDEO_WM8775=m
+-CONFIG_VIDEO_WM8739=m
+-CONFIG_VIDEO_VP27SMPX=m
+-CONFIG_VIDEO_SONY_BTF_MPX=m
+-
+-#
+-# RDS decoders
+-#
+-CONFIG_VIDEO_SAA6588=m
+-
+-#
+-# Video decoders
+-#
+-CONFIG_VIDEO_SAA711X=m
+-CONFIG_VIDEO_TVP5150=m
+-CONFIG_VIDEO_TW2804=m
+-CONFIG_VIDEO_TW9903=m
+-CONFIG_VIDEO_TW9906=m
+-
+-#
+-# Video and audio decoders
+-#
+-CONFIG_VIDEO_SAA717X=m
+-CONFIG_VIDEO_CX25840=m
+-
+-#
+-# Video encoders
+-#
+-CONFIG_VIDEO_SAA7127=m
+-
+-#
+-# Camera sensor devices
+-#
+-CONFIG_VIDEO_OV2640=m
+-CONFIG_VIDEO_OV7640=m
+-CONFIG_VIDEO_OV7670=m
+-CONFIG_VIDEO_MT9V011=m
+-
+-#
+-# Flash devices
+-#
+-
+-#
+-# Video improvement chips
+-#
+-CONFIG_VIDEO_UPD64031A=m
+-CONFIG_VIDEO_UPD64083=m
+-
+-#
+-# Audio/Video compression chips
+-#
+-CONFIG_VIDEO_SAA6752HS=m
+-
+-#
+-# SDR tuner chips
+-#
+-
+-#
+-# Miscellaneous helper chips
+-#
+-CONFIG_VIDEO_M52790=m
+-
+-#
+-# Sensors used on soc_camera driver
+-#
+ 
+ #
+ # Media SPI Adapters
+ #
+-# CONFIG_CXD2880_SPI_DRV is not set
+-CONFIG_MEDIA_TUNER=m
+-CONFIG_MEDIA_TUNER_SIMPLE=m
+-CONFIG_MEDIA_TUNER_TDA18250=m
+-CONFIG_MEDIA_TUNER_TDA8290=m
+-CONFIG_MEDIA_TUNER_TDA827X=m
+-CONFIG_MEDIA_TUNER_TDA18271=m
+-CONFIG_MEDIA_TUNER_TDA9887=m
+-CONFIG_MEDIA_TUNER_TEA5761=m
+-CONFIG_MEDIA_TUNER_TEA5767=m
+-CONFIG_MEDIA_TUNER_MSI001=m
+-CONFIG_MEDIA_TUNER_MT20XX=m
+-CONFIG_MEDIA_TUNER_MT2060=m
+-CONFIG_MEDIA_TUNER_MT2063=m
+-CONFIG_MEDIA_TUNER_MT2266=m
+-CONFIG_MEDIA_TUNER_MT2131=m
+-CONFIG_MEDIA_TUNER_QT1010=m
+-CONFIG_MEDIA_TUNER_XC2028=m
+-CONFIG_MEDIA_TUNER_XC5000=m
+-CONFIG_MEDIA_TUNER_XC4000=m
+-CONFIG_MEDIA_TUNER_MXL5005S=m
+-CONFIG_MEDIA_TUNER_MXL5007T=m
+-CONFIG_MEDIA_TUNER_MC44S803=m
+-CONFIG_MEDIA_TUNER_MAX2165=m
+-CONFIG_MEDIA_TUNER_TDA18218=m
+-CONFIG_MEDIA_TUNER_FC0011=m
+-CONFIG_MEDIA_TUNER_FC0012=m
+-CONFIG_MEDIA_TUNER_FC0013=m
+-CONFIG_MEDIA_TUNER_TDA18212=m
+-CONFIG_MEDIA_TUNER_E4000=m
+-CONFIG_MEDIA_TUNER_FC2580=m
+-CONFIG_MEDIA_TUNER_M88RS6000T=m
+-CONFIG_MEDIA_TUNER_TUA9001=m
+-CONFIG_MEDIA_TUNER_SI2157=m
+-CONFIG_MEDIA_TUNER_IT913X=m
+-CONFIG_MEDIA_TUNER_R820T=m
+-CONFIG_MEDIA_TUNER_MXL301RF=m
+-CONFIG_MEDIA_TUNER_QM1D1C0042=m
+-CONFIG_MEDIA_TUNER_QM1D1B0004=m
+-
+-#
+-# Multistandard (satellite) frontends
+-#
+-CONFIG_DVB_STB0899=m
+-CONFIG_DVB_STB6100=m
+-CONFIG_DVB_STV090x=m
+-CONFIG_DVB_STV0910=m
+-CONFIG_DVB_STV6110x=m
+-CONFIG_DVB_STV6111=m
+-CONFIG_DVB_MXL5XX=m
+-CONFIG_DVB_M88DS3103=m
+-
+-#
+-# Multistandard (cable + terrestrial) frontends
+-#
+-CONFIG_DVB_DRXK=m
+-CONFIG_DVB_TDA18271C2DD=m
+-CONFIG_DVB_SI2165=m
+-CONFIG_DVB_MN88472=m
+-CONFIG_DVB_MN88473=m
+-
+-#
+-# DVB-S (satellite) frontends
+-#
+-CONFIG_DVB_CX24110=m
+-CONFIG_DVB_CX24123=m
+-CONFIG_DVB_MT312=m
+-CONFIG_DVB_ZL10036=m
+-CONFIG_DVB_ZL10039=m
+-CONFIG_DVB_S5H1420=m
+-CONFIG_DVB_STV0288=m
+-CONFIG_DVB_STB6000=m
+-CONFIG_DVB_STV0299=m
+-CONFIG_DVB_STV6110=m
+-CONFIG_DVB_STV0900=m
+-CONFIG_DVB_TDA8083=m
+-CONFIG_DVB_TDA10086=m
+-CONFIG_DVB_TDA8261=m
+-CONFIG_DVB_VES1X93=m
+-CONFIG_DVB_TUNER_ITD1000=m
+-CONFIG_DVB_TUNER_CX24113=m
+-CONFIG_DVB_TDA826X=m
+-CONFIG_DVB_TUA6100=m
+-CONFIG_DVB_CX24116=m
+-CONFIG_DVB_CX24117=m
+-CONFIG_DVB_CX24120=m
+-CONFIG_DVB_SI21XX=m
+-CONFIG_DVB_TS2020=m
+-CONFIG_DVB_DS3000=m
+-CONFIG_DVB_MB86A16=m
+-CONFIG_DVB_TDA10071=m
+-
+-#
+-# DVB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_SP8870=m
+-CONFIG_DVB_SP887X=m
+-CONFIG_DVB_CX22700=m
+-CONFIG_DVB_CX22702=m
+-CONFIG_DVB_DRXD=m
+-CONFIG_DVB_L64781=m
+-CONFIG_DVB_TDA1004X=m
+-CONFIG_DVB_NXT6000=m
+-CONFIG_DVB_MT352=m
+-CONFIG_DVB_ZL10353=m
+-CONFIG_DVB_DIB3000MB=m
+-CONFIG_DVB_DIB3000MC=m
+-CONFIG_DVB_DIB7000M=m
+-CONFIG_DVB_DIB7000P=m
+-CONFIG_DVB_TDA10048=m
+-CONFIG_DVB_AF9013=m
+-CONFIG_DVB_EC100=m
+-CONFIG_DVB_STV0367=m
+-CONFIG_DVB_CXD2820R=m
+-CONFIG_DVB_CXD2841ER=m
+-CONFIG_DVB_RTL2830=m
+-CONFIG_DVB_RTL2832=m
+-CONFIG_DVB_RTL2832_SDR=m
+-CONFIG_DVB_SI2168=m
+-CONFIG_DVB_AS102_FE=m
+-CONFIG_DVB_ZD1301_DEMOD=m
+-CONFIG_DVB_GP8PSK_FE=m
+-
+-#
+-# DVB-C (cable) frontends
+-#
+-CONFIG_DVB_VES1820=m
+-CONFIG_DVB_TDA10021=m
+-CONFIG_DVB_TDA10023=m
+-CONFIG_DVB_STV0297=m
+-
+-#
+-# ATSC (North American/Korean Terrestrial/Cable DTV) frontends
+-#
+-CONFIG_DVB_NXT200X=m
+-CONFIG_DVB_OR51211=m
+-CONFIG_DVB_OR51132=m
+-CONFIG_DVB_BCM3510=m
+-CONFIG_DVB_LGDT330X=m
+-CONFIG_DVB_LGDT3305=m
+-CONFIG_DVB_LGDT3306A=m
+-CONFIG_DVB_LG2160=m
+-CONFIG_DVB_S5H1409=m
+-CONFIG_DVB_AU8522=m
+-CONFIG_DVB_AU8522_DTV=m
+-CONFIG_DVB_AU8522_V4L=m
+-CONFIG_DVB_S5H1411=m
+-
+-#
+-# ISDB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_S921=m
+-CONFIG_DVB_DIB8000=m
+-CONFIG_DVB_MB86A20S=m
+-
+-#
+-# ISDB-S (satellite) & ISDB-T (terrestrial) frontends
+-#
+-CONFIG_DVB_TC90522=m
+-
+-#
+-# Digital terrestrial only tuners/PLL
+-#
+-CONFIG_DVB_PLL=m
+-CONFIG_DVB_TUNER_DIB0070=m
+-CONFIG_DVB_TUNER_DIB0090=m
+-
+-#
+-# SEC control devices for DVB-S
+-#
+-CONFIG_DVB_DRX39XYJ=m
+-CONFIG_DVB_LNBH25=m
+-CONFIG_DVB_LNBP21=m
+-CONFIG_DVB_LNBP22=m
+-CONFIG_DVB_ISL6405=m
+-CONFIG_DVB_ISL6421=m
+-CONFIG_DVB_ISL6423=m
+-CONFIG_DVB_A8293=m
+-CONFIG_DVB_LGS8GXX=m
+-CONFIG_DVB_ATBM8830=m
+-CONFIG_DVB_TDA665x=m
+-CONFIG_DVB_IX2505V=m
+-CONFIG_DVB_M88RS2000=m
+-CONFIG_DVB_AF9033=m
+-CONFIG_DVB_HORUS3A=m
+-CONFIG_DVB_ASCOT2E=m
+-CONFIG_DVB_HELENE=m
+-
++
+ #
+-# Common Interface (EN50221) controller drivers
++# Customise DVB Frontends
+ #
+-CONFIG_DVB_CXD2099=m
+-CONFIG_DVB_SP2=m
+ 
+ #
+ # Tools to develop new frontends
+ #
+-CONFIG_DVB_DUMMY_FE=m
+ 
+ #
+ # Graphics support
+@@ -5146,14 +4114,14 @@ CONFIG_TEGRA_HOST1X=m
+ CONFIG_TEGRA_HOST1X_FIREWALL=y
+ CONFIG_DRM=m
+ CONFIG_DRM_MIPI_DSI=y
+-CONFIG_DRM_DP_AUX_CHARDEV=y
++# CONFIG_DRM_DP_AUX_CHARDEV is not set
+ # CONFIG_DRM_DEBUG_SELFTEST is not set
+ CONFIG_DRM_KMS_HELPER=m
+ CONFIG_DRM_KMS_FB_HELPER=y
+ CONFIG_DRM_FBDEV_EMULATION=y
+ CONFIG_DRM_FBDEV_OVERALLOC=100
+ # CONFIG_DRM_FBDEV_LEAK_PHYS_SMEM is not set
+-CONFIG_DRM_LOAD_EDID_FIRMWARE=y
++# CONFIG_DRM_LOAD_EDID_FIRMWARE is not set
+ # CONFIG_DRM_DP_CEC is not set
+ CONFIG_DRM_TTM=m
+ CONFIG_DRM_GEM_CMA_HELPER=y
+@@ -5175,9 +4143,9 @@ CONFIG_DRM_MALI_DISPLAY=m
+ CONFIG_DRM_RADEON=m
+ # CONFIG_DRM_RADEON_USERPTR is not set
+ CONFIG_DRM_AMDGPU=m
+-CONFIG_DRM_AMDGPU_SI=y
+-CONFIG_DRM_AMDGPU_CIK=y
+-CONFIG_DRM_AMDGPU_USERPTR=y
++# CONFIG_DRM_AMDGPU_SI is not set
++# CONFIG_DRM_AMDGPU_CIK is not set
++# CONFIG_DRM_AMDGPU_USERPTR is not set
+ # CONFIG_DRM_AMDGPU_GART_DEBUGFS is not set
+ 
+ #
+@@ -5207,10 +4175,10 @@ CONFIG_DRM_NOUVEAU_BACKLIGHT=y
+ CONFIG_DRM_VGEM=m
+ # CONFIG_DRM_VKMS is not set
+ CONFIG_DRM_ROCKCHIP=m
+-CONFIG_ROCKCHIP_ANALOGIX_DP=y
+-CONFIG_ROCKCHIP_CDN_DP=y
+-CONFIG_ROCKCHIP_DW_HDMI=y
+-CONFIG_ROCKCHIP_DW_MIPI_DSI=y
++# CONFIG_ROCKCHIP_ANALOGIX_DP is not set
++# CONFIG_ROCKCHIP_CDN_DP is not set
++# CONFIG_ROCKCHIP_DW_HDMI is not set
++# CONFIG_ROCKCHIP_DW_MIPI_DSI is not set
+ # CONFIG_ROCKCHIP_INNO_HDMI is not set
+ # CONFIG_ROCKCHIP_LVDS is not set
+ CONFIG_DRM_UDL=m
+@@ -5242,7 +4210,7 @@ CONFIG_DRM_MSM_DSI_14NM_PHY=y
+ CONFIG_DRM_MSM_DSI_10NM_PHY=y
+ CONFIG_DRM_TEGRA=m
+ # CONFIG_DRM_TEGRA_DEBUG is not set
+-CONFIG_DRM_TEGRA_STAGING=y
++# CONFIG_DRM_TEGRA_STAGING is not set
+ CONFIG_DRM_PANEL=y
+ 
+ #
+@@ -5287,9 +4255,8 @@ CONFIG_DRM_PANEL_BRIDGE=y
+ # CONFIG_DRM_THINE_THC63LVD1024 is not set
+ # CONFIG_DRM_TOSHIBA_TC358767 is not set
+ # CONFIG_DRM_TI_TFP410 is not set
+-CONFIG_DRM_ANALOGIX_DP=m
+ CONFIG_DRM_I2C_ADV7511=m
+-CONFIG_DRM_I2C_ADV7511_AUDIO=y
++# CONFIG_DRM_I2C_ADV7511_AUDIO is not set
+ CONFIG_DRM_I2C_ADV7533=y
+ CONFIG_DRM_I2C_ADV7511_CEC=y
+ CONFIG_DRM_DW_HDMI=m
+@@ -5308,12 +4275,7 @@ CONFIG_DRM_MESON_DW_HDMI=m
+ # CONFIG_DRM_TINYDRM is not set
+ # CONFIG_DRM_PL111 is not set
+ # CONFIG_DRM_XEN is not set
+-CONFIG_DRM_LEGACY=y
+-# CONFIG_DRM_TDFX is not set
+-# CONFIG_DRM_R128 is not set
+-# CONFIG_DRM_MGA is not set
+-CONFIG_DRM_VIA=m
+-CONFIG_DRM_SAVAGE=m
++# CONFIG_DRM_LEGACY is not set
+ CONFIG_DRM_PANEL_ORIENTATION_QUIRKS=y
+ 
+ #
+@@ -5416,8 +4378,6 @@ CONFIG_FRAMEBUFFER_CONSOLE_ROTATION=y
+ # CONFIG_FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER is not set
+ # CONFIG_LOGO is not set
+ CONFIG_SOUND=m
+-CONFIG_SOUND_OSS_CORE=y
+-# CONFIG_SOUND_OSS_CORE_PRECLAIM is not set
+ CONFIG_SND=m
+ CONFIG_SND_TIMER=m
+ CONFIG_SND_PCM=m
+@@ -5429,23 +4389,18 @@ CONFIG_SND_SEQ_DEVICE=m
+ CONFIG_SND_RAWMIDI=m
+ CONFIG_SND_JACK=y
+ CONFIG_SND_JACK_INPUT_DEV=y
+-CONFIG_SND_OSSEMUL=y
+-CONFIG_SND_MIXER_OSS=m
+-CONFIG_SND_PCM_OSS=m
+-CONFIG_SND_PCM_OSS_PLUGINS=y
++# CONFIG_SND_OSSEMUL is not set
+ CONFIG_SND_PCM_TIMER=y
+ CONFIG_SND_HRTIMER=m
+ CONFIG_SND_DYNAMIC_MINORS=y
+ CONFIG_SND_MAX_CARDS=32
+-CONFIG_SND_SUPPORT_OLD_API=y
+-CONFIG_SND_PROC_FS=y
+-CONFIG_SND_VERBOSE_PROCFS=y
++# CONFIG_SND_SUPPORT_OLD_API is not set
++# CONFIG_SND_PROC_FS is not set
+ # CONFIG_SND_VERBOSE_PRINTK is not set
+ # CONFIG_SND_DEBUG is not set
+ CONFIG_SND_VMASTER=y
+ CONFIG_SND_SEQUENCER=m
+ CONFIG_SND_SEQ_DUMMY=m
+-# CONFIG_SND_SEQUENCER_OSS is not set
+ CONFIG_SND_SEQ_HRTIMER_DEFAULT=y
+ CONFIG_SND_SEQ_MIDI_EVENT=m
+ CONFIG_SND_SEQ_MIDI=m
+@@ -5463,8 +4418,7 @@ CONFIG_SND_MTS64=m
+ # CONFIG_SND_SERIAL_U16550 is not set
+ # CONFIG_SND_MPU401 is not set
+ CONFIG_SND_PORTMAN2X4=m
+-CONFIG_SND_AC97_POWER_SAVE=y
+-CONFIG_SND_AC97_POWER_SAVE_DEFAULT=0
++# CONFIG_SND_AC97_POWER_SAVE is not set
+ CONFIG_SND_PCI=y
+ CONFIG_SND_AD1889=m
+ # CONFIG_SND_ATIIXP is not set
+@@ -5525,11 +4479,10 @@ CONFIG_SND_VIRTUOSO=m
+ CONFIG_SND_HDA=m
+ CONFIG_SND_HDA_INTEL=m
+ CONFIG_SND_HDA_TEGRA=m
+-CONFIG_SND_HDA_HWDEP=y
+-CONFIG_SND_HDA_RECONFIG=y
+-CONFIG_SND_HDA_INPUT_BEEP=y
+-CONFIG_SND_HDA_INPUT_BEEP_MODE=1
+-CONFIG_SND_HDA_PATCH_LOADER=y
++# CONFIG_SND_HDA_HWDEP is not set
++# CONFIG_SND_HDA_RECONFIG is not set
++# CONFIG_SND_HDA_INPUT_BEEP is not set
++# CONFIG_SND_HDA_PATCH_LOADER is not set
+ CONFIG_SND_HDA_CODEC_REALTEK=m
+ CONFIG_SND_HDA_CODEC_ANALOG=m
+ CONFIG_SND_HDA_CODEC_SIGMATEL=m
+@@ -5539,20 +4492,19 @@ CONFIG_SND_HDA_CODEC_CIRRUS=m
+ CONFIG_SND_HDA_CODEC_CONEXANT=m
+ CONFIG_SND_HDA_CODEC_CA0110=m
+ CONFIG_SND_HDA_CODEC_CA0132=m
+-CONFIG_SND_HDA_CODEC_CA0132_DSP=y
++# CONFIG_SND_HDA_CODEC_CA0132_DSP is not set
+ CONFIG_SND_HDA_CODEC_CMEDIA=m
+ CONFIG_SND_HDA_CODEC_SI3054=m
+ CONFIG_SND_HDA_GENERIC=m
+ CONFIG_SND_HDA_POWER_SAVE_DEFAULT=1
+ CONFIG_SND_HDA_CORE=m
+-CONFIG_SND_HDA_DSP_LOADER=y
+ CONFIG_SND_HDA_PREALLOC_SIZE=2048
+ CONFIG_SND_SPI=y
+ CONFIG_SND_USB=y
+ CONFIG_SND_USB_AUDIO=m
+ CONFIG_SND_USB_UA101=m
+ CONFIG_SND_USB_CAIAQ=m
+-CONFIG_SND_USB_CAIAQ_INPUT=y
++# CONFIG_SND_USB_CAIAQ_INPUT is not set
+ CONFIG_SND_USB_6FIRE=m
+ CONFIG_SND_USB_HIFACE=m
+ CONFIG_SND_BCD2000=m
+@@ -5793,8 +4745,8 @@ CONFIG_AC97_BUS=m
+ # HID support
+ #
+ CONFIG_HID=m
+-CONFIG_HID_BATTERY_STRENGTH=y
+-CONFIG_HIDRAW=y
++# CONFIG_HID_BATTERY_STRENGTH is not set
++# CONFIG_HIDRAW is not set
+ CONFIG_UHID=m
+ CONFIG_HID_GENERIC=m
+ 
+@@ -5804,7 +4756,7 @@ CONFIG_HID_GENERIC=m
+ CONFIG_HID_A4TECH=m
+ CONFIG_HID_ACCUTOUCH=m
+ CONFIG_HID_ACRUX=m
+-CONFIG_HID_ACRUX_FF=y
++# CONFIG_HID_ACRUX_FF is not set
+ CONFIG_HID_APPLE=m
+ # CONFIG_HID_APPLEIR is not set
+ CONFIG_HID_ASUS=m
+@@ -5817,10 +4769,9 @@ CONFIG_HID_CORSAIR=m
+ CONFIG_HID_COUGAR=m
+ CONFIG_HID_PRODIKEYS=m
+ CONFIG_HID_CMEDIA=m
+-CONFIG_HID_CP2112=m
+ CONFIG_HID_CYPRESS=m
+ CONFIG_HID_DRAGONRISE=m
+-CONFIG_DRAGONRISE_FF=y
++# CONFIG_DRAGONRISE_FF is not set
+ CONFIG_HID_EMS_FF=m
+ CONFIG_HID_ELAN=m
+ CONFIG_HID_ELECOM=m
+@@ -5829,7 +4780,7 @@ CONFIG_HID_EZKEY=m
+ CONFIG_HID_GEMBIRD=m
+ # CONFIG_HID_GFRM is not set
+ CONFIG_HID_HOLTEK=m
+-CONFIG_HOLTEK_FF=y
++# CONFIG_HOLTEK_FF is not set
+ # CONFIG_HID_GOOGLE_HAMMER is not set
+ # CONFIG_HID_GT683R is not set
+ CONFIG_HID_KEYTOUCH=m
+@@ -5846,12 +4797,11 @@ CONFIG_HID_LCPOWER=m
+ CONFIG_HID_LED=m
+ CONFIG_HID_LENOVO=m
+ CONFIG_HID_LOGITECH=m
+-CONFIG_HID_LOGITECH_DJ=m
+ CONFIG_HID_LOGITECH_HIDPP=m
+-CONFIG_LOGITECH_FF=y
+-CONFIG_LOGIRUMBLEPAD2_FF=y
+-CONFIG_LOGIG940_FF=y
+-CONFIG_LOGIWHEELS_FF=y
++# CONFIG_LOGITECH_FF is not set
++# CONFIG_LOGIRUMBLEPAD2_FF is not set
++# CONFIG_LOGIG940_FF is not set
++# CONFIG_LOGIWHEELS_FF is not set
+ CONFIG_HID_MAGICMOUSE=m
+ CONFIG_HID_MAYFLASH=m
+ CONFIG_HID_REDRAGON=m
+@@ -5862,14 +4812,14 @@ CONFIG_HID_NTI=m
+ CONFIG_HID_NTRIG=m
+ CONFIG_HID_ORTEK=m
+ CONFIG_HID_PANTHERLORD=m
+-CONFIG_PANTHERLORD_FF=y
++# CONFIG_PANTHERLORD_FF is not set
+ CONFIG_HID_PENMOUNT=m
+ CONFIG_HID_PETALYNX=m
+ CONFIG_HID_PICOLCD=m
+-CONFIG_HID_PICOLCD_FB=y
+-CONFIG_HID_PICOLCD_BACKLIGHT=y
+-CONFIG_HID_PICOLCD_LEDS=y
+-CONFIG_HID_PICOLCD_CIR=y
++# CONFIG_HID_PICOLCD_FB is not set
++# CONFIG_HID_PICOLCD_BACKLIGHT is not set
++# CONFIG_HID_PICOLCD_LEDS is not set
++# CONFIG_HID_PICOLCD_CIR is not set
+ CONFIG_HID_PLANTRONICS=m
+ CONFIG_HID_PRIMAX=m
+ CONFIG_HID_RETRODE=m
+@@ -5877,27 +4827,27 @@ CONFIG_HID_ROCCAT=m
+ CONFIG_HID_SAITEK=m
+ CONFIG_HID_SAMSUNG=m
+ CONFIG_HID_SONY=m
+-CONFIG_SONY_FF=y
++# CONFIG_SONY_FF is not set
+ CONFIG_HID_SPEEDLINK=m
+ CONFIG_HID_STEAM=m
+ CONFIG_HID_STEELSERIES=m
+ CONFIG_HID_SUNPLUS=m
+ CONFIG_HID_RMI=m
+ CONFIG_HID_GREENASIA=m
+-CONFIG_GREENASIA_FF=y
++# CONFIG_GREENASIA_FF is not set
+ CONFIG_HID_SMARTJOYPLUS=m
+-CONFIG_SMARTJOYPLUS_FF=y
++# CONFIG_SMARTJOYPLUS_FF is not set
+ CONFIG_HID_TIVO=m
+ CONFIG_HID_TOPSEED=m
+ CONFIG_HID_THINGM=m
+ CONFIG_HID_THRUSTMASTER=m
+-CONFIG_THRUSTMASTER_FF=y
++# CONFIG_THRUSTMASTER_FF is not set
+ CONFIG_HID_UDRAW_PS3=m
+ CONFIG_HID_WACOM=m
+ CONFIG_HID_WIIMOTE=m
+ CONFIG_HID_XINMO=m
+ CONFIG_HID_ZEROPLUS=m
+-CONFIG_ZEROPLUS_FF=y
++# CONFIG_ZEROPLUS_FF is not set
+ CONFIG_HID_ZYDACRON=m
+ CONFIG_HID_SENSOR_HUB=m
+ CONFIG_HID_SENSOR_CUSTOM_SENSOR=m
+@@ -5951,7 +4901,7 @@ CONFIG_USB_XHCI_HCD=m
+ CONFIG_USB_XHCI_PCI=m
+ CONFIG_USB_XHCI_PLATFORM=m
+ # CONFIG_USB_XHCI_HISTB is not set
+-# CONFIG_USB_XHCI_MVEBU is not set
++CONFIG_USB_XHCI_MVEBU=m
+ CONFIG_USB_XHCI_TEGRA=m
+ CONFIG_USB_EHCI_HCD=m
+ CONFIG_USB_EHCI_ROOT_HUB_TT=y
+@@ -6220,7 +5170,6 @@ CONFIG_USB_F_MASS_STORAGE=m
+ CONFIG_USB_F_FS=m
+ CONFIG_USB_F_UAC1=m
+ CONFIG_USB_F_UAC2=m
+-CONFIG_USB_F_UVC=m
+ CONFIG_USB_F_MIDI=m
+ CONFIG_USB_F_HID=m
+ CONFIG_USB_F_PRINTER=m
+@@ -6242,7 +5191,6 @@ CONFIG_USB_CONFIGFS_F_UAC1=y
+ CONFIG_USB_CONFIGFS_F_UAC2=y
+ CONFIG_USB_CONFIGFS_F_MIDI=y
+ CONFIG_USB_CONFIGFS_F_HID=y
+-CONFIG_USB_CONFIGFS_F_UVC=y
+ CONFIG_USB_CONFIGFS_F_PRINTER=y
+ # CONFIG_USB_CONFIGFS_F_TCM is not set
+ # CONFIG_USB_ZERO is not set
+@@ -6267,7 +5215,6 @@ CONFIG_USB_G_SERIAL=m
+ # CONFIG_USB_G_MULTI is not set
+ # CONFIG_USB_G_HID is not set
+ # CONFIG_USB_G_DBGP is not set
+-# CONFIG_USB_G_WEBCAM is not set
+ # CONFIG_TYPEC is not set
+ # CONFIG_USB_ROLE_SWITCH is not set
+ CONFIG_USB_LED_TRIG=y
+@@ -6289,36 +5236,36 @@ CONFIG_SDIO_UART=m
+ # MMC/SD/SDIO Host Controller Drivers
+ #
+ # CONFIG_MMC_DEBUG is not set
+-CONFIG_MMC_ARMMMCI=m
++CONFIG_MMC_ARMMMCI=y
+ CONFIG_MMC_QCOM_DML=y
+-CONFIG_MMC_SDHCI=m
++CONFIG_MMC_SDHCI=y
+ CONFIG_MMC_SDHCI_IO_ACCESSORS=y
+-CONFIG_MMC_SDHCI_PCI=m
++CONFIG_MMC_SDHCI_PCI=y
+ CONFIG_MMC_RICOH_MMC=y
+-CONFIG_MMC_SDHCI_ACPI=m
+-CONFIG_MMC_SDHCI_PLTFM=m
++CONFIG_MMC_SDHCI_ACPI=y
++CONFIG_MMC_SDHCI_PLTFM=y
+ CONFIG_MMC_SDHCI_OF_ARASAN=m
+-# CONFIG_MMC_SDHCI_OF_AT91 is not set
+-# CONFIG_MMC_SDHCI_OF_DWCMSHC is not set
+-# CONFIG_MMC_SDHCI_CADENCE is not set
+-CONFIG_MMC_SDHCI_TEGRA=m
+-# CONFIG_MMC_SDHCI_PXAV3 is not set
++CONFIG_MMC_SDHCI_OF_AT91=m
++CONFIG_MMC_SDHCI_OF_DWCMSHC=m
++CONFIG_MMC_SDHCI_CADENCE=m
++CONFIG_MMC_SDHCI_TEGRA=y
++CONFIG_MMC_SDHCI_PXAV3=y
+ CONFIG_MMC_SDHCI_F_SDH30=m
+-CONFIG_MMC_SDHCI_IPROC=m
+-CONFIG_MMC_MESON_GX=m
++CONFIG_MMC_SDHCI_IPROC=y
++CONFIG_MMC_MESON_GX=y
+ # CONFIG_MMC_MESON_MX_SDIO is not set
+-CONFIG_MMC_SDHCI_MSM=m
+-CONFIG_MMC_TIFM_SD=m
+-CONFIG_MMC_SPI=m
+-CONFIG_MMC_CB710=m
+-CONFIG_MMC_VIA_SDMMC=m
+-CONFIG_MMC_DW=m
++CONFIG_MMC_SDHCI_MSM=y
++CONFIG_MMC_TIFM_SD=y
++CONFIG_MMC_SPI=y
++CONFIG_MMC_CB710=y
++CONFIG_MMC_VIA_SDMMC=y
++CONFIG_MMC_DW=y
+ CONFIG_MMC_DW_PLTFM=m
+-# CONFIG_MMC_DW_BLUEFIELD is not set
+-# CONFIG_MMC_DW_EXYNOS is not set
+-# CONFIG_MMC_DW_HI3798CV200 is not set
++CONFIG_MMC_DW_BLUEFIELD=m
++CONFIG_MMC_DW_EXYNOS=m
++CONFIG_MMC_DW_HI3798CV200=m
+ CONFIG_MMC_DW_K3=m
+-# CONFIG_MMC_DW_PCI is not set
++CONFIG_MMC_DW_PCI=m
+ CONFIG_MMC_DW_ROCKCHIP=m
+ CONFIG_MMC_VUB300=m
+ CONFIG_MMC_USHC=m
+@@ -6326,12 +5273,12 @@ CONFIG_MMC_USHC=m
+ CONFIG_MMC_REALTEK_PCI=m
+ CONFIG_MMC_REALTEK_USB=m
+ CONFIG_MMC_SUNXI=m
+-CONFIG_MMC_CQHCI=m
++CONFIG_MMC_CQHCI=y
+ CONFIG_MMC_TOSHIBA_PCI=m
+ CONFIG_MMC_BCM2835=m
+-# CONFIG_MMC_MTK is not set
+-CONFIG_MMC_SDHCI_XENON=m
+-# CONFIG_MMC_SDHCI_OMAP is not set
++CONFIG_MMC_MTK=m
++CONFIG_MMC_SDHCI_XENON=y
++CONFIG_MMC_SDHCI_OMAP=m
+ CONFIG_MEMSTICK=m
+ # CONFIG_MEMSTICK_DEBUG is not set
+ 
+@@ -6432,7 +5379,6 @@ CONFIG_INFINIBAND_MTHCA_DEBUG=y
+ CONFIG_INFINIBAND_QIB=m
+ CONFIG_INFINIBAND_CXGB3=m
+ CONFIG_INFINIBAND_CXGB4=m
+-CONFIG_INFINIBAND_I40IW=m
+ CONFIG_MLX4_INFINIBAND=m
+ CONFIG_MLX5_INFINIBAND=m
+ CONFIG_INFINIBAND_NES=m
+@@ -6602,7 +5548,6 @@ CONFIG_MV_XOR=y
+ CONFIG_MV_XOR_V2=y
+ CONFIG_PL330_DMA=m
+ CONFIG_TEGRA20_APB_DMA=y
+-CONFIG_TEGRA210_ADMA=y
+ CONFIG_XGENE_DMA=m
+ # CONFIG_XILINX_DMA is not set
+ # CONFIG_XILINX_ZYNQMP_DMA is not set
+@@ -6681,18 +5626,10 @@ CONFIG_XEN_PRIVCMD=m
+ CONFIG_XEN_EFI=y
+ CONFIG_XEN_AUTO_XLATE=y
+ CONFIG_STAGING=y
+-# CONFIG_PRISM2_USB is not set
+ # CONFIG_COMEDI is not set
+-# CONFIG_RTL8192U is not set
+-# CONFIG_RTLLIB is not set
+-CONFIG_RTL8723BS=m
+-CONFIG_R8712U=m
+-CONFIG_R8188EU=m
+-CONFIG_88EU_AP_MODE=y
+ # CONFIG_R8822BE is not set
+ # CONFIG_RTS5208 is not set
+ # CONFIG_VT6655 is not set
+-# CONFIG_VT6656 is not set
+ 
+ #
+ # IIO staging drivers
+@@ -6770,12 +5707,10 @@ CONFIG_SPEAKUP_SYNTH_DUMMY=m
+ #
+ # Android
+ #
+-CONFIG_ASHMEM=m
+-# CONFIG_ANDROID_VSOC is not set
+-# CONFIG_ION is not set
+ # CONFIG_STAGING_BOARD is not set
+ # CONFIG_LTE_GDM724X is not set
+ # CONFIG_FIREWIRE_SERIAL is not set
++# CONFIG_MTD_SPINAND_MT29F is not set
+ # CONFIG_DGNC is not set
+ # CONFIG_GS_FPGABOOT is not set
+ # CONFIG_UNISYSSPAR is not set
+@@ -6786,10 +5721,9 @@ CONFIG_ASHMEM=m
+ # CONFIG_MOST is not set
+ # CONFIG_KS7010 is not set
+ # CONFIG_GREYBUS is not set
+-CONFIG_BCM_VIDEOCORE=y
++CONFIG_BCM_VIDEOCORE=m
+ CONFIG_BCM2835_VCHIQ=m
+ CONFIG_SND_BCM2835=m
+-# CONFIG_VIDEO_BCM2835 is not set
+ # CONFIG_PI433 is not set
+ # CONFIG_MTK_MMC is not set
+ 
+@@ -6971,7 +5905,7 @@ CONFIG_MESON_MX_SOCINFO=y
+ #
+ # Broadcom SoC drivers
+ #
+-CONFIG_RASPBERRYPI_POWER=y
++# CONFIG_RASPBERRYPI_POWER is not set
+ # CONFIG_SOC_BRCMSTB is not set
+ 
+ #
+@@ -6996,15 +5930,13 @@ CONFIG_QCOM_SMD_RPM=m
+ CONFIG_QCOM_WCNSS_CTRL=m
+ # CONFIG_QCOM_APR is not set
+ CONFIG_ROCKCHIP_GRF=y
+-CONFIG_ROCKCHIP_PM_DOMAINS=y
++# CONFIG_ROCKCHIP_PM_DOMAINS is not set
+ CONFIG_SUNXI_SRAM=y
+-CONFIG_ARCH_TEGRA_132_SOC=y
+-CONFIG_ARCH_TEGRA_210_SOC=y
++# CONFIG_ARCH_TEGRA_132_SOC is not set
++# CONFIG_ARCH_TEGRA_210_SOC is not set
+ # CONFIG_ARCH_TEGRA_186_SOC is not set
+ # CONFIG_ARCH_TEGRA_194_SOC is not set
+ CONFIG_SOC_TEGRA_FUSE=y
+-CONFIG_SOC_TEGRA_FLOWCTRL=y
+-CONFIG_SOC_TEGRA_PMC=y
+ # CONFIG_SOC_TI is not set
+ 
+ #
+@@ -7476,7 +6408,7 @@ CONFIG_PHY_SUN4I_USB=m
+ # CONFIG_PHY_SUN9I_USB is not set
+ CONFIG_PHY_MESON8B_USB2=m
+ CONFIG_PHY_MESON_GXL_USB2=y
+-CONFIG_PHY_MESON_GXL_USB3=y
++# CONFIG_PHY_MESON_GXL_USB3 is not set
+ # CONFIG_BCM_KONA_USB2_PHY is not set
+ CONFIG_PHY_HI6220_USB=m
+ # CONFIG_PHY_HISTB_COMBPHY is not set
+@@ -7486,21 +6418,21 @@ CONFIG_PHY_MVEBU_CP110_COMPHY=m
+ # CONFIG_PHY_PXA_28NM_USB2 is not set
+ # CONFIG_PHY_CPCAP_USB is not set
+ # CONFIG_PHY_MAPPHONE_MDM6600 is not set
+-CONFIG_PHY_QCOM_APQ8064_SATA=m
+-CONFIG_PHY_QCOM_IPQ806X_SATA=m
+-CONFIG_PHY_QCOM_QMP=m
+-CONFIG_PHY_QCOM_QUSB2=m
+-CONFIG_PHY_QCOM_UFS=m
+-CONFIG_PHY_QCOM_USB_HS=m
+-CONFIG_PHY_QCOM_USB_HSIC=m
+-CONFIG_PHY_ROCKCHIP_DP=m
+-CONFIG_PHY_ROCKCHIP_EMMC=m
+-CONFIG_PHY_ROCKCHIP_INNO_USB2=m
+-CONFIG_PHY_ROCKCHIP_PCIE=m
+-CONFIG_PHY_ROCKCHIP_TYPEC=m
+-CONFIG_PHY_ROCKCHIP_USB=m
++# CONFIG_PHY_QCOM_APQ8064_SATA is not set
++# CONFIG_PHY_QCOM_IPQ806X_SATA is not set
++# CONFIG_PHY_QCOM_QMP is not set
++# CONFIG_PHY_QCOM_QUSB2 is not set
++# CONFIG_PHY_QCOM_UFS is not set
++# CONFIG_PHY_QCOM_USB_HS is not set
++# CONFIG_PHY_QCOM_USB_HSIC is not set
++# CONFIG_PHY_ROCKCHIP_DP is not set
++CONFIG_PHY_ROCKCHIP_EMMC=y
++CONFIG_PHY_ROCKCHIP_INNO_USB2=y
++# CONFIG_PHY_ROCKCHIP_PCIE is not set
++# CONFIG_PHY_ROCKCHIP_TYPEC is not set
++# CONFIG_PHY_ROCKCHIP_USB is not set
+ # CONFIG_PHY_SAMSUNG_USB2 is not set
+-CONFIG_PHY_TEGRA_XUSB=m
++CONFIG_PHY_TEGRA_XUSB=y
+ # CONFIG_PHY_TUSB1210 is not set
+ # CONFIG_POWERCAP is not set
+ # CONFIG_MCB is not set
+@@ -7525,10 +6457,7 @@ CONFIG_RAS=y
+ #
+ # Android
+ #
+-CONFIG_ANDROID=y
+-CONFIG_ANDROID_BINDER_IPC=m
+-CONFIG_ANDROID_BINDER_DEVICES="binder"
+-# CONFIG_ANDROID_BINDER_IPC_SELFTEST is not set
++# CONFIG_ANDROID is not set
+ CONFIG_LIBNVDIMM=m
+ CONFIG_BLK_DEV_PMEM=m
+ CONFIG_ND_BLK=m
+@@ -7570,17 +6499,19 @@ CONFIG_PM_OPP=y
+ CONFIG_DCACHE_WORD_ACCESS=y
+ CONFIG_FS_IOMAP=y
+ # CONFIG_EXT2_FS is not set
+-# CONFIG_EXT3_FS is not set
+-CONFIG_EXT4_FS=m
++CONFIG_EXT3_FS=y
++# CONFIG_EXT3_FS_POSIX_ACL is not set
++# CONFIG_EXT3_FS_SECURITY is not set
++CONFIG_EXT4_FS=y
+ CONFIG_EXT4_USE_FOR_EXT2=y
+ CONFIG_EXT4_FS_POSIX_ACL=y
+ CONFIG_EXT4_FS_SECURITY=y
+ CONFIG_EXT4_ENCRYPTION=y
+ CONFIG_EXT4_FS_ENCRYPTION=y
+ # CONFIG_EXT4_DEBUG is not set
+-CONFIG_JBD2=m
++CONFIG_JBD2=y
+ # CONFIG_JBD2_DEBUG is not set
+-CONFIG_FS_MBCACHE=m
++CONFIG_FS_MBCACHE=y
+ CONFIG_REISERFS_FS=m
+ # CONFIG_REISERFS_CHECK is not set
+ # CONFIG_REISERFS_PROC_INFO is not set
+@@ -7622,7 +6553,6 @@ CONFIG_F2FS_FS_POSIX_ACL=y
+ CONFIG_F2FS_FS_SECURITY=y
+ # CONFIG_F2FS_CHECK_FS is not set
+ CONFIG_F2FS_FS_ENCRYPTION=y
+-# CONFIG_F2FS_IO_TRACE is not set
+ # CONFIG_F2FS_FAULT_INJECTION is not set
+ CONFIG_FS_DAX=y
+ CONFIG_FS_POSIX_ACL=y
+@@ -7630,7 +6560,7 @@ CONFIG_EXPORTFS=y
+ CONFIG_EXPORTFS_BLOCK_OPS=y
+ CONFIG_FILE_LOCKING=y
+ CONFIG_MANDATORY_FILE_LOCKING=y
+-CONFIG_FS_ENCRYPTION=m
++CONFIG_FS_ENCRYPTION=y
+ CONFIG_FSNOTIFY=y
+ CONFIG_DNOTIFY=y
+ CONFIG_INOTIFY_USER=y
+@@ -7671,8 +6601,8 @@ CONFIG_CACHEFILES=m
+ # CD-ROM/DVD Filesystems
+ #
+ CONFIG_ISO9660_FS=m
+-CONFIG_JOLIET=y
+-CONFIG_ZISOFS=y
++# CONFIG_JOLIET is not set
++# CONFIG_ZISOFS is not set
+ CONFIG_UDF_FS=m
+ 
+ #
+@@ -7723,19 +6653,11 @@ CONFIG_JFFS2_FS=m
+ CONFIG_JFFS2_FS_DEBUG=0
+ CONFIG_JFFS2_FS_WRITEBUFFER=y
+ # CONFIG_JFFS2_FS_WBUF_VERIFY is not set
+-CONFIG_JFFS2_SUMMARY=y
+-CONFIG_JFFS2_FS_XATTR=y
+-CONFIG_JFFS2_FS_POSIX_ACL=y
+-CONFIG_JFFS2_FS_SECURITY=y
+-CONFIG_JFFS2_COMPRESSION_OPTIONS=y
++# CONFIG_JFFS2_SUMMARY is not set
++# CONFIG_JFFS2_FS_XATTR is not set
++# CONFIG_JFFS2_COMPRESSION_OPTIONS is not set
+ CONFIG_JFFS2_ZLIB=y
+-CONFIG_JFFS2_LZO=y
+ CONFIG_JFFS2_RTIME=y
+-# CONFIG_JFFS2_RUBIN is not set
+-# CONFIG_JFFS2_CMODE_NONE is not set
+-CONFIG_JFFS2_CMODE_PRIORITY=y
+-# CONFIG_JFFS2_CMODE_SIZE is not set
+-# CONFIG_JFFS2_CMODE_FAVOURLZO is not set
+ CONFIG_UBIFS_FS=m
+ CONFIG_UBIFS_FS_ADVANCED_COMPR=y
+ CONFIG_UBIFS_FS_LZO=y
+@@ -7745,7 +6667,7 @@ CONFIG_UBIFS_FS_XATTR=y
+ # CONFIG_UBIFS_FS_ENCRYPTION is not set
+ CONFIG_UBIFS_FS_SECURITY=y
+ # CONFIG_CRAMFS is not set
+-CONFIG_SQUASHFS=m
++CONFIG_SQUASHFS=y
+ CONFIG_SQUASHFS_FILE_CACHE=y
+ # CONFIG_SQUASHFS_FILE_DIRECT is not set
+ CONFIG_SQUASHFS_DECOMP_SINGLE=y
+@@ -7785,7 +6707,6 @@ CONFIG_PSTORE_DEFLATE_COMPRESS_DEFAULT=y
+ CONFIG_PSTORE_COMPRESS_DEFAULT="deflate"
+ # CONFIG_PSTORE_CONSOLE is not set
+ # CONFIG_PSTORE_PMSG is not set
+-# CONFIG_PSTORE_FTRACE is not set
+ CONFIG_PSTORE_RAM=m
+ CONFIG_SYSV_FS=m
+ CONFIG_UFS_FS=m
+@@ -7989,15 +6910,15 @@ CONFIG_CRYPTO=y
+ CONFIG_CRYPTO_FIPS=y
+ CONFIG_CRYPTO_ALGAPI=y
+ CONFIG_CRYPTO_ALGAPI2=y
+-CONFIG_CRYPTO_AEAD=m
++CONFIG_CRYPTO_AEAD=y
+ CONFIG_CRYPTO_AEAD2=y
+-CONFIG_CRYPTO_BLKCIPHER=m
++CONFIG_CRYPTO_BLKCIPHER=y
+ CONFIG_CRYPTO_BLKCIPHER2=y
+ CONFIG_CRYPTO_HASH=y
+ CONFIG_CRYPTO_HASH2=y
+-CONFIG_CRYPTO_RNG=m
++CONFIG_CRYPTO_RNG=y
+ CONFIG_CRYPTO_RNG2=y
+-CONFIG_CRYPTO_RNG_DEFAULT=m
++CONFIG_CRYPTO_RNG_DEFAULT=y
+ CONFIG_CRYPTO_AKCIPHER2=y
+ CONFIG_CRYPTO_AKCIPHER=y
+ CONFIG_CRYPTO_KPP2=y
+@@ -8011,7 +6932,7 @@ CONFIG_CRYPTO_MANAGER2=y
+ CONFIG_CRYPTO_USER=m
+ # CONFIG_CRYPTO_MANAGER_DISABLE_TESTS is not set
+ CONFIG_CRYPTO_GF128MUL=m
+-CONFIG_CRYPTO_NULL=m
++CONFIG_CRYPTO_NULL=y
+ CONFIG_CRYPTO_NULL2=y
+ CONFIG_CRYPTO_PCRYPT=m
+ CONFIG_CRYPTO_WORKQUEUE=y
+@@ -8033,20 +6954,20 @@ CONFIG_CRYPTO_AEGIS128L=m
+ CONFIG_CRYPTO_AEGIS256=m
+ CONFIG_CRYPTO_MORUS640=m
+ CONFIG_CRYPTO_MORUS1280=m
+-CONFIG_CRYPTO_SEQIV=m
++CONFIG_CRYPTO_SEQIV=y
+ CONFIG_CRYPTO_ECHAINIV=m
+ 
+ #
+ # Block modes
+ #
+-CONFIG_CRYPTO_CBC=m
++CONFIG_CRYPTO_CBC=y
+ # CONFIG_CRYPTO_CFB is not set
+-CONFIG_CRYPTO_CTR=m
+-CONFIG_CRYPTO_CTS=m
+-CONFIG_CRYPTO_ECB=m
++CONFIG_CRYPTO_CTR=y
++CONFIG_CRYPTO_CTS=y
++CONFIG_CRYPTO_ECB=y
+ CONFIG_CRYPTO_LRW=m
+ CONFIG_CRYPTO_PCBC=m
+-CONFIG_CRYPTO_XTS=m
++CONFIG_CRYPTO_XTS=y
+ # CONFIG_CRYPTO_KEYWRAP is not set
+ 
+ #
+@@ -8060,7 +6981,7 @@ CONFIG_CRYPTO_VMAC=m
+ #
+ # Digest
+ #
+-CONFIG_CRYPTO_CRC32C=m
++CONFIG_CRYPTO_CRC32C=y
+ CONFIG_CRYPTO_CRC32=m
+ CONFIG_CRYPTO_CRCT10DIF=y
+ CONFIG_CRYPTO_GHASH=m
+@@ -8119,12 +7040,12 @@ CONFIG_CRYPTO_LZ4HC=m
+ # Random Number Generation
+ #
+ CONFIG_CRYPTO_ANSI_CPRNG=m
+-CONFIG_CRYPTO_DRBG_MENU=m
++CONFIG_CRYPTO_DRBG_MENU=y
+ CONFIG_CRYPTO_DRBG_HMAC=y
+ # CONFIG_CRYPTO_DRBG_HASH is not set
+ # CONFIG_CRYPTO_DRBG_CTR is not set
+-CONFIG_CRYPTO_DRBG=m
+-CONFIG_CRYPTO_JITTERENTROPY=m
++CONFIG_CRYPTO_DRBG=y
++CONFIG_CRYPTO_JITTERENTROPY=y
+ CONFIG_CRYPTO_USER_API=m
+ CONFIG_CRYPTO_USER_API_HASH=m
+ CONFIG_CRYPTO_USER_API_SKCIPHER=m
+@@ -8167,7 +7088,6 @@ CONFIG_SYSTEM_BLACKLIST_KEYRING=y
+ CONFIG_SYSTEM_BLACKLIST_HASH_LIST=""
+ CONFIG_EFI_SIGNATURE_LIST_PARSER=y
+ CONFIG_LOAD_UEFI_KEYS=y
+-CONFIG_BINARY_PRINTF=y
+ 
+ #
+ # Library routines
+@@ -8184,9 +7104,9 @@ CONFIG_ARCH_USE_CMPXCHG_LOCKREF=y
+ CONFIG_ARCH_HAS_FAST_MULTIPLIER=y
+ CONFIG_INDIRECT_PIO=y
+ CONFIG_CRC_CCITT=m
+-CONFIG_CRC16=m
++CONFIG_CRC16=y
+ CONFIG_CRC_T10DIF=y
+-CONFIG_CRC_ITU_T=m
++CONFIG_CRC_ITU_T=y
+ CONFIG_CRC32=y
+ # CONFIG_CRC32_SELFTEST is not set
+ CONFIG_CRC32_SLICEBY8=y
+@@ -8195,10 +7115,10 @@ CONFIG_CRC32_SLICEBY8=y
+ # CONFIG_CRC32_BIT is not set
+ CONFIG_CRC64=m
+ # CONFIG_CRC4 is not set
+-CONFIG_CRC7=m
++CONFIG_CRC7=y
+ CONFIG_LIBCRC32C=m
+ CONFIG_CRC8=m
+-CONFIG_XXHASH=m
++CONFIG_XXHASH=y
+ CONFIG_AUDIT_GENERIC=y
+ CONFIG_AUDIT_ARCH_COMPAT_GENERIC=y
+ CONFIG_AUDIT_COMPAT_GENERIC=y
+@@ -8211,7 +7131,7 @@ CONFIG_LZ4_COMPRESS=m
+ CONFIG_LZ4HC_COMPRESS=m
+ CONFIG_LZ4_DECOMPRESS=y
+ CONFIG_ZSTD_COMPRESS=m
+-CONFIG_ZSTD_DECOMPRESS=m
++CONFIG_ZSTD_DECOMPRESS=y
+ CONFIG_XZ_DEC=y
+ # CONFIG_XZ_DEC_X86 is not set
+ # CONFIG_XZ_DEC_POWERPC is not set
+@@ -8227,9 +7147,11 @@ CONFIG_DECOMPRESS_XZ=y
+ CONFIG_DECOMPRESS_LZO=y
+ CONFIG_DECOMPRESS_LZ4=y
+ CONFIG_GENERIC_ALLOCATOR=y
+-CONFIG_REED_SOLOMON=m
++CONFIG_REED_SOLOMON=y
+ CONFIG_REED_SOLOMON_ENC8=y
+ CONFIG_REED_SOLOMON_DEC8=y
++CONFIG_REED_SOLOMON_DEC16=y
++CONFIG_BCH=y
+ CONFIG_TEXTSEARCH=y
+ CONFIG_TEXTSEARCH_KMP=m
+ CONFIG_TEXTSEARCH_BM=m
+@@ -8324,7 +7246,6 @@ CONFIG_PAGE_EXTENSION=y
+ CONFIG_PAGE_POISONING=y
+ CONFIG_PAGE_POISONING_NO_SANITY=y
+ # CONFIG_PAGE_POISONING_ZERO is not set
+-# CONFIG_DEBUG_PAGE_REF is not set
+ # CONFIG_DEBUG_RODATA_TEST is not set
+ # CONFIG_DEBUG_OBJECTS is not set
+ # CONFIG_SLUB_DEBUG_ON is not set
+@@ -8408,51 +7329,16 @@ CONFIG_PM_NOTIFIER_ERROR_INJECT=m
+ # CONFIG_NETDEV_NOTIFIER_ERROR_INJECT is not set
+ # CONFIG_FAULT_INJECTION is not set
+ # CONFIG_LATENCYTOP is not set
+-CONFIG_NOP_TRACER=y
+ CONFIG_HAVE_FUNCTION_TRACER=y
+ CONFIG_HAVE_FUNCTION_GRAPH_TRACER=y
+ CONFIG_HAVE_DYNAMIC_FTRACE=y
+ CONFIG_HAVE_FTRACE_MCOUNT_RECORD=y
+ CONFIG_HAVE_SYSCALL_TRACEPOINTS=y
+ CONFIG_HAVE_C_RECORDMCOUNT=y
+-CONFIG_TRACER_MAX_TRACE=y
+-CONFIG_TRACE_CLOCK=y
+-CONFIG_RING_BUFFER=y
+-CONFIG_EVENT_TRACING=y
+-CONFIG_CONTEXT_SWITCH_TRACER=y
+-CONFIG_TRACING=y
+-CONFIG_GENERIC_TRACER=y
+ CONFIG_TRACING_SUPPORT=y
+-CONFIG_FTRACE=y
+-CONFIG_FUNCTION_TRACER=y
+-CONFIG_FUNCTION_GRAPH_TRACER=y
+-# CONFIG_PREEMPTIRQ_EVENTS is not set
+-# CONFIG_IRQSOFF_TRACER is not set
+-# CONFIG_SCHED_TRACER is not set
+-# CONFIG_HWLAT_TRACER is not set
+-CONFIG_FTRACE_SYSCALLS=y
+-CONFIG_TRACER_SNAPSHOT=y
+-# CONFIG_TRACER_SNAPSHOT_PER_CPU_SWAP is not set
+-CONFIG_BRANCH_PROFILE_NONE=y
+-# CONFIG_PROFILE_ANNOTATED_BRANCHES is not set
+-CONFIG_STACK_TRACER=y
+-CONFIG_BLK_DEV_IO_TRACE=y
+-CONFIG_KPROBE_EVENTS=y
+-CONFIG_UPROBE_EVENTS=y
+-CONFIG_BPF_EVENTS=y
+-CONFIG_PROBE_EVENTS=y
+-CONFIG_DYNAMIC_FTRACE=y
+-# CONFIG_FUNCTION_PROFILER is not set
+-CONFIG_FTRACE_MCOUNT_RECORD=y
+-# CONFIG_FTRACE_STARTUP_TEST is not set
+-# CONFIG_HIST_TRIGGERS is not set
+-# CONFIG_TRACEPOINT_BENCHMARK is not set
+-# CONFIG_RING_BUFFER_BENCHMARK is not set
+-# CONFIG_RING_BUFFER_STARTUP_TEST is not set
+-# CONFIG_PREEMPTIRQ_DELAY_TEST is not set
+-# CONFIG_TRACE_EVAL_MAP_FILE is not set
+-CONFIG_TRACING_EVENTS_GPIO=y
+-# CONFIG_DMA_API_DEBUG is not set
++# CONFIG_FTRACE is not set
++CONFIG_DMA_API_DEBUG=y
++CONFIG_DMA_API_DEBUG_SG=y
+ CONFIG_RUNTIME_TESTING_MENU=y
+ # CONFIG_LKDTM is not set
+ # CONFIG_TEST_LIST_SORT is not set
+@@ -8492,8 +7378,7 @@ CONFIG_HAVE_ARCH_KGDB=y
+ CONFIG_ARCH_HAS_UBSAN_SANITIZE_ALL=y
+ # CONFIG_UBSAN is not set
+ CONFIG_ARCH_HAS_DEVMEM_IS_ALLOWED=y
+-CONFIG_STRICT_DEVMEM=y
+-CONFIG_IO_STRICT_DEVMEM=y
++# CONFIG_STRICT_DEVMEM is not set
+ # CONFIG_ARM64_PTDUMP_DEBUGFS is not set
+ # CONFIG_PID_IN_CONTEXTIDR is not set
+ # CONFIG_ARM64_RANDOMIZE_TEXT_OFFSET is not set
diff --git a/patch/0121-arm64-marvell-mvpp2.patch b/patch/0121-arm64-marvell-mvpp2.patch
index e69de29..2dbd02a 100644
--- a/patch/0121-arm64-marvell-mvpp2.patch
+++ b/patch/0121-arm64-marvell-mvpp2.patch
@@ -0,0 +1,86 @@
+diff --git a/drivers/net/ethernet/marvell/mvpp2/mvpp2.h b/drivers/net/ethernet/marvell/mvpp2/mvpp2.h
+index 46911b6..67b9e81 100644
+--- a/drivers/net/ethernet/marvell/mvpp2/mvpp2.h
++++ b/drivers/net/ethernet/marvell/mvpp2/mvpp2.h
+@@ -253,8 +253,7 @@
+ #define     MVPP2_ISR_ENABLE_INTERRUPT(mask)	((mask) & 0xffff)
+ #define     MVPP2_ISR_DISABLE_INTERRUPT(mask)	(((mask) << 16) & 0xffff0000)
+ #define MVPP2_ISR_RX_TX_CAUSE_REG(port)		(0x5480 + 4 * (port))
+-#define     MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK(version) \
+-					((version) == MVPP21 ? 0xffff : 0xff)
++#define     MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK	0xffff
+ #define     MVPP2_CAUSE_TXQ_OCCUP_DESC_ALL_MASK	0xff0000
+ #define     MVPP2_CAUSE_TXQ_OCCUP_DESC_ALL_OFFSET	16
+ #define     MVPP2_CAUSE_RX_FIFO_OVERRUN_MASK	BIT(24)
+diff --git a/drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c b/drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c
+index 04bee45..6455511 100644
+--- a/drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c
++++ b/drivers/net/ethernet/marvell/mvpp2/mvpp2_main.c
+@@ -908,7 +908,7 @@ static void mvpp2_interrupts_unmask(void *arg)
+ 	u32 val;
+ 
+ 	val = MVPP2_CAUSE_MISC_SUM_MASK |
+-		MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK(port->priv->hw_version);
++		MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK;
+ 	if (port->has_tx_irqs)
+ 		val |= MVPP2_CAUSE_TXQ_OCCUP_DESC_ALL_MASK;
+ 
+@@ -928,7 +928,7 @@ mvpp2_shared_interrupt_mask_unmask(struct mvpp2_port *port, bool mask)
+ 	if (mask)
+ 		val = 0;
+ 	else
+-		val = MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK(MVPP22);
++		val = MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK;
+ 
+ 	for (i = 0; i < port->nqvecs; i++) {
+ 		struct mvpp2_queue_vector *v = port->qvecs + i;
+@@ -2901,7 +2901,7 @@ static int mvpp2_tx_tso(struct sk_buff *skb, struct net_device *dev,
+ }
+ 
+ /* Main tx processing */
+-static netdev_tx_t mvpp2_tx(struct sk_buff *skb, struct net_device *dev)
++static int mvpp2_tx(struct sk_buff *skb, struct net_device *dev)
+ {
+ 	struct mvpp2_port *port = netdev_priv(dev);
+ 	struct mvpp2_tx_queue *txq, *aggr_txq;
+@@ -3059,8 +3059,7 @@ static int mvpp2_poll(struct napi_struct *napi, int budget)
+ 	}
+ 
+ 	/* Process RX packets */
+-	cause_rx = cause_rx_tx &
+-		   MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK(port->priv->hw_version);
++	cause_rx = cause_rx_tx & MVPP2_CAUSE_RXQ_OCCUP_DESC_ALL_MASK;
+ 	cause_rx <<= qv->first_rxq;
+ 	cause_rx |= qv->pending_cause_rx;
+ 	while (cause_rx && budget > 0) {
+@@ -3341,7 +3340,7 @@ static int mvpp2_open(struct net_device *dev)
+ 		valid = true;
+ 	}
+ 
+-	if (priv->hw_version == MVPP22 && port->link_irq) {
++	if (priv->hw_version == MVPP22 && port->link_irq && !port->phylink) {
+ 		err = request_irq(port->link_irq, mvpp2_link_status_isr, 0,
+ 				  dev->name, port);
+ 		if (err) {
+@@ -4413,9 +4412,9 @@ static void mvpp2_xlg_config(struct mvpp2_port *port, unsigned int mode,
+ 	if (state->pause & MLO_PAUSE_RX)
+ 		ctrl0 |= MVPP22_XLG_CTRL0_RX_FLOW_CTRL_EN;
+ 
+-	ctrl4 &= ~(MVPP22_XLG_CTRL4_MACMODSELECT_GMAC |
+-		   MVPP22_XLG_CTRL4_EN_IDLE_CHECK);
+-	ctrl4 |= MVPP22_XLG_CTRL4_FWD_FC | MVPP22_XLG_CTRL4_FWD_PFC;
++	ctrl4 &= ~MVPP22_XLG_CTRL4_MACMODSELECT_GMAC;
++	ctrl4 |= MVPP22_XLG_CTRL4_FWD_FC | MVPP22_XLG_CTRL4_FWD_PFC |
++		 MVPP22_XLG_CTRL4_EN_IDLE_CHECK;
+ 
+ 	writel(ctrl0, port->base + MVPP22_XLG_CTRL0_REG);
+ 	writel(ctrl4, port->base + MVPP22_XLG_CTRL4_REG);
+@@ -5132,8 +5131,6 @@ static int mvpp2_probe(struct platform_device *pdev)
+ 	if (has_acpi_companion(&pdev->dev)) {
+ 		acpi_id = acpi_match_device(pdev->dev.driver->acpi_match_table,
+ 					    &pdev->dev);
+-		if (!acpi_id)
+-			return -EINVAL;
+ 		priv->hw_version = (unsigned long)acpi_id->driver_data;
+ 	} else {
+ 		priv->hw_version =
diff --git a/patch/0122-backport-phy-modes.patch b/patch/0122-backport-phy-modes.patch
index e69de29..1732de4 100644
--- a/patch/0122-backport-phy-modes.patch
+++ b/patch/0122-backport-phy-modes.patch
@@ -0,0 +1,26 @@
+From 2138877c4f65fdc5a21c4d51412aeac6c6ee6e99 Mon Sep 17 00:00:00 2001
+From: Build User <build@example.com>
+Date: Tue, 31 Aug 2021 19:49:00 +0000
+Subject: [PATCH] import phy modes from 4.14.76
+
+---
+ include/linux/phy/phy.h | 3 +++
+ 1 file changed, 3 insertions(+)
+
+diff --git a/include/linux/phy/phy.h b/include/linux/phy/phy.h
+index 204eff9..afd2532 100644
+--- a/include/linux/phy/phy.h
++++ b/include/linux/phy/phy.h
+@@ -40,6 +40,9 @@ enum phy_mode {
+ 	PHY_MODE_10GKR,
+ 	PHY_MODE_UFS_HS_A,
+ 	PHY_MODE_UFS_HS_B,
++	PHY_MODE_PCIE,
++	PHY_MODE_SATA,
++	PHY_MODE_ETHERNET,
+ };
+ 
+ /**
+-- 
+2.11.0
+
diff --git a/patch/0122-ehci-controller-fixes.patch b/patch/0122-ehci-controller-fixes.patch
index e69de29..91875ed 100644
--- a/patch/0122-ehci-controller-fixes.patch
+++ b/patch/0122-ehci-controller-fixes.patch
@@ -0,0 +1,47 @@
+From a3a7dd879aa88cf177df1d4fbf6bbeefc06c858f Mon Sep 17 00:00:00 2001
+From: rminnikanti <rminnikanti@marvell.com>
+Date: Sun, 5 Sep 2021 17:27:38 +0000
+Subject: [PATCH] ehci controller fixes
+
+---
+ Documentation/devicetree/bindings/usb/ehci-orion.txt | 1 +
+ drivers/usb/host/ehci-orion.c                        | 4 +++-
+ 2 files changed, 4 insertions(+), 1 deletion(-)
+
+diff --git a/Documentation/devicetree/bindings/usb/ehci-orion.txt b/Documentation/devicetree/bindings/usb/ehci-orion.txt
+index 2855bae..ad970bf 100644
+--- a/Documentation/devicetree/bindings/usb/ehci-orion.txt
++++ b/Documentation/devicetree/bindings/usb/ehci-orion.txt
+@@ -12,6 +12,7 @@ Optional properties:
+ - clocks: reference to the clock
+ - phys: reference to the USB PHY
+ - phy-names: name of the USB PHY, should be "usb"
++- max-speed-full-speed: Limit USB to full speed
+ 
+ Example:
+ 
+diff --git a/drivers/usb/host/ehci-orion.c b/drivers/usb/host/ehci-orion.c
+index 1ad7264..3d35304 100644
+--- a/drivers/usb/host/ehci-orion.c
++++ b/drivers/usb/host/ehci-orion.c
+@@ -189,6 +189,8 @@ static const struct ehci_driver_overrides orion_overrides __initconst = {
+ 
+ static int ehci_orion_drv_probe(struct platform_device *pdev)
+ {
++#define USB_PORTSC_REG_OFF	0x184
++
+ 	struct orion_ehci_data *pd = dev_get_platdata(&pdev->dev);
+ 	const struct mbus_dram_target_info *dram;
+ 	struct resource *res;
+@@ -343,7 +345,7 @@ static int ehci_orion_drv_remove(struct platform_device *pdev)
+ static const struct of_device_id ehci_orion_dt_ids[] = {
+ 	{ .compatible = "marvell,orion-ehci", },
+ 	{ .compatible = "marvell,armada-3700-ehci", },
+-	{},
++	{ },
+ };
+ MODULE_DEVICE_TABLE(of, ehci_orion_dt_ids);
+ 
+-- 
+2.11.0
+
diff --git a/patch/0122-phy-core-rework-phy_set_mode-to-accept-phy-mode-and-.patch b/patch/0122-phy-core-rework-phy_set_mode-to-accept-phy-mode-and-.patch
index e69de29..35dc815 100644
--- a/patch/0122-phy-core-rework-phy_set_mode-to-accept-phy-mode-and-.patch
+++ b/patch/0122-phy-core-rework-phy_set_mode-to-accept-phy-mode-and-.patch
@@ -0,0 +1,230 @@
+From 7266a33b255442470cd95a55fa739329672e3f6f Mon Sep 17 00:00:00 2001
+From: Grygorii Strashko <grygorii.strashko@ti.com>
+Date: Mon, 19 Nov 2018 19:24:20 -0600
+Subject: [PATCH] phy: core: rework phy_set_mode to accept phy mode and submode
+
+Currently the attempt to add support for Ethernet interface mode PHY
+(MII/GMII/RGMII) will lead to the necessity of extending enum phy_mode and
+duplicate there values from phy_interface_t enum (or introduce more PHY
+callbacks) [1]. Both approaches are ineffective and would lead to fast
+bloating of enum phy_mode or struct phy_ops in the process of adding more
+PHYs for different subsystems which will make them unmaintainable.
+
+As discussed in [1] the solution could be to introduce dual level PHYs mode
+configuration - PHY mode and PHY submode. The PHY mode will define generic
+PHY type (subsystem - PCIE/ETHERNET/USB_) while the PHY submode - subsystem
+specific interface mode. The last is usually already defined in
+corresponding subsystem headers (phy_interface_t for Ethernet, enum
+usb_device_speed for USB).
+
+This patch is cumulative change which refactors PHY framework code to
+support dual level PHYs mode configuration - PHY mode and PHY submode. It
+extends .set_mode() callback to support additional parameter "int submode"
+and converts all corresponding PHY drivers to support new .set_mode()
+callback declaration.
+The new extended PHY API
+ int phy_set_mode_ext(struct phy *phy, enum phy_mode mode, int submode)
+is introduced to support dual level PHYs mode configuration and existing
+phy_set_mode() API is converted to macros, so PHY framework consumers do
+not need to be changed (~21 matches).
+
+[1] http://lkml.kernel.org/r/d63588f6-9ab0-848a-5ad4-8073143bd95d@ti.com
+Signed-off-by: Grygorii Strashko <grygorii.strashko@ti.com>
+Signed-off-by: Kishon Vijay Abraham I <kishon@ti.com>
+
+ Conflicts:
+	drivers/phy/amlogic/phy-meson-gxl-usb3.c
+	drivers/phy/mediatek/phy-mtk-tphy.c
+	drivers/phy/mediatek/phy-mtk-xsphy.c
+	drivers/phy/mscc/phy-ocelot-serdes.c
+	drivers/phy/qualcomm/phy-qcom-qmp.c
+	drivers/phy/qualcomm/phy-qcom-qusb2.c
+	drivers/phy/qualcomm/phy-qcom-ufs-qmp-14nm.c
+	drivers/phy/qualcomm/phy-qcom-ufs-qmp-20nm.c
+
+Change-Id: I4d250f65c23f0cf7a10009d84b77fb8f114f6295
+Signed-off-by: Grzegorz Jaszczyk <jaz@semihalf.com>
+Reviewed-on: https://sj1git1.cavium.com/4399
+Tested-by: sa_ip-sw-jenkins
+Reviewed-by: Stefan Chulski <Stefan.Chulski@cavium.com>
+Reviewed-by: Marcin Wojtas <Marcin.Wojtas@cavium.com>
+---
+ drivers/phy/allwinner/phy-sun4i-usb.c        |  3 ++-
+ drivers/phy/amlogic/phy-meson-gxl-usb2.c     |  5 +++--
+ drivers/phy/marvell/phy-mvebu-cp110-comphy.c |  3 ++-
+ drivers/phy/phy-core.c                       |  6 +++---
+ drivers/phy/qualcomm/phy-qcom-usb-hs.c       |  3 ++-
+ drivers/phy/ti/phy-da8xx-usb.c               |  3 ++-
+ drivers/phy/ti/phy-tusb1210.c                |  2 +-
+ include/linux/phy/phy.h                      | 13 ++++++++++---
+ 8 files changed, 25 insertions(+), 13 deletions(-)
+
+diff --git a/drivers/phy/allwinner/phy-sun4i-usb.c b/drivers/phy/allwinner/phy-sun4i-usb.c
+index afedb8cd19..1ef857e2fb 100644
+--- a/drivers/phy/allwinner/phy-sun4i-usb.c
++++ b/drivers/phy/allwinner/phy-sun4i-usb.c
+@@ -473,7 +473,8 @@ static int sun4i_usb_phy_power_off(struct phy *_phy)
+ 	return 0;
+ }
+ 
+-static int sun4i_usb_phy_set_mode(struct phy *_phy, enum phy_mode mode)
++static int sun4i_usb_phy_set_mode(struct phy *_phy,
++				  enum phy_mode mode, int submode)
+ {
+ 	struct sun4i_usb_phy *phy = phy_get_drvdata(_phy);
+ 	struct sun4i_usb_phy_data *data = to_sun4i_usb_phy_data(phy);
+diff --git a/drivers/phy/amlogic/phy-meson-gxl-usb2.c b/drivers/phy/amlogic/phy-meson-gxl-usb2.c
+index e90c4ee25d..d6049ac668 100644
+--- a/drivers/phy/amlogic/phy-meson-gxl-usb2.c
++++ b/drivers/phy/amlogic/phy-meson-gxl-usb2.c
+@@ -125,7 +125,8 @@ static int phy_meson_gxl_usb2_reset(struct phy *phy)
+ 	return 0;
+ }
+ 
+-static int phy_meson_gxl_usb2_set_mode(struct phy *phy, enum phy_mode mode)
++static int phy_meson_gxl_usb2_set_mode(struct phy *phy,
++				       enum phy_mode mode, int submode)
+ {
+ 	struct phy_meson_gxl_usb2_priv *priv = phy_get_drvdata(phy);
+ 
+@@ -182,7 +183,7 @@ static int phy_meson_gxl_usb2_power_on(struct phy *phy)
+ 	/* power on the PHY by taking it out of reset mode */
+ 	regmap_update_bits(priv->regmap, U2P_R0, U2P_R0_POWER_ON_RESET, 0);
+ 
+-	ret = phy_meson_gxl_usb2_set_mode(phy, priv->mode);
++	ret = phy_meson_gxl_usb2_set_mode(phy, priv->mode, 0);
+ 	if (ret) {
+ 		phy_meson_gxl_usb2_power_off(phy);
+ 
+diff --git a/drivers/phy/marvell/phy-mvebu-cp110-comphy.c b/drivers/phy/marvell/phy-mvebu-cp110-comphy.c
+index 8fd063bf26..601dbf47ac 100644
+--- a/drivers/phy/marvell/phy-mvebu-cp110-comphy.c
++++ b/drivers/phy/marvell/phy-mvebu-cp110-comphy.c
+@@ -265,7 +265,8 @@ static int mvebu_comphy_power_on(struct phy *phy)
+ 	return ret;
+ }
+ 
+-static int mvebu_comphy_set_mode(struct phy *phy, enum phy_mode mode)
++static int mvebu_comphy_set_mode(struct phy *phy,
++				 enum phy_mode mode, int submode)
+ {
+ 	struct mvebu_comphy_lane *lane = phy_get_drvdata(phy);
+ 
+diff --git a/drivers/phy/phy-core.c b/drivers/phy/phy-core.c
+index 09ac8afb97..051b6bcbdc 100644
+--- a/drivers/phy/phy-core.c
++++ b/drivers/phy/phy-core.c
+@@ -342,7 +342,7 @@ int phy_power_off(struct phy *phy)
+ }
+ EXPORT_SYMBOL_GPL(phy_power_off);
+ 
+-int phy_set_mode(struct phy *phy, enum phy_mode mode)
++int phy_set_mode_ext(struct phy *phy, enum phy_mode mode, int submode)
+ {
+ 	int ret;
+ 
+@@ -350,14 +350,14 @@ int phy_set_mode(struct phy *phy, enum phy_mode mode)
+ 		return 0;
+ 
+ 	mutex_lock(&phy->mutex);
+-	ret = phy->ops->set_mode(phy, mode);
++	ret = phy->ops->set_mode(phy, mode, submode);
+ 	if (!ret)
+ 		phy->attrs.mode = mode;
+ 	mutex_unlock(&phy->mutex);
+ 
+ 	return ret;
+ }
+-EXPORT_SYMBOL_GPL(phy_set_mode);
++EXPORT_SYMBOL_GPL(phy_set_mode_ext);
+ 
+ int phy_reset(struct phy *phy)
+ {
+diff --git a/drivers/phy/qualcomm/phy-qcom-usb-hs.c b/drivers/phy/qualcomm/phy-qcom-usb-hs.c
+index 2d0c70b558..ebee2f424c 100644
+--- a/drivers/phy/qualcomm/phy-qcom-usb-hs.c
++++ b/drivers/phy/qualcomm/phy-qcom-usb-hs.c
+@@ -42,7 +42,8 @@ struct qcom_usb_hs_phy {
+ 	struct notifier_block vbus_notify;
+ };
+ 
+-static int qcom_usb_hs_phy_set_mode(struct phy *phy, enum phy_mode mode)
++static int qcom_usb_hs_phy_set_mode(struct phy *phy,
++				    enum phy_mode mode, int submode)
+ {
+ 	struct qcom_usb_hs_phy *uphy = phy_get_drvdata(phy);
+ 	u8 addr;
+diff --git a/drivers/phy/ti/phy-da8xx-usb.c b/drivers/phy/ti/phy-da8xx-usb.c
+index 1b82bff633..e94c67ffc9 100644
+--- a/drivers/phy/ti/phy-da8xx-usb.c
++++ b/drivers/phy/ti/phy-da8xx-usb.c
+@@ -92,7 +92,8 @@ static int da8xx_usb20_phy_power_off(struct phy *phy)
+ 	return 0;
+ }
+ 
+-static int da8xx_usb20_phy_set_mode(struct phy *phy, enum phy_mode mode)
++static int da8xx_usb20_phy_set_mode(struct phy *phy,
++				    enum phy_mode mode, int submode)
+ {
+ 	struct da8xx_usb_phy *d_phy = phy_get_drvdata(phy);
+ 	u32 val;
+diff --git a/drivers/phy/ti/phy-tusb1210.c b/drivers/phy/ti/phy-tusb1210.c
+index b8ec39ac4d..329fb93809 100644
+--- a/drivers/phy/ti/phy-tusb1210.c
++++ b/drivers/phy/ti/phy-tusb1210.c
+@@ -53,7 +53,7 @@ static int tusb1210_power_off(struct phy *phy)
+ 	return 0;
+ }
+ 
+-static int tusb1210_set_mode(struct phy *phy, enum phy_mode mode)
++static int tusb1210_set_mode(struct phy *phy, enum phy_mode mode, int submode)
+ {
+ 	struct tusb1210 *tusb = phy_get_drvdata(phy);
+ 	int ret;
+diff --git a/include/linux/phy/phy.h b/include/linux/phy/phy.h
+index 0f229c42e6..bb059ccd8c 100644
+--- a/include/linux/phy/phy.h
++++ b/include/linux/phy/phy.h
+@@ -61,7 +61,7 @@ struct phy_ops {
+ 	int	(*exit)(struct phy *phy);
+ 	int	(*power_on)(struct phy *phy);
+ 	int	(*power_off)(struct phy *phy);
+-	int	(*set_mode)(struct phy *phy, enum phy_mode mode);
++	int	(*set_mode)(struct phy *phy, enum phy_mode mode, int submode);
+ 	int	(*reset)(struct phy *phy);
+ 	int	(*calibrate)(struct phy *phy);
+ 	struct module *owner;
+@@ -156,7 +156,10 @@ int phy_init(struct phy *phy);
+ int phy_exit(struct phy *phy);
+ int phy_power_on(struct phy *phy);
+ int phy_power_off(struct phy *phy);
+-int phy_set_mode(struct phy *phy, enum phy_mode mode);
++int phy_set_mode_ext(struct phy *phy, enum phy_mode mode, int submode);
++#define phy_set_mode(phy, mode) \
++	phy_set_mode_ext(phy, mode, 0)
++
+ static inline enum phy_mode phy_get_mode(struct phy *phy)
+ {
+ 	return phy->attrs.mode;
+@@ -270,13 +273,17 @@ static inline int phy_power_off(struct phy *phy)
+ 	return -ENOSYS;
+ }
+ 
+-static inline int phy_set_mode(struct phy *phy, enum phy_mode mode)
++static inline int phy_set_mode_ext(struct phy *phy, enum phy_mode mode,
++				   int submode)
+ {
+ 	if (!phy)
+ 		return 0;
+ 	return -ENOSYS;
+ }
+ 
++#define phy_set_mode(phy, mode) \
++	phy_set_mode_ext(phy, mode, 0)
++
+ static inline enum phy_mode phy_get_mode(struct phy *phy)
+ {
+ 	return PHY_MODE_INVALID;
+-- 
+2.17.1
+
diff --git a/patch/0123-rd-ac5x-dts-support.patch b/patch/0123-rd-ac5x-dts-support.patch
index e69de29..f886d3a 100644
--- a/patch/0123-rd-ac5x-dts-support.patch
+++ b/patch/0123-rd-ac5x-dts-support.patch
@@ -0,0 +1,510 @@
+From 983f1480f9fef6427409c23caaf848dc1051ae8d Mon Sep 17 00:00:00 2001
+From: rminnikanti <rminnikanti@marvell.com>
+Date: Sun, 5 Sep 2021 18:06:47 +0000
+Subject: [PATCH] rd-ac5x-dts-support
+
+---
+ arch/arm64/boot/dts/marvell/Makefile |   1 +
+ arch/arm64/boot/dts/marvell/ac5.dtsi | 415 +++++++++++++++++++++++++++++++++++
+ arch/arm64/boot/dts/marvell/ac5x.dts |  58 +++++
+ 3 files changed, 474 insertions(+)
+ create mode 100644 arch/arm64/boot/dts/marvell/ac5.dtsi
+ create mode 100644 arch/arm64/boot/dts/marvell/ac5x.dts
+
+diff --git a/arch/arm64/boot/dts/marvell/Makefile b/arch/arm64/boot/dts/marvell/Makefile
+index ea9d49f..e43a77a 100644
+--- a/arch/arm64/boot/dts/marvell/Makefile
++++ b/arch/arm64/boot/dts/marvell/Makefile
+@@ -6,3 +6,4 @@ dtb-$(CONFIG_ARCH_MVEBU) += armada-7040-db.dtb
+ dtb-$(CONFIG_ARCH_MVEBU) += armada-8040-db.dtb
+ dtb-$(CONFIG_ARCH_MVEBU) += armada-8040-mcbin.dtb
+ dtb-$(CONFIG_ARCH_MVEBU) += armada-8080-db.dtb
++dtb-$(CONFIG_ARCH_MVEBU) += ac5x.dtb
+diff --git a/arch/arm64/boot/dts/marvell/ac5.dtsi b/arch/arm64/boot/dts/marvell/ac5.dtsi
+new file mode 100644
+index 0000000..eeb10ac
+--- /dev/null
++++ b/arch/arm64/boot/dts/marvell/ac5.dtsi
+@@ -0,0 +1,415 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
++/*
++ * Device Tree For AC5.
++ *
++ * Copyright (C) 2021 Marvell
++ *
++ */
++
++/dts-v1/;
++
++#include <dt-bindings/gpio/gpio.h>
++#include <dt-bindings/interrupt-controller/arm-gic.h>
++/*#include <dt-bindings/phy/phy-utmi-mvebu.h>*/
++
++/ {
++	model = "Marvell AC5x board";
++	compatible = "marvell,armada3700";
++	interrupt-parent = <&gic>;
++	#address-cells = <2>;
++	#size-cells = <2>;
++
++	reserved-memory {
++		#address-cells = <2>;
++		#size-cells = <2>;
++		ranges;
++
++		prestera_rsvd: buffer@0x200000000 {
++			/* to be used as a shared pool of DMA buffers for a set of devices */
++			compatible = "shared-dma-pool";
++			/* No one other than devices registered for that mem, may use this area */
++			no-map;
++
++			/* Base addr (first 2 cells) requires alignment, we choose start of memory */
++			reg = <0x2 0x0 0x0 0x400000>;
++		};
++	};
++
++	mvDma {
++		compatible = "marvell,mv_dma";
++		memory-region = <&prestera_rsvd>;
++		status = "okay";
++	};
++
++	aliases {
++		serial0 = &uart0;
++		spiflash0 = &spiflash0;
++		gpio0 = &gpio0;
++	};
++
++	psci {
++		compatible = "arm,psci-0.2";
++		method = "smc";
++	};
++
++	timer {
++		compatible = "arm,armv8-timer";
++		interrupts = <GIC_PPI 9 IRQ_TYPE_LEVEL_HIGH>,
++				 <GIC_PPI 8 IRQ_TYPE_LEVEL_HIGH>,
++				 <GIC_PPI 10 IRQ_TYPE_LEVEL_HIGH>,
++				 <GIC_PPI 7 IRQ_TYPE_LEVEL_HIGH>;
++		//clock-frequency = <10020>;
++		//clock-frequency = <110400>;
++		//clock-frequency = <110020>;
++		clock-frequency = <25000000>;
++	};
++
++	pmu {
++		compatible = "arm,armv8-pmuv3";
++		interrupts = <GIC_PPI 12 IRQ_TYPE_LEVEL_HIGH>;
++	};
++
++	soc {
++		compatible = "simple-bus";
++		#address-cells = <2>;
++		#size-cells = <2>;
++		ranges;
++		dma-ranges;
++
++		internal-regs@7f000000 {
++			#address-cells = <1>;
++			#size-cells = <1>;
++			compatible = "simple-bus";
++			/* 16M internal register @ 0x7f00_0000 */
++			ranges = <0x0 0x0 0x7f000000 0x1000000>;
++			dma-coherent;
++
++			uart0: serial@12000 {
++				compatible = "snps,dw-apb-uart";
++				reg = <0x12000 0x100>;
++				reg-shift = <2>;
++				interrupts = <GIC_SPI 83 IRQ_TYPE_LEVEL_HIGH>;
++				reg-io-width = <1>;
++				clock-frequency = <328000000>;
++				status = "okay";
++			};
++
++			mdio: mdio@20000 {
++				#address-cells = <1>;
++				#size-cells = <0>;
++				compatible = "marvell,orion-mdio";
++				reg = <0x22004 0x4>;
++				clocks = <&core_clock>;
++				phy0: ethernet-phy@0 {
++					reg = < 0 0 >;
++				};
++			};
++
++			i2c0: i2c@11000{
++				compatible = "marvell,mv78230-i2c";
++				reg = <0x11000 0x20>;
++
++				clocks = <&core_clock>;
++				clock-names = "core";
++				interrupts = <GIC_SPI 87 IRQ_TYPE_LEVEL_HIGH>;
++				clock-frequency=<100000>;
++				status="okay";
++
++				pinctrl-names = "i2c-mpp-state", "i2c-gpio-state";
++				pinctrl-0 = <&i2c_mpps>;
++				pinctrl-1 = <&i2c_gpio>;
++
++				scl_gpio = <&gpio0 26 GPIO_ACTIVE_HIGH>;
++				sda_gpio = <&gpio0 27 GPIO_ACTIVE_HIGH>;
++			};
++
++			i2c1: i2c@11100{
++				compatible = "marvell,mv78230-i2c";
++				reg = <0x11100 0x20>;
++
++				clocks = <&core_clock>;
++				clock-names = "core";
++				interrupts = <GIC_SPI 88 IRQ_TYPE_LEVEL_HIGH>;
++				clock-frequency=<100000>;
++				status="okay";
++			};
++
++			gpio0: gpio@18100 {
++				compatible = "marvell,ac5-gpio";
++				#gpio-cells = <2>;
++				gpio-controller;
++				reg = <0x18100 0x200>;
++				// gpio-ranges = <&pinctrl0 0 0 46>;
++				ngpios = <46>;
++			};
++		};
++
++		mmc_dma: mmc-dma-peripherals@80500000 {
++				compatible = "simple-bus";
++				#address-cells = <0x2>;
++				#size-cells = <0x2>;
++				ranges;
++				dma-coherent;
++
++				sdhci0: sdhci@805c0000 {
++					compatible = "marvell,ac5-sdhci", "marvell,armada-ap806-sdhci";
++					reg = <0x0 0x805c0000 0x0 0x300>;
++					reg-names = "ctrl", "decoder";
++					interrupts = <GIC_SPI 92 IRQ_TYPE_LEVEL_HIGH>;
++					clocks = <&core_clock>;
++					clock-names = "core";
++					status = "okay";
++					bus-width = <8>;
++					/*marvell,xenon-phy-slow-mode;*/
++					non-removable;
++					mmc-ddr-1_8v;
++					mmc-hs200-1_8v;
++					mmc-hs400-1_8v;
++				};
++		};
++
++		/* Dedicated section for devices behind 32bit controllers so we
++		   can configure specific DMA mapping for them */
++		32bit-dma-peripherals@7f000000 {
++			compatible = "simple-bus";
++			#address-cells = <0x2>;
++			#size-cells = <0x2>;
++			ranges = <0x0 0x0 0x0 0x7f000000 0x0 0x1000000>;
++			/* Host phy ram starts at 0x200M */
++			dma-ranges = <0x0 0x0 0x2 0x0 0x1 0x0>;
++			dma-coherent;
++
++			eth0: ethernet@20000 {
++				compatible = "marvell,armada-ac5-neta";
++				reg = <0x0 0x20000 0x0 0x4000>;
++				interrupts = <GIC_SPI 45 IRQ_TYPE_LEVEL_HIGH>;
++				clocks = <&core_clock>;
++				status = "disabled";
++				phy-mode = "sgmii";
++			};
++
++			eth1: ethernet@24000 {
++				compatible = "marvell,armada-ac5-neta";
++				reg = <0x0 0x24000 0x0 0x4000>;
++				interrupts = <GIC_SPI 55 IRQ_TYPE_LEVEL_HIGH>;
++				clocks = <&core_clock>;
++				status = "disabled";
++				phy-mode = "sgmii";
++				fixed-link {
++					speed = <100>;
++					full-duplex;
++				};
++			};
++
++			/* A dummy entry used for chipidea phy init */
++			usb1phy: usbphy {
++				compatible = "usb-nop-xceiv";
++				#phy-cells = <0>;
++			};
++
++			/* USB0 is a host USB */
++			usb0: usb@80000 {
++				compatible = "marvell,orion-ehci";
++				reg = <0x0 0x80000 0x0 0x500>;
++				interrupts = <GIC_SPI 67 IRQ_TYPE_LEVEL_HIGH>;
++				status = "okay";
++			};
++
++			/* USB1 is a peripheral USB */
++			usb1: usb@A0000 {
++				reg = <0x0 0xA0000 0x0 0x500>;
++				interrupts = <GIC_SPI 69 IRQ_TYPE_LEVEL_HIGH>;
++				status = "okay";
++			};
++		};
++
++		pinctrl0: pinctrl@80020100 {
++			compatible = "marvell,ac5-pinctrl",
++				     "syscon", "simple-mfd";
++			reg = <0 0x80020100 0 0x20>;
++
++			i2c_mpps: i2c-mpps {
++				marvell,pins = "mpp26", "mpp27";
++				marvell,function = "i2c0-opt";
++			};
++
++			i2c_gpio: i2c-gpio {
++				marvell,pins = "mpp26", "mpp27";
++				marvell,function = "gpio";
++			};
++		};
++
++
++		pcie0: pcie@800a0000 {
++			compatible = "marvell,ac5-pcie", "snps,dw-pcie";
++			reg = <0 0x800a0000 0 0x20000> , <0 0x3fff0000 0 0x10000>;
++			reg-names = "ctrl", "config";
++			#address-cells = <3>;
++			#size-cells = <2>;
++			#interrupt-cells = <1>;
++			device_type = "pci";
++			dma-coherent;
++			bus-range = <0 0xff>;
++			/* ranges for the PCI memory and I/O regions */
++			ranges = <0x82000000 0 0x30000000 0 0x30000000 0 0xfff0000>;
++
++			interrupt-map-mask = <0 0 0 1>;
++			interrupt-map = <0 0 0 1 &gic GIC_SPI 99 IRQ_TYPE_LEVEL_HIGH>;
++
++			interrupts = <GIC_SPI 99 IRQ_TYPE_LEVEL_HIGH>;
++
++			num-lanes = <1>;
++			status = "disabled";
++
++			clocks = <&core_clock>;
++		};
++
++		core_clock: core_clock@0 {
++			compatible = "fixed-clock";
++			#clock-cells = <0>;
++			clock-frequency = <400000000>;
++		};
++
++		axi_clock: axi_clock@0 {
++			compatible = "fixed-clock";
++			#clock-cells = <0>;
++			clock-frequency = <325000000>;
++		};
++
++		spi_clock: spi_clock@0 {
++			compatible = "fixed-clock";
++			#clock-cells = <0>;
++			clock-frequency = <200000000>;
++		};
++
++		spi@805a0000 {
++			compatible = "marvell,armada-3700-spi";
++			reg = <0x0 0x805a0000 0x0 0x50>;
++			#address-cells = <0x1>;
++			#size-cells = <0x0>;
++			clocks = <&spi_clock>;
++				interrupts = <GIC_SPI 90 IRQ_TYPE_LEVEL_HIGH>;
++				num-cs = <1>;
++			status = "okay";
++
++			spiflash0: spi-flash@0 {
++				compatible = "spi-nor";
++				spi-max-frequency = <50000000>;
++				spi-tx-bus-width = <1>; /* 1-single, 2-dual, 4-quad */
++				spi-rx-bus-width = <1>; /* 1-single, 2-dual, 4-quad */
++				reg = <0>;
++
++				#address-cells = <1>;
++				#size-cells = <1>;
++
++				partition@0 {
++					label = "spi_flash_part0";
++					reg = <0x0 0x800000>;
++				};
++
++				parition@1 {
++					label = "spi_flash_part1";
++					reg = <0x800000 0x700000>;
++				};
++
++				parition@2 {
++					label = "spi_flash_part2";
++					reg = <0xF00000 0x100000>;
++				};
++			};
++		};
++
++		spi@805a8000 {
++			compatible = "marvell,armada-3700-spi";
++			reg = <0x0 0x805a8000 0x0 0x50>;
++			#address-cells = <0x1>;
++			#size-cells = <0x0>;
++			clocks = <&spi_clock>;
++				interrupts = <GIC_SPI 91 IRQ_TYPE_LEVEL_HIGH>;
++				num-cs = <1>;
++			status = "disabled";
++		};
++
++		nand: nand@805b00 {
++			compatible = "marvell,ac5-nand-controller";
++			reg =  <0x0 0x805b0000 0x0 0x00000054
++				0x0 0x840F8204 0x0 0x00000004
++				0x0 0x80013010 0x0 0x00000020>;
++			#address-cells = <0x1>;
++			#size-cells = <0x0>;
++			interrupts = <GIC_SPI 89 IRQ_TYPE_LEVEL_HIGH>;
++			clocks = <&core_clock>;
++			/*marvell,system-controller = <0x15>*/
++			status = "okay";
++
++			nand@0 {
++				reg = <0x0>;
++				label = "main-storage";
++				nand-rb = <0>;
++				nand-ecc-mode = "hw";
++				nand-ecc-strength = <12>;
++				nand-ecc-step-size = <512>;
++			};
++		};
++
++		prestera {
++			compatible = "marvell,armada-ac5-switch";
++			interrupts = <GIC_SPI 0x23 IRQ_TYPE_LEVEL_HIGH>;
++			status = "okay";
++		};
++
++	};
++
++	gic: interrupt-controller@80600000 {
++		compatible = "arm,gic-v3";
++		#interrupt-cells = <3>;
++		interrupt-controller;
++		/*#redistributor-regions = <1>;*/
++		redistributor-stride = <0x0 0x20000>; /* 128kB stride */
++		reg = <0x0 0x80600000 0x0 0x10000>, /* GICD */
++			  <0x0 0x80660000 0x0 0x40000>; /* GICR */
++		interrupts = <GIC_PPI 6 IRQ_TYPE_LEVEL_HIGH>;
++	};
++
++	cpus {
++		#address-cells = <2>;
++		#size-cells = <0>;
++
++		cpu-map {
++			cluster0 {
++				core0 {
++					cpu = <&CPU0>;
++				};
++				core1 {
++					cpu = <&CPU1>;
++				};
++			};
++		};
++
++		CPU0:cpu@0 {
++			device_type = "cpu";
++			compatible = "arm,armv8";
++			reg = <0x0 0x0>;
++			enable-method = "psci";
++			next-level-cache = <&L2_0>;
++		};
++
++		CPU1:cpu@1 {
++			device_type = "cpu";
++			compatible = "arm,armv8";
++			reg = <0x0 0x100>;
++			enable-method = "psci";
++			next-level-cache = <&L2_0>;
++		};
++
++		L2_0: l2-cache0 {
++			compatible = "cache";
++		};
++	};
++
++	memory@00000000 {
++		device_type = "memory";
++		reg = <0x2 0x00000000 0x0 0x40000000>;
++		// linux,usable-memory = <0x2 0x00000000 0x0 0x80000000>;
++	};
++};
+diff --git a/arch/arm64/boot/dts/marvell/ac5x.dts b/arch/arm64/boot/dts/marvell/ac5x.dts
+new file mode 100644
+index 0000000..25b02b4
+--- /dev/null
++++ b/arch/arm64/boot/dts/marvell/ac5x.dts
+@@ -0,0 +1,58 @@
++// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
++/*
++ * Device Tree For AC5_db.
++ *
++ * Copyright (C) 2021 Marvell
++ *
++ */
++// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
++/*
++ * Device Tree file for Marvell Alleycat 5 development board
++ * This board file supports the B configuration of the board
++ */
++
++#include "ac5.dtsi"
++
++/ {
++	model = "Marvell AC5X RD board";
++};
++
++&mdio {
++        status = "okay";
++        pinctrl-names = "default";
++        phy0: ethernet-phy@0 {
++                reg = <0x0>;
++        };
++};
++
++&eth0 {
++	status = "okay";
++        phy-mode = "sgmii";
++        phy = <&phy0>;
++};
++
++&usb0 {
++    status= "okay";
++};
++
++&usb1 {
++	compatible = "chipidea,usb2";
++	phys = <&usb1phy>;
++	phy-names = "usb-phy";
++	dr_mode = "peripheral";
++};
++
++&pcie0 {
++        status = "okay";
++};
++
++&i2c0 {
++    status = "okay";
++    clock-frequency = <100000>;
++/*    eeprom@52 {
++            compatible = "microchip,24c64", "atmel,24c64";
++            reg = <0x52>;
++            pagesize = <32>;
++    };*/
++};
++
+-- 
+2.11.0
+
diff --git a/patch/0123-rd-ac5x-emmc-support.patch b/patch/0123-rd-ac5x-emmc-support.patch
index e69de29..5686ade 100644
--- a/patch/0123-rd-ac5x-emmc-support.patch
+++ b/patch/0123-rd-ac5x-emmc-support.patch
@@ -0,0 +1,50 @@
+diff --git a/drivers/mmc/host/sdhci-xenon.c b/drivers/mmc/host/sdhci-xenon.c
+index fafb026..56d7908 100644
+--- a/drivers/mmc/host/sdhci-xenon.c
++++ b/drivers/mmc/host/sdhci-xenon.c
+@@ -20,6 +20,8 @@
+ #include <linux/of.h>
+ #include <linux/pm.h>
+ #include <linux/pm_runtime.h>
++#include <linux/of_address.h>
++#include <linux/mm.h>
+ 
+ #include "sdhci-pltfm.h"
+ #include "sdhci-xenon.h"
+@@ -419,6 +421,9 @@ static int xenon_probe_dt(struct platform_device *pdev)
+ 	struct xenon_priv *priv = sdhci_pltfm_priv(pltfm_host);
+ 	u32 sdhc_id, nr_sdhc;
+ 	u32 tuning_count;
++	struct resource *decoder;
++	u64 dma_addr, paddr, size;
++	struct sysinfo si;
+ 
+ 	/* Disable HS200 on Armada AP806 */
+ 	if (of_device_is_compatible(np, "marvell,armada-ap806-sdhci"))
+@@ -446,6 +451,26 @@ static int xenon_probe_dt(struct platform_device *pdev)
+ 		}
+ 	}
+ 	priv->tuning_count = tuning_count;
++	decoder = platform_get_resource_byname(pdev, IORESOURCE_MEM, "decoder");
++	if (decoder) {
++		if (!of_dma_get_range(np, &dma_addr, &paddr, &size)) {
++			void __iomem *regs = ioremap(decoder->start, resource_size(decoder));
++			if (!regs) {
++				dev_err(mmc_dev(mmc), "Failed to map decoder address 0x%llx\n",
++						decoder->start);
++			} else {
++				writel(paddr>>16, regs);
++				iounmap(regs);
++			}
++		}
++	}
++	si_meminfo(&si);
++
++	if (of_device_is_compatible(np, "marvell,ac5-sdhci") &&
++			((si.totalram * si.mem_unit) > 0x80000000 /*2G*/)) {
++		host->quirks |= SDHCI_QUIRK_BROKEN_DMA;
++		host->quirks |= SDHCI_QUIRK_BROKEN_ADMA;
++	}
+ 
+ 	return xenon_phy_parse_dt(np, host);
+ }
diff --git a/patch/0123-rd-ac5x-gpio-pinctrl-support.patch b/patch/0123-rd-ac5x-gpio-pinctrl-support.patch
index e69de29..ba2593e 100644
--- a/patch/0123-rd-ac5x-gpio-pinctrl-support.patch
+++ b/patch/0123-rd-ac5x-gpio-pinctrl-support.patch
@@ -0,0 +1,383 @@
+From f6e52f5dce6f97bab69d80707720ad29525bd1a8 Mon Sep 17 00:00:00 2001
+From: rminnikanti <rminnikanti@marvell.com>
+Date: Sun, 5 Sep 2021 17:24:27 +0000
+Subject: [PATCH] rd ac5x gpio pinctrl support
+
+---
+ arch/arm64/Kconfig.platforms        |   2 +
+ drivers/gpio/gpio-mvebu.c           |  68 +++++++++++----
+ drivers/pinctrl/mvebu/Kconfig       |   4 +
+ drivers/pinctrl/mvebu/Makefile      |   1 +
+ drivers/pinctrl/mvebu/pinctrl-ac5.c | 164 ++++++++++++++++++++++++++++++++++++
+ 5 files changed, 224 insertions(+), 15 deletions(-)
+ create mode 100644 drivers/pinctrl/mvebu/pinctrl-ac5.c
+
+diff --git a/arch/arm64/Kconfig.platforms b/arch/arm64/Kconfig.platforms
+index 393d2b5..28560e4 100644
+--- a/arch/arm64/Kconfig.platforms
++++ b/arch/arm64/Kconfig.platforms
+@@ -133,11 +133,13 @@ config ARCH_MVEBU
+ 	select PINCTRL_ARMADA_37XX
+ 	select PINCTRL_ARMADA_AP806
+ 	select PINCTRL_ARMADA_CP110
++	select PINCTRL_AC5
+ 	help
+ 	  This enables support for Marvell EBU familly, including:
+ 	   - Armada 3700 SoC Family
+ 	   - Armada 7K SoC Family
+ 	   - Armada 8K SoC Family
++	   - AC5 Family
+ 
+ config ARCH_QCOM
+ 	bool "Qualcomm Platforms"
+diff --git a/drivers/gpio/gpio-mvebu.c b/drivers/gpio/gpio-mvebu.c
+index adc768f..5840b9b 100644
+--- a/drivers/gpio/gpio-mvebu.c
++++ b/drivers/gpio/gpio-mvebu.c
+@@ -85,10 +85,16 @@
+ #define GPIO_EDGE_MASK_ARMADAXP_OFF(cpu)  (0x10 + (cpu) * 0x4)
+ #define GPIO_LEVEL_MASK_ARMADAXP_OFF(cpu) (0x20 + (cpu) * 0x4)
+ 
++#define AC5_HIGH_GPIO_OFF		0x40
++#define GPIO_AC5_REG_OFF(pin)   (((pin)/32)*AC5_HIGH_GPIO_OFF)
++
++
+ #define MVEBU_GPIO_SOC_VARIANT_ORION	0x1
+ #define MVEBU_GPIO_SOC_VARIANT_MV78200	0x2
+ #define MVEBU_GPIO_SOC_VARIANT_ARMADAXP 0x3
+-#define MVEBU_GPIO_SOC_VARIANT_A8K	0x4
++#define MVEBU_GPIO_SOC_VARIANT_A8K		0x4
++#define MVEBU_GPIO_SOC_VARIANT_AC5		0x5
++
+ 
+ #define MVEBU_MAX_GPIO_PER_BANK		32
+ 
+@@ -298,46 +304,59 @@ static void __iomem *mvebu_pwmreg_blink_off_duration(struct mvebu_pwm *mvpwm)
+ static void mvebu_gpio_set(struct gpio_chip *chip, unsigned int pin, int value)
+ {
+ 	struct mvebu_gpio_chip *mvchip = gpiochip_get_data(chip);
++	u32 reg_offset = 0;
++
++	if (mvchip->soc_variant == MVEBU_GPIO_SOC_VARIANT_AC5)
++		reg_offset = GPIO_AC5_REG_OFF(pin);
+ 
+-	regmap_update_bits(mvchip->regs, GPIO_OUT_OFF + mvchip->offset,
+-			   BIT(pin), value ? BIT(pin) : 0);
++	regmap_update_bits(mvchip->regs, GPIO_OUT_OFF + reg_offset + mvchip->offset,
++			BIT(pin%32), value ? BIT(pin%32) : 0);
+ }
+ 
+ static int mvebu_gpio_get(struct gpio_chip *chip, unsigned int pin)
+ {
+ 	struct mvebu_gpio_chip *mvchip = gpiochip_get_data(chip);
+ 	u32 u;
++	u32 reg_offset = 0;
+ 
+-	regmap_read(mvchip->regs, GPIO_IO_CONF_OFF + mvchip->offset, &u);
++	if (mvchip->soc_variant == MVEBU_GPIO_SOC_VARIANT_AC5)
++		reg_offset = GPIO_AC5_REG_OFF(pin);
++
++	regmap_read(mvchip->regs, GPIO_IO_CONF_OFF + reg_offset + mvchip->offset, &u);
+ 
+-	if (u & BIT(pin)) {
++	if (u & BIT(pin%32)) {
+ 		u32 data_in, in_pol;
+ 
+-		regmap_read(mvchip->regs, GPIO_DATA_IN_OFF + mvchip->offset,
++		regmap_read(mvchip->regs, GPIO_DATA_IN_OFF + reg_offset + mvchip->offset,
+ 			    &data_in);
+-		regmap_read(mvchip->regs, GPIO_IN_POL_OFF + mvchip->offset,
++		regmap_read(mvchip->regs, GPIO_IN_POL_OFF + reg_offset + mvchip->offset,
+ 			    &in_pol);
+ 		u = data_in ^ in_pol;
+ 	} else {
+-		regmap_read(mvchip->regs, GPIO_OUT_OFF + mvchip->offset, &u);
++		regmap_read(mvchip->regs, GPIO_OUT_OFF + reg_offset + mvchip->offset, &u);
+ 	}
+ 
+-	return (u >> pin) & 1;
++	return (u >> (pin%32)) & 1;
+ }
+ 
+ static void mvebu_gpio_blink(struct gpio_chip *chip, unsigned int pin,
+ 			     int value)
+ {
+ 	struct mvebu_gpio_chip *mvchip = gpiochip_get_data(chip);
++	u32 reg_offset = 0;
++
++	if (mvchip->soc_variant == MVEBU_GPIO_SOC_VARIANT_AC5)
++		reg_offset = GPIO_AC5_REG_OFF(pin);
+ 
+-	regmap_update_bits(mvchip->regs, GPIO_BLINK_EN_OFF + mvchip->offset,
+-			   BIT(pin), value ? BIT(pin) : 0);
++	regmap_update_bits(mvchip->regs, GPIO_BLINK_EN_OFF + reg_offset +
++			mvchip->offset, BIT(pin%32), value ? BIT(pin%32) : 0);
+ }
+ 
+ static int mvebu_gpio_direction_input(struct gpio_chip *chip, unsigned int pin)
+ {
+ 	struct mvebu_gpio_chip *mvchip = gpiochip_get_data(chip);
+ 	int ret;
++	u32 reg_offset = 0;
+ 
+ 	/*
+ 	 * Check with the pinctrl driver whether this pin is usable as
+@@ -347,8 +366,11 @@ static int mvebu_gpio_direction_input(struct gpio_chip *chip, unsigned int pin)
+ 	if (ret)
+ 		return ret;
+ 
+-	regmap_update_bits(mvchip->regs, GPIO_IO_CONF_OFF + mvchip->offset,
+-			   BIT(pin), BIT(pin));
++	if (mvchip->soc_variant == MVEBU_GPIO_SOC_VARIANT_AC5)
++		reg_offset = GPIO_AC5_REG_OFF(pin);
++
++	regmap_update_bits(mvchip->regs, GPIO_IO_CONF_OFF + mvchip->offset +
++			reg_offset, BIT(pin%32), BIT(pin%32));
+ 
+ 	return 0;
+ }
+@@ -358,6 +380,7 @@ static int mvebu_gpio_direction_output(struct gpio_chip *chip, unsigned int pin,
+ {
+ 	struct mvebu_gpio_chip *mvchip = gpiochip_get_data(chip);
+ 	int ret;
++	u32 reg_offset = 0;
+ 
+ 	/*
+ 	 * Check with the pinctrl driver whether this pin is usable as
+@@ -370,8 +393,11 @@ static int mvebu_gpio_direction_output(struct gpio_chip *chip, unsigned int pin,
+ 	mvebu_gpio_blink(chip, pin, 0);
+ 	mvebu_gpio_set(chip, pin, value);
+ 
+-	regmap_update_bits(mvchip->regs, GPIO_IO_CONF_OFF + mvchip->offset,
+-			   BIT(pin), 0);
++	if (mvchip->soc_variant == MVEBU_GPIO_SOC_VARIANT_AC5)
++		reg_offset = GPIO_AC5_REG_OFF(pin);
++
++	regmap_update_bits(mvchip->regs, GPIO_IO_CONF_OFF + reg_offset +
++			mvchip->offset, BIT(pin%32), 0);
+ 
+ 	return 0;
+ }
+@@ -910,6 +936,10 @@ static const struct of_device_id mvebu_gpio_of_match[] = {
+ 		.data       = (void *) MVEBU_GPIO_SOC_VARIANT_A8K,
+ 	},
+ 	{
++		.compatible = "marvell,ac5-gpio",
++		.data       = (void *) MVEBU_GPIO_SOC_VARIANT_AC5,
++	},
++	{
+ 		/* sentinel */
+ 	},
+ };
+@@ -1154,6 +1184,14 @@ static int mvebu_gpio_probe(struct platform_device *pdev)
+ 	 * Mask and clear GPIO interrupts.
+ 	 */
+ 	switch (soc_variant) {
++	case MVEBU_GPIO_SOC_VARIANT_AC5:
++		regmap_write(mvchip->regs,
++				 AC5_HIGH_GPIO_OFF + GPIO_EDGE_CAUSE_OFF + mvchip->offset, 0);
++		regmap_write(mvchip->regs,
++				 AC5_HIGH_GPIO_OFF + GPIO_EDGE_MASK_OFF + mvchip->offset, 0);
++		regmap_write(mvchip->regs,
++				 AC5_HIGH_GPIO_OFF + GPIO_LEVEL_MASK_OFF + mvchip->offset, 0);
++		/* Fall through - AC5 has 46 GPIOs, that requires 2 registers */
+ 	case MVEBU_GPIO_SOC_VARIANT_ORION:
+ 	case MVEBU_GPIO_SOC_VARIANT_A8K:
+ 		regmap_write(mvchip->regs,
+diff --git a/drivers/pinctrl/mvebu/Kconfig b/drivers/pinctrl/mvebu/Kconfig
+index d9773b7..1caef44 100644
+--- a/drivers/pinctrl/mvebu/Kconfig
++++ b/drivers/pinctrl/mvebu/Kconfig
+@@ -44,6 +44,10 @@ config PINCTRL_ORION
+ 	bool
+ 	select PINCTRL_MVEBU
+ 
++config PINCTRL_AC5
++	bool
++	select PINCTRL_MVEBU
++
+ config PINCTRL_ARMADA_37XX
+        bool
+        select GENERIC_PINCONF
+diff --git a/drivers/pinctrl/mvebu/Makefile b/drivers/pinctrl/mvebu/Makefile
+index cd082dc..23458ab 100644
+--- a/drivers/pinctrl/mvebu/Makefile
++++ b/drivers/pinctrl/mvebu/Makefile
+@@ -11,3 +11,4 @@ obj-$(CONFIG_PINCTRL_ARMADA_CP110) += pinctrl-armada-cp110.o
+ obj-$(CONFIG_PINCTRL_ARMADA_XP)  += pinctrl-armada-xp.o
+ obj-$(CONFIG_PINCTRL_ARMADA_37XX)  += pinctrl-armada-37xx.o
+ obj-$(CONFIG_PINCTRL_ORION)  += pinctrl-orion.o
++obj-$(CONFIG_PINCTRL_AC5) += pinctrl-ac5.o
+diff --git a/drivers/pinctrl/mvebu/pinctrl-ac5.c b/drivers/pinctrl/mvebu/pinctrl-ac5.c
+new file mode 100644
+index 0000000..c33c9fc
+--- /dev/null
++++ b/drivers/pinctrl/mvebu/pinctrl-ac5.c
+@@ -0,0 +1,164 @@
++/*
++ * Marvell ac5 pinctrl driver based on mvebu pinctrl core
++ *
++ * Copyright (C) 2021 Marvell
++ *
++ * Noam Liron <lnoam@marvell.com>
++ *
++ * This program is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ */
++
++#include <linux/err.h>
++#include <linux/init.h>
++#include <linux/io.h>
++#include <linux/platform_device.h>
++#include <linux/of.h>
++#include <linux/of_device.h>
++#include <linux/pinctrl/pinctrl.h>
++
++#include "pinctrl-mvebu.h"
++
++static struct mvebu_mpp_mode ac5_mpp_modes[] = {
++	MPP_MODE(0,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(1,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(2,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(3,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(4,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(5,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(6,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(7,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(8,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(9,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(10,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(11,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(12,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(13,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(14,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(15,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(16,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(17,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(18,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(19,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(20,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(21,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(22,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(23,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(24,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(25,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(26,
++		 MPP_FUNCTION(0, "gpio",    NULL),
++		 MPP_FUNCTION(1, "i2c0-opt", "scl")),
++	MPP_MODE(27,
++		 MPP_FUNCTION(0, "gpio",    NULL),
++		 MPP_FUNCTION(1, "i2c0-opt", "sda")),
++	MPP_MODE(28,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(29,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(30,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(31,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(32,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(33,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(34,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(35,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(36,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(37,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(38,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(39,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(40,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(41,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(42,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(43,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(44,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++	MPP_MODE(45,
++		 MPP_FUNCTION(0, "gpio",    NULL)),
++};
++
++static struct mvebu_pinctrl_soc_info ac5_pinctrl_info;
++
++static const struct of_device_id ac5_pinctrl_of_match[] = {
++	{
++		.compatible = "marvell,ac5-pinctrl",
++	},
++	{ },
++};
++
++static const struct mvebu_mpp_ctrl ac5_mpp_controls[] = {
++	MPP_FUNC_CTRL(0, 45, NULL, mvebu_regmap_mpp_ctrl), };
++
++static struct pinctrl_gpio_range ac5_mpp_gpio_ranges[] = {
++	MPP_GPIO_RANGE(0,   0,  0, 45), };
++
++static int ac5_pinctrl_probe(struct platform_device *pdev) {
++	struct mvebu_pinctrl_soc_info *soc = &ac5_pinctrl_info;
++	const struct of_device_id *match =
++		of_match_device(ac5_pinctrl_of_match, &pdev->dev);
++
++	if (!match || !pdev->dev.parent)
++		return -ENODEV;
++
++	soc->variant = 0; /* no variants for ac5 */
++	soc->controls = ac5_mpp_controls;
++	soc->ncontrols = ARRAY_SIZE(ac5_mpp_controls);
++	soc->gpioranges = ac5_mpp_gpio_ranges;
++	soc->ngpioranges = ARRAY_SIZE(ac5_mpp_gpio_ranges);
++	soc->modes = ac5_mpp_modes;
++	soc->nmodes = ac5_mpp_controls[0].npins;
++
++	pdev->dev.platform_data = soc;
++
++	return mvebu_pinctrl_simple_regmap_probe(pdev, &pdev->dev, 0); }
++
++static struct platform_driver ac5_pinctrl_driver = {
++	.driver = {
++		.name = "ac5-pinctrl",
++		.of_match_table = of_match_ptr(ac5_pinctrl_of_match),
++	},
++	.probe = ac5_pinctrl_probe,
++};
++
++builtin_platform_driver(ac5_pinctrl_driver);
+-- 
+2.11.0
+
diff --git a/patch/0123-rd-ac5x-i2c-fixes.patch b/patch/0123-rd-ac5x-i2c-fixes.patch
index e69de29..ab20f1b 100644
--- a/patch/0123-rd-ac5x-i2c-fixes.patch
+++ b/patch/0123-rd-ac5x-i2c-fixes.patch
@@ -0,0 +1,180 @@
+From eaf864d22373cffa8d9eb40b44dc06e7d22a6267 Mon Sep 17 00:00:00 2001
+From: rminnikanti <rminnikanti@marvell.com>
+Date: Sun, 5 Sep 2021 17:25:09 +0000
+Subject: [PATCH] rd ac5x i2c fixes
+
+---
+ drivers/i2c/busses/i2c-mv64xxx.c | 83 ++++++++++++++++++++++++++++++++++++++--
+ 1 file changed, 80 insertions(+), 3 deletions(-)
+
+diff --git a/drivers/i2c/busses/i2c-mv64xxx.c b/drivers/i2c/busses/i2c-mv64xxx.c
+index a5a95ea..3d36d34 100644
+--- a/drivers/i2c/busses/i2c-mv64xxx.c
++++ b/drivers/i2c/busses/i2c-mv64xxx.c
+@@ -9,6 +9,8 @@
+  * is licensed "as is" without any warranty of any kind, whether express
+  * or implied.
+  */
++#undef UI_I2C_DEBUG
++
+ #include <linux/kernel.h>
+ #include <linux/slab.h>
+ #include <linux/module.h>
+@@ -25,6 +27,7 @@
+ #include <linux/clk.h>
+ #include <linux/err.h>
+ #include <linux/delay.h>
++#include <linux/of_gpio.h>
+ 
+ #define MV64XXX_I2C_ADDR_ADDR(val)			((val & 0x7f) << 1)
+ #define MV64XXX_I2C_BAUD_DIV_N(val)			(val & 0x7)
+@@ -103,6 +106,7 @@ enum {
+ 	MV64XXX_I2C_ACTION_RCV_DATA,
+ 	MV64XXX_I2C_ACTION_RCV_DATA_STOP,
+ 	MV64XXX_I2C_ACTION_SEND_STOP,
++	MV64XXX_I2C_ACTION_UNLOCK_BUS
+ };
+ 
+ struct mv64xxx_i2c_regs {
+@@ -147,6 +151,12 @@ struct mv64xxx_i2c_data {
+ 	bool			irq_clear_inverted;
+ 	/* Clk div is 2 to the power n, not 2 to the power n + 1 */
+ 	bool			clk_n_base_0;
++
++	/* I2C mpp states & gpios needed for ARB lost recovery */
++	int 			scl_gpio, sda_gpio;
++	bool  			arb_lost_reovery_ena;
++	struct pinctrl_state *i2c_mpp_state;
++	struct pinctrl_state *i2c_gpio_state;
+ };
+ 
+ static struct mv64xxx_i2c_regs mv64xxx_i2c_regs_mv64xxx = {
+@@ -169,6 +179,7 @@ static struct mv64xxx_i2c_regs mv64xxx_i2c_regs_sun4i = {
+ 	.soft_reset	= 0x18,
+ };
+ 
++
+ static void
+ mv64xxx_i2c_prepare_for_io(struct mv64xxx_i2c_data *drv_data,
+ 	struct i2c_msg *msg)
+@@ -308,6 +319,11 @@ mv64xxx_i2c_fsm(struct mv64xxx_i2c_data *drv_data, u32 status)
+ 		drv_data->state = MV64XXX_I2C_STATE_IDLE;
+ 		break;
+ 
++	case MV64XXX_I2C_STATUS_MAST_LOST_ARB: /*0x38*/
++	   drv_data->action = MV64XXX_I2C_ACTION_UNLOCK_BUS;
++	   drv_data->state = MV64XXX_I2C_STATE_IDLE;
++	   break;
++
+ 	case MV64XXX_I2C_STATUS_MAST_WR_ADDR_NO_ACK: /* 0x20 */
+ 	case MV64XXX_I2C_STATUS_MAST_WR_NO_ACK: /* 30 */
+ 	case MV64XXX_I2C_STATUS_MAST_RD_ADDR_NO_ACK: /* 48 */
+@@ -345,6 +361,9 @@ static void mv64xxx_i2c_send_start(struct mv64xxx_i2c_data *drv_data)
+ static void
+ mv64xxx_i2c_do_action(struct mv64xxx_i2c_data *drv_data)
+ {
++	struct pinctrl *pc;
++	int i, ret;
++
+ 	switch(drv_data->action) {
+ 	case MV64XXX_I2C_ACTION_SEND_RESTART:
+ 		/* We should only get here if we have further messages */
+@@ -398,6 +417,44 @@ mv64xxx_i2c_do_action(struct mv64xxx_i2c_data *drv_data)
+ 			drv_data->reg_base + drv_data->reg_offsets.control);
+ 		break;
+ 
++	case MV64XXX_I2C_ACTION_UNLOCK_BUS:
++
++		if (!drv_data->arb_lost_reovery_ena)
++			break;
++
++		pc = devm_pinctrl_get(drv_data->adapter.dev.parent);
++		if (IS_ERR(pc))
++			break;
++
++		/* Move i2c MPPs to GPIOs */
++		if (pinctrl_select_state(pc, drv_data->i2c_gpio_state) >=0) {
++			ret = devm_gpio_request_one(drv_data->adapter.dev.parent,
++					 drv_data->scl_gpio, GPIOF_DIR_OUT, NULL);
++			ret |= devm_gpio_request_one(drv_data->adapter.dev.parent,
++					 drv_data->sda_gpio, GPIOF_DIR_OUT, NULL);
++			if (!ret) {
++				/* toggle i2c scl 10 times, for the slave that occupies
++				   the bus Tx its remaining data, and release the bus
++				*/
++				for (i=0; i<10; i++) {
++					gpio_set_value(drv_data->scl_gpio, 1);
++					mdelay(1);
++					gpio_set_value(drv_data->scl_gpio, 0);
++				};
++
++				devm_gpio_free(drv_data->adapter.dev.parent, drv_data->scl_gpio);
++				devm_gpio_free(drv_data->adapter.dev.parent, drv_data->sda_gpio);
++			}
++
++			/* restore i2c MPPs */
++			pinctrl_select_state(pc, drv_data->i2c_mpp_state);
++		}
++
++		/* Trigger controller soft reset and restore MPPs */
++		writel(0x1, drv_data->reg_base + drv_data->reg_offsets.soft_reset);
++		mdelay(1);
++		/* fall through */
++
+ 	case MV64XXX_I2C_ACTION_RCV_DATA_STOP:
+ 		drv_data->msg->buf[drv_data->byte_posn++] =
+ 			readl(drv_data->reg_base + drv_data->reg_offsets.data);
+@@ -850,7 +907,8 @@ mv64xxx_of_config(struct mv64xxx_i2c_data *drv_data,
+ 			drv_data->errata_delay = true;
+ 	}
+ 
+-	if (of_device_is_compatible(np, "marvell,mv78230-a0-i2c")) {
++	if (of_device_is_compatible(np, "marvell,mv78230-i2c") ||
++	    of_device_is_compatible(np, "marvell,mv64xxx-i2c") ) {
+ 		drv_data->offload_enabled = false;
+ 		/* The delay is only needed in standard mode (100kHz) */
+ 		if (bus_freq <= 100000)
+@@ -872,12 +930,12 @@ mv64xxx_of_config(struct mv64xxx_i2c_data *drv_data,
+ }
+ #endif /* CONFIG_OF */
+ 
+-static int
+-mv64xxx_i2c_probe(struct platform_device *pd)
++static int mv64xxx_i2c_probe(struct platform_device *pd)
+ {
+ 	struct mv64xxx_i2c_data		*drv_data;
+ 	struct mv64xxx_i2c_pdata	*pdata = dev_get_platdata(&pd->dev);
+ 	struct resource	*r;
++	struct pinctrl *pc;
+ 	int	rc;
+ 
+ 	if ((!pdata && !pd->dev.of_node))
+@@ -931,6 +989,25 @@ mv64xxx_i2c_probe(struct platform_device *pd)
+ 		goto exit_reset;
+ 	}
+ 
++	drv_data->arb_lost_reovery_ena = false;
++	pc = devm_pinctrl_get(&pd->dev);
++	if (!IS_ERR(pc)) {
++		drv_data->i2c_mpp_state = pinctrl_lookup_state(pc, "i2c-mpp-state");
++		drv_data->i2c_gpio_state = pinctrl_lookup_state(pc, "i2c-gpio-state");
++		drv_data->scl_gpio = of_get_named_gpio(pd->dev.of_node, "scl_gpio", 0);
++		drv_data->sda_gpio = of_get_named_gpio(pd->dev.of_node, "sda_gpio", 0);
++
++		if (!IS_ERR(drv_data->i2c_gpio_state) &&
++			!IS_ERR(drv_data->i2c_mpp_state) &&
++			gpio_is_valid(drv_data->scl_gpio) &&
++			gpio_is_valid(drv_data->sda_gpio) )
++			drv_data->arb_lost_reovery_ena = true;
++	}
++
++	if (!drv_data->arb_lost_reovery_ena)
++		dev_info(&pd->dev,
++			"mv64xxx: missing ARB-lost recovery defs in dts file\n");
++
+ 	drv_data->adapter.dev.parent = &pd->dev;
+ 	drv_data->adapter.algo = &mv64xxx_i2c_algo;
+ 	drv_data->adapter.owner = THIS_MODULE;
+-- 
+2.11.0
+
diff --git a/patch/0123-rd-ac5x-pcie-changes.patch b/patch/0123-rd-ac5x-pcie-changes.patch
index e69de29..a7ac9cc 100644
--- a/patch/0123-rd-ac5x-pcie-changes.patch
+++ b/patch/0123-rd-ac5x-pcie-changes.patch
@@ -0,0 +1,222 @@
+From c7fa80b0ed1873f22addf608cb5698c66a9183c2 Mon Sep 17 00:00:00 2001
+From: rminnikanti <rminnikanti@marvell.com>
+Date: Sun, 5 Sep 2021 17:28:49 +0000
+Subject: [PATCH] rd ac5x pcie changes
+
+---
+ drivers/pci/controller/dwc/pcie-armada8k.c | 128 +++++++++++++++++++++++------
+ 1 file changed, 104 insertions(+), 24 deletions(-)
+
+diff --git a/drivers/pci/controller/dwc/pcie-armada8k.c b/drivers/pci/controller/dwc/pcie-armada8k.c
+index 0c389a30..09861f0 100644
+--- a/drivers/pci/controller/dwc/pcie-armada8k.c
++++ b/drivers/pci/controller/dwc/pcie-armada8k.c
+@@ -25,10 +25,16 @@
+ 
+ #include "pcie-designware.h"
+ 
++enum mvpcie_type {
++	MVPCIE_TYPE_A8K,
++	MVPCIE_TYPE_AC5
++};
++
+ struct armada8k_pcie {
+ 	struct dw_pcie *pci;
+ 	struct clk *clk;
+ 	struct clk *clk_reg;
++       enum mvpcie_type pcie_type;
+ };
+ 
+ #define PCIE_VENDOR_REGS_OFFSET		0x8000
+@@ -49,7 +55,12 @@ struct armada8k_pcie {
+ #define PCIE_INT_B_ASSERT_MASK		BIT(10)
+ #define PCIE_INT_C_ASSERT_MASK		BIT(11)
+ #define PCIE_INT_D_ASSERT_MASK		BIT(12)
+-
++#define PCIE_GLOBAL_INT_CAUSE2_REG     (PCIE_VENDOR_REGS_OFFSET + 0x24)
++#define PCIE_GLOBAL_INT_MASK2_REG      (PCIE_VENDOR_REGS_OFFSET + 0x28)
++#define PCIE_INT_A_ASSERT_MASK_AC5      BIT(12)
++#define PCIE_INT_B_ASSERT_MASK_AC5      BIT(13)
++#define PCIE_INT_C_ASSERT_MASK_AC5      BIT(14)
++#define PCIE_INT_D_ASSERT_MASK_AC5      BIT(15)
+ #define PCIE_ARCACHE_TRC_REG		(PCIE_VENDOR_REGS_OFFSET + 0x50)
+ #define PCIE_AWCACHE_TRC_REG		(PCIE_VENDOR_REGS_OFFSET + 0x54)
+ #define PCIE_ARUSER_REG			(PCIE_VENDOR_REGS_OFFSET + 0x5C)
+@@ -65,6 +76,16 @@ struct armada8k_pcie {
+ #define AX_USER_DOMAIN_MASK		0x3
+ #define AX_USER_DOMAIN_SHIFT		4
+ 
++#define PCIE_STREAM_ID			(PCIE_VENDOR_REGS_OFFSET + 0x64)
++#define STREAM_ID_BUS_BITS		2
++#define STREAM_ID_DEV_BITS		2
++#define STREAM_ID_FUNC_BITS		3
++#define STREAM_ID_PREFIX		0x80
++#define PCIE_STREAM_ID_CFG		(STREAM_ID_PREFIX << 12 | \
++					STREAM_ID_BUS_BITS << 8 | \
++					STREAM_ID_DEV_BITS << 4 | \
++					STREAM_ID_FUNC_BITS)
++
+ #define to_armada8k_pcie(x)	dev_get_drvdata((x)->dev)
+ 
+ static int armada8k_pcie_link_up(struct dw_pcie *pci)
+@@ -81,11 +102,44 @@ static int armada8k_pcie_link_up(struct dw_pcie *pci)
+ 	return 0;
+ }
+ 
++static u32 ac5_pcie_read_dbi(struct dw_pcie *pci, void __iomem *base,
++				u32 reg, size_t size)
++{
++
++	u32 val;
++
++	/* Handle AC5 ATU access */
++	if ((reg & ~0xfffff) == 0x300000) {
++		reg &= 0xfffff;
++		reg = 0xc000 | (0x200 * (reg >> 9)) | (reg & 0xff);
++	} else if ((reg & 0xfffff000) == PCIE_VENDOR_REGS_OFFSET)
++		reg += 0x8000; /* PCIE_VENDOR_REGS_OFFSET in ac5 is 0x10000 */
++	dw_pcie_read(base + reg, size, &val);
++
++	return val;
++}
++
++static void ac5_pcie_write_dbi(struct dw_pcie *pci, void __iomem *base,
++				u32 reg, size_t size, u32 val)
++{
++	/* Handle AC5 ATU access */
++	if ((reg & ~0xfffff) == 0x300000) {
++		reg &= 0xfffff;
++		reg = 0xc000 | (0x200 * (reg >> 9)) | (reg & 0xff);
++	} else if ((reg & 0xfffff000) == PCIE_VENDOR_REGS_OFFSET)
++		reg += 0x8000; /* PCIE_VENDOR_REGS_OFFSET in ac5 is 0x10000 */
++
++	dw_pcie_write(base + reg, size, val);
++}
++
++
+ static void armada8k_pcie_establish_link(struct armada8k_pcie *pcie)
+ {
+ 	struct dw_pcie *pci = pcie->pci;
+ 	u32 reg;
+ 
++	if (pcie->pcie_type == MVPCIE_TYPE_A8K)
++		dw_pcie_writel_dbi(pci, PCIE_STREAM_ID, PCIE_STREAM_ID_CFG);
+ 	if (!dw_pcie_link_up(pci)) {
+ 		/* Disable LTSSM state machine to enable configuration */
+ 		reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_CONTROL_REG);
+@@ -93,32 +147,41 @@ static void armada8k_pcie_establish_link(struct armada8k_pcie *pcie)
+ 		dw_pcie_writel_dbi(pci, PCIE_GLOBAL_CONTROL_REG, reg);
+ 	}
+ 
+-	/* Set the device to root complex mode */
+-	reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_CONTROL_REG);
+-	reg &= ~(PCIE_DEVICE_TYPE_MASK << PCIE_DEVICE_TYPE_SHIFT);
+-	reg |= PCIE_DEVICE_TYPE_RC << PCIE_DEVICE_TYPE_SHIFT;
+-	dw_pcie_writel_dbi(pci, PCIE_GLOBAL_CONTROL_REG, reg);
++	if (pcie->pcie_type == MVPCIE_TYPE_A8K){
++		/* Set the device to root complex mode */
++		reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_CONTROL_REG);
++		reg &= ~(PCIE_DEVICE_TYPE_MASK << PCIE_DEVICE_TYPE_SHIFT);
++		reg |= PCIE_DEVICE_TYPE_RC << PCIE_DEVICE_TYPE_SHIFT;
++		dw_pcie_writel_dbi(pci, PCIE_GLOBAL_CONTROL_REG, reg);
+ 
+-	/* Set the PCIe master AxCache attributes */
+-	dw_pcie_writel_dbi(pci, PCIE_ARCACHE_TRC_REG, ARCACHE_DEFAULT_VALUE);
+-	dw_pcie_writel_dbi(pci, PCIE_AWCACHE_TRC_REG, AWCACHE_DEFAULT_VALUE);
++		/* Set the PCIe master AxCache attributes */
++		dw_pcie_writel_dbi(pci, PCIE_ARCACHE_TRC_REG, ARCACHE_DEFAULT_VALUE);
++		dw_pcie_writel_dbi(pci, PCIE_AWCACHE_TRC_REG, AWCACHE_DEFAULT_VALUE);
+ 
+-	/* Set the PCIe master AxDomain attributes */
+-	reg = dw_pcie_readl_dbi(pci, PCIE_ARUSER_REG);
+-	reg &= ~(AX_USER_DOMAIN_MASK << AX_USER_DOMAIN_SHIFT);
+-	reg |= DOMAIN_OUTER_SHAREABLE << AX_USER_DOMAIN_SHIFT;
+-	dw_pcie_writel_dbi(pci, PCIE_ARUSER_REG, reg);
++		/* Set the PCIe master AxDomain attributes */
++		reg = dw_pcie_readl_dbi(pci, PCIE_ARUSER_REG);
++		reg &= ~(AX_USER_DOMAIN_MASK << AX_USER_DOMAIN_SHIFT);
++		reg |= DOMAIN_OUTER_SHAREABLE << AX_USER_DOMAIN_SHIFT;
++		dw_pcie_writel_dbi(pci, PCIE_ARUSER_REG, reg);
+ 
+-	reg = dw_pcie_readl_dbi(pci, PCIE_AWUSER_REG);
+-	reg &= ~(AX_USER_DOMAIN_MASK << AX_USER_DOMAIN_SHIFT);
+-	reg |= DOMAIN_OUTER_SHAREABLE << AX_USER_DOMAIN_SHIFT;
+-	dw_pcie_writel_dbi(pci, PCIE_AWUSER_REG, reg);
++		reg = dw_pcie_readl_dbi(pci, PCIE_AWUSER_REG);
++		reg &= ~(AX_USER_DOMAIN_MASK << AX_USER_DOMAIN_SHIFT);
++		reg |= DOMAIN_OUTER_SHAREABLE << AX_USER_DOMAIN_SHIFT;
++		dw_pcie_writel_dbi(pci, PCIE_AWUSER_REG, reg);
++	}
+ 
+ 	/* Enable INT A-D interrupts */
+-	reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_INT_MASK1_REG);
+-	reg |= PCIE_INT_A_ASSERT_MASK | PCIE_INT_B_ASSERT_MASK |
+-	       PCIE_INT_C_ASSERT_MASK | PCIE_INT_D_ASSERT_MASK;
+-	dw_pcie_writel_dbi(pci, PCIE_GLOBAL_INT_MASK1_REG, reg);
++	if (pcie->pcie_type == MVPCIE_TYPE_AC5) {
++		reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_INT_MASK2_REG);
++		reg |= PCIE_INT_A_ASSERT_MASK_AC5 | PCIE_INT_B_ASSERT_MASK_AC5 |
++			PCIE_INT_C_ASSERT_MASK_AC5 | PCIE_INT_D_ASSERT_MASK_AC5;
++		dw_pcie_writel_dbi(pci, PCIE_GLOBAL_INT_MASK2_REG, reg);
++	} else {
++		reg = dw_pcie_readl_dbi(pci, PCIE_GLOBAL_INT_MASK1_REG);
++		reg |= PCIE_INT_A_ASSERT_MASK | PCIE_INT_B_ASSERT_MASK |
++			PCIE_INT_C_ASSERT_MASK | PCIE_INT_D_ASSERT_MASK;
++		dw_pcie_writel_dbi(pci, PCIE_GLOBAL_INT_MASK1_REG, reg);
++	}
+ 
+ 	if (!dw_pcie_link_up(pci)) {
+ 		/* Configuration done. Start LTSSM */
+@@ -196,8 +259,14 @@ static int armada8k_add_pcie_port(struct armada8k_pcie *pcie,
+ 	return 0;
+ }
+ 
+-static const struct dw_pcie_ops dw_pcie_ops = {
++static const struct dw_pcie_ops armada8k_dw_pcie_ops = {
++	.link_up = armada8k_pcie_link_up,
++};
++
++static const struct dw_pcie_ops ac5_dw_pcie_ops = {
+ 	.link_up = armada8k_pcie_link_up,
++	.read_dbi = ac5_pcie_read_dbi,
++	.write_dbi = ac5_pcie_write_dbi,
+ };
+ 
+ static int armada8k_pcie_probe(struct platform_device *pdev)
+@@ -205,6 +274,7 @@ static int armada8k_pcie_probe(struct platform_device *pdev)
+ 	struct dw_pcie *pci;
+ 	struct armada8k_pcie *pcie;
+ 	struct device *dev = &pdev->dev;
++	struct device_node *dn = pdev->dev.of_node;
+ 	struct resource *base;
+ 	int ret;
+ 
+@@ -217,7 +287,16 @@ static int armada8k_pcie_probe(struct platform_device *pdev)
+ 		return -ENOMEM;
+ 
+ 	pci->dev = dev;
+-	pci->ops = &dw_pcie_ops;
++	if (of_device_is_compatible(dn, "marvell,armada8k-pcie")) {
++		pci->ops = &armada8k_dw_pcie_ops;
++		pcie->pcie_type = MVPCIE_TYPE_A8K;
++	}
++	else if (of_device_is_compatible(dn, "marvell,ac5-pcie")) {
++		pci->ops = &ac5_dw_pcie_ops;
++		pcie->pcie_type = MVPCIE_TYPE_AC5;
++	}
++	else
++		dev_err(dev, "couldn't find compatible ops\n");
+ 
+ 	pcie->pci = pci;
+ 
+@@ -267,6 +346,7 @@ static int armada8k_pcie_probe(struct platform_device *pdev)
+ 
+ static const struct of_device_id armada8k_pcie_of_match[] = {
+ 	{ .compatible = "marvell,armada8k-pcie", },
++	{.compatible = "marvell,ac5-pcie", },
+ 	{},
+ };
+ 
+-- 
+2.11.0
+
diff --git a/patch/0124-rd-ac5x-mvneta-mvmdio-changes.patch b/patch/0124-rd-ac5x-mvneta-mvmdio-changes.patch
index e69de29..24624c2 100644
--- a/patch/0124-rd-ac5x-mvneta-mvmdio-changes.patch
+++ b/patch/0124-rd-ac5x-mvneta-mvmdio-changes.patch
@@ -0,0 +1,1097 @@
+diff --git a/drivers/net/ethernet/marvell/mvmdio.c b/drivers/net/ethernet/marvell/mvmdio.c
+index cf7e10f..d58d8df 100644
+--- a/drivers/net/ethernet/marvell/mvmdio.c
++++ b/drivers/net/ethernet/marvell/mvmdio.c
+@@ -64,7 +64,7 @@
+ 
+ struct orion_mdio_dev {
+ 	void __iomem *regs;
+-	struct clk *clk[4];
++	struct clk *clk[3];
+ 	/*
+ 	 * If we have access to the error interrupt pin (which is
+ 	 * somewhat misnamed as it not only reflects internal errors
+@@ -322,20 +322,12 @@ static int orion_mdio_probe(struct platform_device *pdev)
+ 	if (pdev->dev.of_node) {
+ 		for (i = 0; i < ARRAY_SIZE(dev->clk); i++) {
+ 			dev->clk[i] = of_clk_get(pdev->dev.of_node, i);
+-			if (PTR_ERR(dev->clk[i]) == -EPROBE_DEFER) {
+-				ret = -EPROBE_DEFER;
+-				goto out_clk;
+-			}
+ 			if (IS_ERR(dev->clk[i]))
+ 				break;
+ 			clk_prepare_enable(dev->clk[i]);
+ 		}
+ 	} else {
+ 		dev->clk[0] = clk_get(&pdev->dev, NULL);
+-		if (PTR_ERR(dev->clk[0]) == -EPROBE_DEFER) {
+-			ret = -EPROBE_DEFER;
+-			goto out_clk;
+-		}
+ 		if (!IS_ERR(dev->clk[0]))
+ 			clk_prepare_enable(dev->clk[0]);
+ 	}
+@@ -362,7 +354,10 @@ static int orion_mdio_probe(struct platform_device *pdev)
+ 		goto out_mdio;
+ 	}
+ 
+-	ret = of_mdiobus_register(bus, pdev->dev.of_node);
++	if (pdev->dev.of_node)
++		ret = of_mdiobus_register(bus, pdev->dev.of_node);
++	else
++		ret = mdiobus_register(bus);
+ 	if (ret < 0) {
+ 		dev_err(&pdev->dev, "Cannot register MDIO bus (%d)\n", ret);
+ 		goto out_mdio;
+@@ -376,7 +371,6 @@ static int orion_mdio_probe(struct platform_device *pdev)
+ 	if (dev->err_interrupt > 0)
+ 		writel(0, dev->regs + MVMDIO_ERR_INT_MASK);
+ 
+-out_clk:
+ 	for (i = 0; i < ARRAY_SIZE(dev->clk); i++) {
+ 		if (IS_ERR(dev->clk[i]))
+ 			break;
+diff --git a/drivers/net/ethernet/marvell/mvneta.c b/drivers/net/ethernet/marvell/mvneta.c
+index 30a16cf..9438a2b 100644
+--- a/drivers/net/ethernet/marvell/mvneta.c
++++ b/drivers/net/ethernet/marvell/mvneta.c
+@@ -29,6 +29,7 @@
+ #include <linux/of_net.h>
+ #include <linux/phy.h>
+ #include <linux/phylink.h>
++#include <linux/phy/phy.h>
+ #include <linux/platform_device.h>
+ #include <linux/skbuff.h>
+ #include <net/hwbm.h>
+@@ -221,6 +222,8 @@
+ #define      MVNETA_GMAC_AN_FLOW_CTRL_EN         BIT(11)
+ #define      MVNETA_GMAC_CONFIG_FULL_DUPLEX      BIT(12)
+ #define      MVNETA_GMAC_AN_DUPLEX_EN            BIT(13)
++#define MVNETA_GMAC_CTRL_4                       0x2c90
++#define      MVNETA_GMAC4_SHORT_PREAMBLE_ENABLE  BIT(1)
+ #define MVNETA_MIB_COUNTERS_BASE                 0x3000
+ #define      MVNETA_MIB_LATE_COLLISION           0x7c
+ #define MVNETA_DA_FILT_SPEC_MCAST                0x3400
+@@ -295,10 +298,14 @@
+ #define MVNETA_RSS_LU_TABLE_SIZE	1
+ 
+ /* Max number of Rx descriptors */
+-#define MVNETA_MAX_RXD 512
++#define MVNETA_MAX_RXD 4096
++/* Default number of Rx descriptors */
++#define MVNETA_RXD_NUM 512
+ 
+ /* Max number of Tx descriptors */
+-#define MVNETA_MAX_TXD 1024
++#define MVNETA_MAX_TXD 4096
++/* Default number of Tx descriptors */
++#define MVNETA_TXD_NUM 1024
+ 
+ /* Max number of allowed TCP segments for software TSO */
+ #define MVNETA_MAX_TSO_SEGS 100
+@@ -333,6 +340,13 @@ enum {
+ 	ETHTOOL_MAX_STATS,
+ };
+ 
++enum mvneta_type {
++	MVNETA_TYPE_XP,
++	MVNETA_TYPE_370,
++	MVNETA_TYPE_3700,
++	MVNETA_TYPE_AC5
++};
++
+ struct mvneta_statistic {
+ 	unsigned short offset;
+ 	unsigned short type;
+@@ -436,6 +450,7 @@ struct mvneta_port {
+ 	struct device_node *dn;
+ 	unsigned int tx_csum_limit;
+ 	struct phylink *phylink;
++	struct phy *comphy;
+ 
+ 	struct mvneta_bm *bm_priv;
+ 	struct mvneta_bm_pool *pool_long;
+@@ -451,7 +466,8 @@ struct mvneta_port {
+ 	u32 indir[MVNETA_RSS_LU_TABLE_SIZE];
+ 
+ 	/* Flags for special SoC configurations */
+-	bool neta_armada3700;
++	bool musdk_port;
++	enum mvneta_type neta_type;
+ 	u16 rx_offset_correction;
+ 	const struct mbus_dram_target_info *dram_target_info;
+ };
+@@ -643,9 +659,14 @@ static int rx_header_size __read_mostly = 128;
+ /* HW BM need that each port be identify by a unique ID */
+ static int global_port_id;
+ 
++/* Branch prediction switches */
++DEFINE_STATIC_KEY_FALSE(a3700_variant);
++
+ #define MVNETA_DRIVER_NAME "mvneta"
+ #define MVNETA_DRIVER_VERSION "1.0"
+ 
++#define MVNETA_MUSDK_QUEUE_MASK		1
++
+ /* Utility/helper methods */
+ 
+ /* Write helper method */
+@@ -763,8 +784,8 @@ static void mvneta_rxq_non_occup_desc_add(struct mvneta_port *pp,
+ }
+ 
+ /* Get number of RX descriptors occupied by received packets */
+-static int mvneta_rxq_busy_desc_num_get(struct mvneta_port *pp,
+-					struct mvneta_rx_queue *rxq)
++static inline int mvneta_rxq_busy_desc_num_get(struct mvneta_port *pp,
++					       struct mvneta_rx_queue *rxq)
+ {
+ 	u32 val;
+ 
+@@ -775,9 +796,9 @@ static int mvneta_rxq_busy_desc_num_get(struct mvneta_port *pp,
+ /* Update num of rx desc called upon return from rx path or
+  * from mvneta_rxq_drop_pkts().
+  */
+-static void mvneta_rxq_desc_num_update(struct mvneta_port *pp,
+-				       struct mvneta_rx_queue *rxq,
+-				       int rx_done, int rx_filled)
++static inline void mvneta_rxq_desc_num_update(struct mvneta_port *pp,
++					      struct mvneta_rx_queue *rxq,
++					      int rx_done, int rx_filled)
+ {
+ 	u32 val;
+ 
+@@ -1048,7 +1069,7 @@ static int mvneta_bm_port_init(struct platform_device *pdev,
+ 	struct device_node *dn = pdev->dev.of_node;
+ 	u32 long_pool_id, short_pool_id;
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		int ret;
+ 
+ 		ret = mvneta_bm_port_mbus_init(pp);
+@@ -1145,21 +1166,30 @@ static void mvneta_port_up(struct mvneta_port *pp)
+ 	u32 q_map;
+ 
+ 	/* Enable all initialized TXs. */
+-	q_map = 0;
+-	for (queue = 0; queue < txq_number; queue++) {
+-		struct mvneta_tx_queue *txq = &pp->txqs[queue];
+-		if (txq->descs)
+-			q_map |= (1 << queue);
++	if (pp->musdk_port) {
++		q_map = MVNETA_MUSDK_QUEUE_MASK;
++	} else {
++		q_map = 0;
++		for (queue = 0; queue < txq_number; queue++) {
++			struct mvneta_tx_queue *txq = &pp->txqs[queue];
++
++			if (txq->descs)
++				q_map |= (1 << queue);
++		}
+ 	}
+ 	mvreg_write(pp, MVNETA_TXQ_CMD, q_map);
+ 
+-	q_map = 0;
+-	/* Enable all initialized RXQs. */
+-	for (queue = 0; queue < rxq_number; queue++) {
+-		struct mvneta_rx_queue *rxq = &pp->rxqs[queue];
++	if (pp->musdk_port) {
++		q_map = MVNETA_MUSDK_QUEUE_MASK;
++	} else {
++		q_map = 0;
++		/* Enable all initialized RXQs. */
++		for (queue = 0; queue < rxq_number; queue++) {
++			struct mvneta_rx_queue *rxq = &pp->rxqs[queue];
+ 
+-		if (rxq->descs)
+-			q_map |= (1 << queue);
++			if (rxq->descs)
++				q_map |= (1 << queue);
++		}
+ 	}
+ 	mvreg_write(pp, MVNETA_RXQ_CMD, q_map);
+ }
+@@ -1172,7 +1202,6 @@ static void mvneta_port_down(struct mvneta_port *pp)
+ 
+ 	/* Stop Rx port activity. Check port Rx activity. */
+ 	val = mvreg_read(pp, MVNETA_RXQ_CMD) & MVNETA_RXQ_ENABLE_MASK;
+-
+ 	/* Issue stop command for active channels only */
+ 	if (val != 0)
+ 		mvreg_write(pp, MVNETA_RXQ_CMD,
+@@ -1196,7 +1225,6 @@ static void mvneta_port_down(struct mvneta_port *pp)
+ 	 * command for active channels only
+ 	 */
+ 	val = (mvreg_read(pp, MVNETA_TXQ_CMD)) & MVNETA_TXQ_ENABLE_MASK;
+-
+ 	if (val != 0)
+ 		mvreg_write(pp, MVNETA_TXQ_CMD,
+ 			    (val << MVNETA_TXQ_DISABLE_SHIFT));
+@@ -1214,7 +1242,6 @@ static void mvneta_port_down(struct mvneta_port *pp)
+ 
+ 		/* Check TX Command reg that all Txqs are stopped */
+ 		val = mvreg_read(pp, MVNETA_TXQ_CMD);
+-
+ 	} while (val & MVNETA_TXQ_ENABLE_MASK);
+ 
+ 	/* Double check to verify that TX FIFO is empty */
+@@ -1386,7 +1413,7 @@ static void mvneta_defaults_set(struct mvneta_port *pp)
+ 	for_each_present_cpu(cpu) {
+ 		int rxq_map = 0, txq_map = 0;
+ 		int rxq, txq;
+-		if (!pp->neta_armada3700) {
++		if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 			for (rxq = 0; rxq < rxq_number; rxq++)
+ 				if ((rxq % max_cpu) == cpu)
+ 					rxq_map |= MVNETA_CPU_RXQ_ACCESS(rxq);
+@@ -1609,9 +1636,9 @@ static void mvneta_tx_done_pkts_coal_set(struct mvneta_port *pp,
+ }
+ 
+ /* Handle rx descriptor fill by setting buf_cookie and buf_phys_addr */
+-static void mvneta_rx_desc_fill(struct mvneta_rx_desc *rx_desc,
+-				u32 phys_addr, void *virt_addr,
+-				struct mvneta_rx_queue *rxq)
++static inline void mvneta_rx_desc_fill(struct mvneta_rx_desc *rx_desc,
++				       u32 phys_addr, void *virt_addr,
++				       struct mvneta_rx_queue *rxq)
+ {
+ 	int i;
+ 
+@@ -1813,10 +1840,10 @@ static void mvneta_txq_done(struct mvneta_port *pp,
+ 
+ /* Refill processing for SW buffer management */
+ /* Allocate page per descriptor */
+-static int mvneta_rx_refill(struct mvneta_port *pp,
+-			    struct mvneta_rx_desc *rx_desc,
+-			    struct mvneta_rx_queue *rxq,
+-			    gfp_t gfp_mask)
++static inline int mvneta_rx_refill(struct mvneta_port *pp,
++				   struct mvneta_rx_desc *rx_desc,
++				   struct mvneta_rx_queue *rxq,
++				   gfp_t gfp_mask)
+ {
+ 	dma_addr_t phys_addr;
+ 	struct page *page;
+@@ -1911,12 +1938,13 @@ int mvneta_rx_refill_queue(struct mvneta_port *pp, struct mvneta_rx_queue *rxq)
+ {
+ 	struct mvneta_rx_desc *rx_desc;
+ 	int curr_desc = rxq->first_to_refill;
+-	int i;
++	int i, err;
+ 
+ 	for (i = 0; (i < rxq->refill_num) && (i < 64); i++) {
+ 		rx_desc = rxq->descs + curr_desc;
+ 		if (!(rx_desc->buf_phys_addr)) {
+-			if (mvneta_rx_refill(pp, rx_desc, rxq, GFP_ATOMIC)) {
++			err = mvneta_rx_refill(pp, rx_desc, rxq, GFP_ATOMIC);
++			if (unlikely(err)) {
+ 				pr_err("Can't refill queue %d. Done %d from %d\n",
+ 				       rxq->id, i, rxq->refill_num);
+ 				rxq->refill_err++;
+@@ -1936,9 +1964,10 @@ static int mvneta_rx_swbm(struct napi_struct *napi,
+ 			  struct mvneta_port *pp, int budget,
+ 			  struct mvneta_rx_queue *rxq)
+ {
++	struct sk_buff *rcvd_skbs[budget];
+ 	struct net_device *dev = pp->dev;
+ 	int rx_todo, rx_proc;
+-	int refill = 0;
++	int refill = 0, i = 0;
+ 	u32 rcvd_pkts = 0;
+ 	u32 rcvd_bytes = 0;
+ 
+@@ -1969,7 +1998,7 @@ static int mvneta_rx_swbm(struct napi_struct *napi,
+ 
+ 		if (rx_status & MVNETA_RXD_FIRST_DESC) {
+ 			/* Check errors only for FIRST descriptor */
+-			if (rx_status & MVNETA_RXD_ERR_SUMMARY) {
++			if (unlikely(rx_status & MVNETA_RXD_ERR_SUMMARY)) {
+ 				mvneta_rx_error(pp, rx_desc);
+ 				/* leave the descriptor untouched */
+ 				continue;
+@@ -1994,7 +2023,10 @@ static int mvneta_rx_swbm(struct napi_struct *napi,
+ 				u64_stats_update_end(&stats->syncp);
+ 				continue;
+ 			}
+-			copy_size = min(skb_size, rx_bytes);
++			if (skb_size > rx_bytes)
++				copy_size = rx_bytes;
++			else
++				copy_size = rx_header_size;
+ 
+ 			/* Copy data from buffer to SKB, skip Marvell header */
+ 			memcpy(rxq->skb->data, data + MVNETA_MH_SIZE,
+@@ -2065,7 +2097,7 @@ static int mvneta_rx_swbm(struct napi_struct *napi,
+ 			/* no last descriptor this time */
+ 			continue;
+ 
+-		if (rxq->left_size) {
++		if (unlikely(rxq->left_size)) {
+ 			pr_err("get last desc, but left_size (%d) != 0\n",
+ 			       rxq->left_size);
+ 			dev_kfree_skb_any(rxq->skb);
+@@ -2073,23 +2105,21 @@ static int mvneta_rx_swbm(struct napi_struct *napi,
+ 			rxq->skb = NULL;
+ 			continue;
+ 		}
+-		rcvd_pkts++;
+ 		rcvd_bytes += rxq->skb->len;
++		rcvd_skbs[rcvd_pkts++] = rxq->skb;
+ 
+ 		/* Linux processing */
+ 		rxq->skb->protocol = eth_type_trans(rxq->skb, dev);
+ 
+-		if (dev->features & NETIF_F_GRO)
+-			napi_gro_receive(napi, rxq->skb);
+-		else
+-			netif_receive_skb(rxq->skb);
+-
+ 		/* clean uncomplete skb pointer in queue */
+ 		rxq->skb = NULL;
+ 		rxq->left_size = 0;
+ 	}
+ 
+-	if (rcvd_pkts) {
++	while (likely(i < rcvd_pkts))
++		napi_gro_receive(napi, rcvd_skbs[i++]);
++
++	if (likely(rcvd_pkts)) {
+ 		struct mvneta_pcpu_stats *stats = this_cpu_ptr(pp->stats);
+ 
+ 		u64_stats_update_begin(&stats->syncp);
+@@ -2162,7 +2192,7 @@ static int mvneta_rx_hwbm(struct napi_struct *napi,
+ 			if (unlikely(!skb))
+ 				goto err_drop_frame_ret_pool;
+ 
+-			dma_sync_single_range_for_cpu(&pp->bm_priv->pdev->dev,
++			dma_sync_single_range_for_cpu(dev->dev.parent,
+ 			                              rx_desc->buf_phys_addr,
+ 			                              MVNETA_MH_SIZE + NET_SKB_PAD,
+ 			                              rx_bytes,
+@@ -2419,6 +2449,9 @@ static netdev_tx_t mvneta_tx(struct sk_buff *skb, struct net_device *dev)
+ 	int frags = 0;
+ 	u32 tx_cmd;
+ 
++	if (pp->musdk_port)
++		return NETDEV_TX_OK;
++
+ 	if (!netif_running(dev))
+ 		goto out;
+ 
+@@ -2801,13 +2834,21 @@ static int mvneta_poll(struct napi_struct *napi, int budget)
+ 	/* For the case where the last mvneta_poll did not process all
+ 	 * RX packets
+ 	 */
+-	cause_rx_tx |= pp->neta_armada3700 ? pp->cause_rx_tx :
++	cause_rx_tx |= static_branch_likely(&a3700_variant) ? pp->cause_rx_tx :
+ 		port->cause_rx_tx;
+ 
+ 	rx_queue = fls(((cause_rx_tx >> 8) & 0xff));
+ 	if (rx_queue) {
+ 		rx_queue = rx_queue - 1;
++#if defined(CONFIG_ARM64)
++		/* Hardcode branch prediction for 64-bit variant,
++		 * which is a workaround for generic issues with using
++		 * static_branch array.
++		 */
++		if (unlikely(pp->bm_priv))
++#else
+ 		if (pp->bm_priv)
++#endif
+ 			rx_done = mvneta_rx_hwbm(napi, pp, budget,
+ 						 &pp->rxqs[rx_queue]);
+ 		else
+@@ -2819,7 +2860,7 @@ static int mvneta_poll(struct napi_struct *napi, int budget)
+ 		cause_rx_tx = 0;
+ 		napi_complete_done(napi, rx_done);
+ 
+-		if (pp->neta_armada3700) {
++		if (static_branch_likely(&a3700_variant)) {
+ 			unsigned long flags;
+ 
+ 			local_irq_save(flags);
+@@ -2833,7 +2874,7 @@ static int mvneta_poll(struct napi_struct *napi, int budget)
+ 		}
+ 	}
+ 
+-	if (pp->neta_armada3700)
++	if (static_branch_likely(&a3700_variant))
+ 		pp->cause_rx_tx = cause_rx_tx;
+ 	else
+ 		port->cause_rx_tx = cause_rx_tx;
+@@ -2841,6 +2882,33 @@ static int mvneta_poll(struct napi_struct *napi, int budget)
+ 	return rx_done;
+ }
+ 
++static int mvneta_poll_musdk(struct napi_struct *napi, int budget)
++{
++	struct mvneta_port *pp = netdev_priv(napi->dev);
++
++	/* Read cause register */
++	if (mvreg_read(pp, MVNETA_INTR_NEW_CAUSE) & MVNETA_MISCINTR_INTR_MASK) {
++		unsigned long flags;
++		u32 cause_misc = mvreg_read(pp, MVNETA_INTR_MISC_CAUSE);
++
++		mvreg_write(pp, MVNETA_INTR_MISC_CAUSE, 0);
++
++		if (cause_misc & (MVNETA_CAUSE_PHY_STATUS_CHANGE |
++				  MVNETA_CAUSE_LINK_CHANGE))
++			mvneta_link_change(pp);
++		local_irq_save(flags);
++		mvreg_write(pp, MVNETA_INTR_NEW_MASK,
++			    MVNETA_MISCINTR_INTR_MASK);
++		local_irq_restore(flags);
++	}
++
++	/* We always want trigger this function by interrupt.
++	 * This is why '0' is return to napi_complete and as return value
++	 */
++	napi_complete_done(napi, 0);
++	return 0;
++}
++
+ /* Handle rxq fill: allocates rxq skbs; called when initializing a port */
+ static int mvneta_rxq_fill(struct mvneta_port *pp, struct mvneta_rx_queue *rxq,
+ 			   int num)
+@@ -3135,7 +3203,6 @@ static int mvneta_setup_rxqs(struct mvneta_port *pp)
+ 		if (err) {
+ 			netdev_err(pp->dev, "%s: can't create rxq=%d\n",
+ 				   __func__, queue);
+-			mvneta_cleanup_rxqs(pp);
+ 			return err;
+ 		}
+ 	}
+@@ -3161,6 +3228,32 @@ static int mvneta_setup_txqs(struct mvneta_port *pp)
+ 	return 0;
+ }
+ 
++/* Sets the PHY mode of the COMPHY (which configures the serdes lanes).
++ *
++ * The PHY mode used by the mvneta driver comes from the network subsystem,
++ * while the one given to the COMPHY comes from the generic PHY subsystem. Hence
++ * they differ.
++ *
++ * The COMPHY configures the serdes lanes regardless of the actual use of the
++ * lanes by the physical layer. This is why configurations like
++ * "mvneta (1000BaseX) - COMPHY (SGMII)" or
++ * "mvneta (2500BaseX) - COMPHY (2500SGMII)" are valid.
++ */
++static int mvneta_comphy_init(struct mvneta_port *pp)
++{
++	int ret;
++
++	if (!pp->comphy)
++		return 0;
++
++	ret = phy_set_mode_ext(pp->comphy, PHY_MODE_ETHERNET,
++			       pp->phy_interface);
++	if (ret)
++		return ret;
++
++	return phy_power_on(pp->comphy);
++}
++
+ static void mvneta_start_dev(struct mvneta_port *pp)
+ {
+ 	int cpu;
+@@ -3168,10 +3261,12 @@ static void mvneta_start_dev(struct mvneta_port *pp)
+ 	mvneta_max_rx_size_set(pp, pp->pkt_size);
+ 	mvneta_txq_max_tx_size_set(pp, pp->pkt_size);
+ 
++	mvneta_comphy_init(pp);
++
+ 	/* start the Rx/Tx activity */
+ 	mvneta_port_enable(pp);
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		/* Enable polling on the port */
+ 		for_each_online_cpu(cpu) {
+ 			struct mvneta_pcpu_port *port =
+@@ -3200,7 +3295,7 @@ static void mvneta_stop_dev(struct mvneta_port *pp)
+ 
+ 	phylink_stop(pp->phylink);
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		for_each_online_cpu(cpu) {
+ 			struct mvneta_pcpu_port *port =
+ 				per_cpu_ptr(pp->ports, cpu);
+@@ -3227,6 +3322,9 @@ static void mvneta_stop_dev(struct mvneta_port *pp)
+ 
+ 	mvneta_tx_reset(pp);
+ 	mvneta_rx_reset(pp);
++
++	if (pp->comphy)
++		phy_power_off(pp->comphy);
+ }
+ 
+ static void mvneta_percpu_enable(void *arg)
+@@ -3249,6 +3347,11 @@ static int mvneta_change_mtu(struct net_device *dev, int mtu)
+ 	struct mvneta_port *pp = netdev_priv(dev);
+ 	int ret;
+ 
++	if (pp->musdk_port) {
++		netdev_warn(dev, "ndo_change_mtu not supported on MUSDK port\n");
++		return 0;
++	}
++
+ 	if (!IS_ALIGNED(MVNETA_RX_PKT_SIZE(mtu), 8)) {
+ 		netdev_info(dev, "Illegal MTU value %d, rounding to %d\n",
+ 			    mtu, ALIGN(MVNETA_RX_PKT_SIZE(mtu), 8));
+@@ -3358,6 +3461,7 @@ static void mvneta_validate(struct net_device *ndev, unsigned long *supported,
+ 	if (state->interface != PHY_INTERFACE_MODE_NA &&
+ 	    state->interface != PHY_INTERFACE_MODE_QSGMII &&
+ 	    state->interface != PHY_INTERFACE_MODE_SGMII &&
++	    state->interface != PHY_INTERFACE_MODE_2500BASEX &&
+ 	    !phy_interface_mode_is_8023z(state->interface) &&
+ 	    !phy_interface_mode_is_rgmii(state->interface)) {
+ 		bitmap_zero(supported, __ETHTOOL_LINK_MODE_MASK_NBITS);
+@@ -3370,9 +3474,15 @@ static void mvneta_validate(struct net_device *ndev, unsigned long *supported,
+ 
+ 	/* Asymmetric pause is unsupported */
+ 	phylink_set(mask, Pause);
+-	/* Half-duplex at speeds higher than 100Mbit is unsupported */
+-	phylink_set(mask, 1000baseT_Full);
+-	phylink_set(mask, 1000baseX_Full);
++
++	/* We cannot use 1Gbps when using the 2.5G interface. */
++	if (state->interface == PHY_INTERFACE_MODE_2500BASEX) {
++		phylink_set(mask, 2500baseT_Full);
++		phylink_set(mask, 2500baseX_Full);
++	} else {
++		phylink_set(mask, 1000baseT_Full);
++		phylink_set(mask, 1000baseX_Full);
++	}
+ 
+ 	if (!phy_interface_mode_is_8023z(state->interface)) {
+ 		/* 10M and 100M are only supported in non-802.3z mode */
+@@ -3396,7 +3506,9 @@ static int mvneta_mac_link_state(struct net_device *ndev,
+ 
+ 	gmac_stat = mvreg_read(pp, MVNETA_GMAC_STATUS);
+ 
+-	if (gmac_stat & MVNETA_GMAC_SPEED_1000)
++	if (pp->phy_interface == PHY_INTERFACE_MODE_2500BASEX)
++		state->speed = SPEED_2500;
++	else if (gmac_stat & MVNETA_GMAC_SPEED_1000)
+ 		state->speed = SPEED_1000;
+ 	else if (gmac_stat & MVNETA_GMAC_SPEED_100)
+ 		state->speed = SPEED_100;
+@@ -3419,8 +3531,11 @@ static int mvneta_mac_link_state(struct net_device *ndev,
+ static void mvneta_mac_an_restart(struct net_device *ndev)
+ {
+ 	struct mvneta_port *pp = netdev_priv(ndev);
+-	u32 gmac_an = mvreg_read(pp, MVNETA_GMAC_AUTONEG_CONFIG);
++	u32 gmac_an;
+ 
++	if (pp->phy_interface == PHY_INTERFACE_MODE_2500BASEX)
++		return;
++	gmac_an = mvreg_read(pp, MVNETA_GMAC_AUTONEG_CONFIG);
+ 	mvreg_write(pp, MVNETA_GMAC_AUTONEG_CONFIG,
+ 		    gmac_an | MVNETA_GMAC_INBAND_RESTART_AN);
+ 	mvreg_write(pp, MVNETA_GMAC_AUTONEG_CONFIG,
+@@ -3431,14 +3546,25 @@ static void mvneta_mac_config(struct net_device *ndev, unsigned int mode,
+ 	const struct phylink_link_state *state)
+ {
+ 	struct mvneta_port *pp = netdev_priv(ndev);
+-	u32 new_ctrl0, gmac_ctrl0 = mvreg_read(pp, MVNETA_GMAC_CTRL_0);
+-	u32 new_ctrl2, gmac_ctrl2 = mvreg_read(pp, MVNETA_GMAC_CTRL_2);
+-	u32 new_clk, gmac_clk = mvreg_read(pp, MVNETA_GMAC_CLOCK_DIVIDER);
+-	u32 new_an, gmac_an = mvreg_read(pp, MVNETA_GMAC_AUTONEG_CONFIG);
++	u32 new_ctrl0, gmac_ctrl0, new_ctrl2, gmac_ctrl2, new_clk, gmac_clk;
++	u32 new_an, gmac_an, gmac_ctrl4, new_ctrl4;
++
++	/* Reconfigure the serdes lanes */
++	if (pp->comphy)
++		phy_power_off(pp->comphy);
++
++	mvneta_comphy_init(pp);
++
++	gmac_ctrl0 = mvreg_read(pp, MVNETA_GMAC_CTRL_0);
++	gmac_ctrl2 = mvreg_read(pp, MVNETA_GMAC_CTRL_2);
++	gmac_ctrl4 = mvreg_read(pp, MVNETA_GMAC_CTRL_4);
++	gmac_clk = mvreg_read(pp, MVNETA_GMAC_CLOCK_DIVIDER);
++	gmac_an = mvreg_read(pp, MVNETA_GMAC_AUTONEG_CONFIG);
+ 
+ 	new_ctrl0 = gmac_ctrl0 & ~MVNETA_GMAC0_PORT_1000BASE_X;
+ 	new_ctrl2 = gmac_ctrl2 & ~(MVNETA_GMAC2_INBAND_AN_ENABLE |
+ 				   MVNETA_GMAC2_PORT_RESET);
++	new_ctrl4 = gmac_ctrl4 & ~(MVNETA_GMAC4_SHORT_PREAMBLE_ENABLE);
+ 	new_clk = gmac_clk & ~MVNETA_GMAC_1MS_CLOCK_ENABLE;
+ 	new_an = gmac_an & ~(MVNETA_GMAC_INBAND_AN_ENABLE |
+ 			     MVNETA_GMAC_INBAND_RESTART_AN |
+@@ -3458,6 +3584,7 @@ static void mvneta_mac_config(struct net_device *ndev, unsigned int mode,
+ 
+ 	if (state->interface == PHY_INTERFACE_MODE_QSGMII ||
+ 	    state->interface == PHY_INTERFACE_MODE_SGMII ||
++	    state->interface == PHY_INTERFACE_MODE_2500BASEX ||
+ 	    phy_interface_mode_is_8023z(state->interface))
+ 		new_ctrl2 |= MVNETA_GMAC2_PCS_ENABLE;
+ 
+@@ -3471,7 +3598,7 @@ static void mvneta_mac_config(struct net_device *ndev, unsigned int mode,
+ 		if (state->duplex)
+ 			new_an |= MVNETA_GMAC_CONFIG_FULL_DUPLEX;
+ 
+-		if (state->speed == SPEED_1000)
++		if (state->speed == SPEED_1000 || state->speed == SPEED_2500)
+ 			new_an |= MVNETA_GMAC_CONFIG_GMII_SPEED;
+ 		else if (state->speed == SPEED_100)
+ 			new_an |= MVNETA_GMAC_CONFIG_MII_SPEED;
+@@ -3490,11 +3617,12 @@ static void mvneta_mac_config(struct net_device *ndev, unsigned int mode,
+ 		new_clk |= MVNETA_GMAC_1MS_CLOCK_ENABLE;
+ 		new_an = (new_an & ~(MVNETA_GMAC_FORCE_LINK_DOWN |
+ 				     MVNETA_GMAC_FORCE_LINK_PASS)) |
+-			 MVNETA_GMAC_INBAND_AN_ENABLE |
+ 			 MVNETA_GMAC_CONFIG_GMII_SPEED |
+ 			 /* The MAC only supports FD mode */
+ 			 MVNETA_GMAC_CONFIG_FULL_DUPLEX;
+ 
++		if (state->interface != PHY_INTERFACE_MODE_2500BASEX)
++			new_an |= MVNETA_GMAC_INBAND_AN_ENABLE;
+ 		if (state->pause & MLO_PAUSE_AN && state->an_enabled)
+ 			new_an |= MVNETA_GMAC_AN_FLOW_CTRL_EN;
+ 	}
+@@ -3502,28 +3630,37 @@ static void mvneta_mac_config(struct net_device *ndev, unsigned int mode,
+ 	/* Armada 370 documentation says we can only change the port mode
+ 	 * and in-band enable when the link is down, so force it down
+ 	 * while making these changes. We also do this for GMAC_CTRL2 */
+-	if ((new_ctrl0 ^ gmac_ctrl0) & MVNETA_GMAC0_PORT_1000BASE_X ||
+-	    (new_ctrl2 ^ gmac_ctrl2) & MVNETA_GMAC2_INBAND_AN_ENABLE ||
+-	    (new_an  ^ gmac_an) & MVNETA_GMAC_INBAND_AN_ENABLE) {
+-		mvreg_write(pp, MVNETA_GMAC_AUTONEG_CONFIG,
+-			    (gmac_an & ~MVNETA_GMAC_FORCE_LINK_PASS) |
+-			    MVNETA_GMAC_FORCE_LINK_DOWN);
++	/* Also set the GMAC in a reset to clear port on new link-up */
++	if ((new_ctrl0 ^ gmac_ctrl0) || (new_ctrl2 ^ gmac_ctrl2) ||
++	    (new_an  ^ gmac_an)) {
++		gmac_an &= ~MVNETA_GMAC_FORCE_LINK_PASS;
++		gmac_an |= MVNETA_GMAC_FORCE_LINK_DOWN;
++		mvreg_write(pp, MVNETA_GMAC_AUTONEG_CONFIG, gmac_an);
++
++		if (state->interface == PHY_INTERFACE_MODE_2500BASEX) {
++			gmac_ctrl2 |= MVNETA_GMAC2_PORT_RESET;
++			mvreg_write(pp, MVNETA_GMAC_CTRL_2, gmac_ctrl2);
++		}
+ 	}
+ 
++	/* When at 2.5G, the link partner can send frames with shortened
++	 * preambles.
++	 */
++	if (state->speed == SPEED_2500)
++		new_ctrl4 |= MVNETA_GMAC4_SHORT_PREAMBLE_ENABLE;
++
+ 	if (new_ctrl0 != gmac_ctrl0)
+ 		mvreg_write(pp, MVNETA_GMAC_CTRL_0, new_ctrl0);
+ 	if (new_ctrl2 != gmac_ctrl2)
+ 		mvreg_write(pp, MVNETA_GMAC_CTRL_2, new_ctrl2);
++	while (mvreg_read(pp, MVNETA_GMAC_CTRL_2) & MVNETA_GMAC2_PORT_RESET)
++		continue;
++	if (new_ctrl4 != gmac_ctrl4)
++		mvreg_write(pp, MVNETA_GMAC_CTRL_4, new_ctrl4);
+ 	if (new_clk != gmac_clk)
+ 		mvreg_write(pp, MVNETA_GMAC_CLOCK_DIVIDER, new_clk);
+ 	if (new_an != gmac_an)
+ 		mvreg_write(pp, MVNETA_GMAC_AUTONEG_CONFIG, new_an);
+-
+-	if (gmac_ctrl2 & MVNETA_GMAC2_PORT_RESET) {
+-		while ((mvreg_read(pp, MVNETA_GMAC_CTRL_2) &
+-			MVNETA_GMAC2_PORT_RESET) != 0)
+-			continue;
+-	}
+ }
+ 
+ static void mvneta_set_eee(struct mvneta_port *pp, bool enable)
+@@ -3763,6 +3900,38 @@ static int mvneta_open(struct net_device *dev)
+ 	struct mvneta_port *pp = netdev_priv(dev);
+ 	int ret;
+ 
++	if (pp->musdk_port) {
++		/* Connect to port interrupt line */
++		ret = request_irq(pp->dev->irq, mvneta_isr, 0,
++				  dev->name, pp);
++		if (ret) {
++			netdev_err(pp->dev, "cannot request irq %d\n",
++				   pp->dev->irq);
++			return ret;
++		}
++
++		ret = mvneta_mdio_probe(pp);
++		if (ret < 0) {
++			netdev_err(dev, "cannot probe MDIO bus\n");
++			free_irq(pp->dev->irq, pp);
++			return ret;
++		}
++
++		/* Only mask phy-status and link-state interrupts */
++		mvreg_write(pp, MVNETA_INTR_NEW_MASK,
++			    MVNETA_MISCINTR_INTR_MASK);
++
++		mvreg_write(pp, MVNETA_INTR_MISC_MASK,
++			    MVNETA_CAUSE_PHY_STATUS_CHANGE |
++			    MVNETA_CAUSE_LINK_CHANGE);
++
++		napi_enable(&pp->napi);
++
++		phylink_start(pp->phylink);
++		netdev_info(dev, "skipping ndo_open as this port is User Space port\n");
++		return 0;
++	}
++
+ 	pp->pkt_size = MVNETA_RX_PKT_SIZE(pp->dev->mtu);
+ 
+ 	ret = mvneta_setup_rxqs(pp);
+@@ -3774,7 +3943,7 @@ static int mvneta_open(struct net_device *dev)
+ 		goto err_cleanup_rxqs;
+ 
+ 	/* Connect to port interrupt line */
+-	if (pp->neta_armada3700)
++	if ((pp->neta_type == MVNETA_TYPE_3700) || (pp->neta_type == MVNETA_TYPE_AC5))
+ 		ret = request_irq(pp->dev->irq, mvneta_isr, 0,
+ 				  dev->name, pp);
+ 	else
+@@ -3785,7 +3954,7 @@ static int mvneta_open(struct net_device *dev)
+ 		goto err_cleanup_txqs;
+ 	}
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		/* Enable per-CPU interrupt on all the CPU to handle our RX
+ 		 * queue interrupts
+ 		 */
+@@ -3806,9 +3975,6 @@ static int mvneta_open(struct net_device *dev)
+ 			goto err_free_online_hp;
+ 	}
+ 
+-	/* In default link is down */
+-	netif_carrier_off(pp->dev);
+-
+ 	ret = mvneta_mdio_probe(pp);
+ 	if (ret < 0) {
+ 		netdev_err(dev, "cannot probe MDIO bus\n");
+@@ -3820,15 +3986,15 @@ static int mvneta_open(struct net_device *dev)
+ 	return 0;
+ 
+ err_free_dead_hp:
+-	if (!pp->neta_armada3700)
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5))
+ 		cpuhp_state_remove_instance_nocalls(CPUHP_NET_MVNETA_DEAD,
+ 						    &pp->node_dead);
+ err_free_online_hp:
+-	if (!pp->neta_armada3700)
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5))
+ 		cpuhp_state_remove_instance_nocalls(online_hpstate,
+ 						    &pp->node_online);
+ err_free_irq:
+-	if (pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		free_irq(pp->dev->irq, pp);
+ 	} else {
+ 		on_each_cpu(mvneta_percpu_disable, pp, true);
+@@ -3846,7 +4012,12 @@ static int mvneta_stop(struct net_device *dev)
+ {
+ 	struct mvneta_port *pp = netdev_priv(dev);
+ 
+-	if (!pp->neta_armada3700) {
++	if (pp->musdk_port) {
++		netdev_warn(dev, "ndo_stop not supported on MUSDK port\n");
++		return 0;
++	}
++
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		/* Inform that we are stopping so we don't want to setup the
+ 		 * driver for new CPUs in the notifiers. The code of the
+ 		 * notifier for CPU online is protected by the same spinlock,
+@@ -3893,6 +4064,19 @@ mvneta_ethtool_set_link_ksettings(struct net_device *ndev,
+ {
+ 	struct mvneta_port *pp = netdev_priv(ndev);
+ 
++	if (!pp->phylink)
++		return -1;
++
++	phylink_stop(pp->phylink);
++
++	if (cmd->base.speed == 1000)
++		pp->phy_interface = PHY_INTERFACE_MODE_SGMII;
++
++	if (cmd->base.speed == 2500)
++		pp->phy_interface = PHY_INTERFACE_MODE_2500BASEX;
++
++	phylink_start(pp->phylink);
++
+ 	return phylink_ethtool_ksettings_set(pp->phylink, cmd);
+ }
+ 
+@@ -4120,7 +4304,7 @@ static int  mvneta_config_rss(struct mvneta_port *pp)
+ 
+ 	on_each_cpu(mvneta_percpu_mask_interrupt, pp, true);
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		/* We have to synchronise on the napi of each CPU */
+ 		for_each_online_cpu(cpu) {
+ 			struct mvneta_pcpu_port *pcpu_port =
+@@ -4148,7 +4332,7 @@ static int  mvneta_config_rss(struct mvneta_port *pp)
+ 	mvneta_percpu_elect(pp);
+ 	spin_unlock(&pp->lock);
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		/* We have to synchronise on the napi of each CPU */
+ 		for_each_online_cpu(cpu) {
+ 			struct mvneta_pcpu_port *pcpu_port =
+@@ -4171,7 +4355,7 @@ static int mvneta_ethtool_set_rxfh(struct net_device *dev, const u32 *indir,
+ 	struct mvneta_port *pp = netdev_priv(dev);
+ 
+ 	/* Current code for Armada 3700 doesn't support RSS features yet */
+-	if (pp->neta_armada3700)
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5))
+ 		return -EOPNOTSUPP;
+ 
+ 	/* We require at least one supported parameter to be changed
+@@ -4195,7 +4379,7 @@ static int mvneta_ethtool_get_rxfh(struct net_device *dev, u32 *indir, u8 *key,
+ 	struct mvneta_port *pp = netdev_priv(dev);
+ 
+ 	/* Current code for Armada 3700 doesn't support RSS features yet */
+-	if (pp->neta_armada3700)
++	if ((pp->neta_type == MVNETA_TYPE_3700) || (pp->neta_type == MVNETA_TYPE_AC5))
+ 		return -EOPNOTSUPP;
+ 
+ 	if (hfunc)
+@@ -4254,8 +4438,7 @@ static int mvneta_ethtool_set_eee(struct net_device *dev,
+ 
+ 	/* The Armada 37x documents do not give limits for this other than
+ 	 * it being an 8-bit register. */
+-	if (eee->tx_lpi_enabled &&
+-	    (eee->tx_lpi_timer < 0 || eee->tx_lpi_timer > 255))
++	if (eee->tx_lpi_enabled && eee->tx_lpi_timer > 255)
+ 		return -EINVAL;
+ 
+ 	lpi_ctl0 = mvreg_read(pp, MVNETA_LPI_CTRL_0);
+@@ -4344,7 +4527,7 @@ static int mvneta_init(struct device *dev, struct mvneta_port *pp)
+ 		rxq->time_coal = MVNETA_RX_COAL_USEC;
+ 		rxq->buf_virt_addr
+ 			= devm_kmalloc_array(pp->dev->dev.parent,
+-					     rxq->size,
++					     MVNETA_MAX_RXD,
+ 					     sizeof(*rxq->buf_virt_addr),
+ 					     GFP_KERNEL);
+ 		if (!rxq->buf_virt_addr)
+@@ -4411,7 +4594,8 @@ static int mvneta_port_power_up(struct mvneta_port *pp, int phy_mode)
+ 	if (phy_mode == PHY_INTERFACE_MODE_QSGMII)
+ 		mvreg_write(pp, MVNETA_SERDES_CFG, MVNETA_QSGMII_SERDES_PROTO);
+ 	else if (phy_mode == PHY_INTERFACE_MODE_SGMII ||
+-		 phy_mode == PHY_INTERFACE_MODE_1000BASEX)
++		 phy_mode == PHY_INTERFACE_MODE_1000BASEX ||
++		 phy_mode == PHY_INTERFACE_MODE_2500BASEX)
+ 		mvreg_write(pp, MVNETA_SERDES_CFG, MVNETA_SGMII_SERDES_PROTO);
+ 	else if (!phy_interface_mode_is_rgmii(phy_mode))
+ 		return -EINVAL;
+@@ -4422,6 +4606,7 @@ static int mvneta_port_power_up(struct mvneta_port *pp, int phy_mode)
+ /* Device initialization routine */
+ static int mvneta_probe(struct platform_device *pdev)
+ {
++	struct phy *comphy = NULL;
+ 	struct resource *res;
+ 	struct device_node *dn = pdev->dev.of_node;
+ 	struct device_node *bm_node;
+@@ -4435,6 +4620,8 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	int phy_mode;
+ 	int err;
+ 	int cpu;
++	const char *musdk_status;
++	int statlen;
+ 
+ 	dev = alloc_etherdev_mqs(sizeof(struct mvneta_port), txq_number, rxq_number);
+ 	if (!dev)
+@@ -4453,6 +4640,15 @@ static int mvneta_probe(struct platform_device *pdev)
+ 		goto err_free_irq;
+ 	}
+ 
++	comphy = devm_of_phy_get(&pdev->dev, dn, NULL);
++	if (IS_ERR(comphy)) {
++		if (PTR_ERR(comphy) == -EPROBE_DEFER) {
++			err = -EPROBE_DEFER;
++			goto err_free_irq;
++		}
++		comphy = NULL;
++	}
++
+ 	phylink = phylink_create(dev, pdev->dev.fwnode, phy_mode,
+ 				 &mvneta_phylink_ops);
+ 	if (IS_ERR(phylink)) {
+@@ -4460,7 +4656,7 @@ static int mvneta_probe(struct platform_device *pdev)
+ 		goto err_free_irq;
+ 	}
+ 
+-	dev->tx_queue_len = MVNETA_MAX_TXD;
++	dev->tx_queue_len = MVNETA_TXD_NUM;
+ 	dev->watchdog_timeo = 5 * HZ;
+ 	dev->netdev_ops = &mvneta_netdev_ops;
+ 
+@@ -4470,14 +4666,22 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	spin_lock_init(&pp->lock);
+ 	pp->phylink = phylink;
+ 	pp->phy_interface = phy_mode;
++	pp->comphy = comphy;
+ 	pp->dn = dn;
+ 
+ 	pp->rxq_def = rxq_def;
+ 	pp->indir[0] = rxq_def;
+ 
+ 	/* Get special SoC configurations */
+-	if (of_device_is_compatible(dn, "marvell,armada-3700-neta"))
+-		pp->neta_armada3700 = true;
++	if (of_device_is_compatible(dn, "marvell,armada-3700-neta")) {
++		pp->neta_type = MVNETA_TYPE_3700;
++		static_branch_enable(&a3700_variant);
++	} else if (of_device_is_compatible(dn, "marvell,armada-ac5-neta")) {
++		pp->neta_type = MVNETA_TYPE_AC5;
++		static_branch_enable(&a3700_variant);
++	} else {
++		pp->neta_type = MVNETA_TYPE_XP;
++	}
+ 
+ 	pp->clk = devm_clk_get(&pdev->dev, "core");
+ 	if (IS_ERR(pp->clk))
+@@ -4500,6 +4704,13 @@ static int mvneta_probe(struct platform_device *pdev)
+ 		goto err_clk;
+ 	}
+ 
++	/* check MUSDK port status */
++	musdk_status = of_get_property(dn, "musdk-status", &statlen);
++
++	/* Set musdk_flag, only if status is "private" */
++	if (musdk_status && !strcmp(musdk_status, "private"))
++		pp->musdk_port = true;
++
+ 	/* Alloc per-cpu port structure */
+ 	pp->ports = alloc_percpu(struct mvneta_pcpu_port);
+ 	if (!pp->ports) {
+@@ -4544,17 +4755,16 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	}
+ 
+ 	pp->tx_csum_limit = tx_csum_limit;
+-
+ 	pp->dram_target_info = mv_mbus_dram_info();
+ 	/* Armada3700 requires setting default configuration of Mbus
+ 	 * windows, however without using filled mbus_dram_target_info
+ 	 * structure.
+ 	 */
+-	if (pp->dram_target_info || pp->neta_armada3700)
++	if (pp->dram_target_info || (pp->neta_type == MVNETA_TYPE_3700))
+ 		mvneta_conf_mbus_windows(pp, pp->dram_target_info);
+ 
+-	pp->tx_ring_size = MVNETA_MAX_TXD;
+-	pp->rx_ring_size = MVNETA_MAX_RXD;
++	pp->tx_ring_size = MVNETA_TXD_NUM;
++	pp->rx_ring_size = MVNETA_RXD_NUM;
+ 
+ 	pp->dev = dev;
+ 	SET_NETDEV_DEV(dev, &pdev->dev);
+@@ -4598,8 +4808,13 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	/* Armada3700 network controller does not support per-cpu
+ 	 * operation, so only single NAPI should be initialized.
+ 	 */
+-	if (pp->neta_armada3700) {
+-		netif_napi_add(dev, &pp->napi, mvneta_poll, NAPI_POLL_WEIGHT);
++	if ((pp->neta_type == MVNETA_TYPE_3700) || (pp->neta_type == MVNETA_TYPE_AC5)) {
++		if (pp->musdk_port)
++			netif_napi_add(dev, &pp->napi, mvneta_poll_musdk,
++				       NAPI_POLL_WEIGHT);
++		else
++			netif_napi_add(dev, &pp->napi, mvneta_poll,
++				       NAPI_POLL_WEIGHT);
+ 	} else {
+ 		for_each_present_cpu(cpu) {
+ 			struct mvneta_pcpu_port *port =
+@@ -4611,7 +4826,8 @@ static int mvneta_probe(struct platform_device *pdev)
+ 		}
+ 	}
+ 
+-	dev->features = NETIF_F_SG | NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM | NETIF_F_TSO;
++	dev->features = NETIF_F_SG | NETIF_F_IP_CSUM | NETIF_F_IPV6_CSUM |
++			NETIF_F_TSO | NETIF_F_RXCSUM;
+ 	dev->hw_features |= dev->features;
+ 	dev->vlan_features |= dev->features;
+ 	dev->priv_flags |= IFF_LIVE_ADDR_CHANGE;
+@@ -4625,7 +4841,7 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	err = register_netdev(dev);
+ 	if (err < 0) {
+ 		dev_err(&pdev->dev, "failed to register\n");
+-		goto err_netdev;
++		goto err_free_stats;
+ 	}
+ 
+ 	netdev_info(dev, "Using %s mac address %pM\n", mac_from,
+@@ -4633,15 +4849,35 @@ static int mvneta_probe(struct platform_device *pdev)
+ 
+ 	platform_set_drvdata(pdev, pp->dev);
+ 
++	/* Port may be configured by Uboot to transmit IDLE, so a remote side
++	 * feels the link as UP. Stop TX in same way as in mvneta_start/stop.
++	 */
++	if (pp->phylink) {
++		if (rtnl_is_locked()) {
++			if (!mvneta_mdio_probe(pp))
++				mvneta_mdio_remove(pp);
++		} else {
++			rtnl_lock();
++			if (!mvneta_mdio_probe(pp))
++				mvneta_mdio_remove(pp);
++			rtnl_unlock();
++		}
++	}
++
++	if (pp->musdk_port)
++		netdev_info(dev, "Port belong to User Space (MUSDK)\n");
++
+ 	return 0;
+ 
+ err_netdev:
++	unregister_netdev(dev);
+ 	if (pp->bm_priv) {
+ 		mvneta_bm_pool_destroy(pp->bm_priv, pp->pool_long, 1 << pp->id);
+ 		mvneta_bm_pool_destroy(pp->bm_priv, pp->pool_short,
+ 				       1 << pp->id);
+ 		mvneta_bm_put(pp->bm_priv);
+ 	}
++err_free_stats:
+ 	free_percpu(pp->stats);
+ err_free_ports:
+ 	free_percpu(pp->ports);
+@@ -4693,7 +4929,7 @@ static int mvneta_suspend(struct device *device)
+ 	if (!netif_running(dev))
+ 		goto clean_exit;
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		spin_lock(&pp->lock);
+ 		pp->is_stopped = true;
+ 		spin_unlock(&pp->lock);
+@@ -4738,7 +4974,7 @@ static int mvneta_resume(struct device *device)
+ 	clk_prepare_enable(pp->clk);
+ 	if (!IS_ERR(pp->clk_bus))
+ 		clk_prepare_enable(pp->clk_bus);
+-	if (pp->dram_target_info || pp->neta_armada3700)
++	if (pp->dram_target_info || (pp->neta_type == MVNETA_TYPE_3700))
+ 		mvneta_conf_mbus_windows(pp, pp->dram_target_info);
+ 	if (pp->bm_priv) {
+ 		err = mvneta_bm_port_init(pdev, pp);
+@@ -4773,7 +5009,7 @@ static int mvneta_resume(struct device *device)
+ 		mvneta_txq_hw_init(pp, txq);
+ 	}
+ 
+-	if (!pp->neta_armada3700) {
++	if ((pp->neta_type != MVNETA_TYPE_3700) && (pp->neta_type != MVNETA_TYPE_AC5)) {
+ 		spin_lock(&pp->lock);
+ 		pp->is_stopped = false;
+ 		spin_unlock(&pp->lock);
+@@ -4798,6 +5034,7 @@ static const struct of_device_id mvneta_match[] = {
+ 	{ .compatible = "marvell,armada-370-neta" },
+ 	{ .compatible = "marvell,armada-xp-neta" },
+ 	{ .compatible = "marvell,armada-3700-neta" },
++	{ .compatible = "marvell,armada-ac5-neta" },
+ 	{ }
+ };
+ MODULE_DEVICE_TABLE(of, mvneta_match);
diff --git a/patch/0125-rd-ac5x-mvneta-xbar_window.patch b/patch/0125-rd-ac5x-mvneta-xbar_window.patch
index e69de29..d7730bc 100644
--- a/patch/0125-rd-ac5x-mvneta-xbar_window.patch
+++ b/patch/0125-rd-ac5x-mvneta-xbar_window.patch
@@ -0,0 +1,71 @@
+From 8055e14ce9e73ee5af9930bb257886f4bd34c7d4 Mon Sep 17 00:00:00 2001
+From: Yuval Shaia <yshaia@marvell.com>
+Date: Sun, 19 Sep 2021 21:20:25 +0300
+Subject: [PATCH] net/mvneta: Setup xbar windows for AC5
+
+Jira CPSS-11541
+
+Change-Id: I6d5de6c684986f5980bd029f9ecd0578c204fbf3
+Signed-off-by: Yuval Shaia <yshaia@marvell.com>
+Reviewed-on: http://vgitil10.il.marvell.com:8080/c/NPS/linux/+/95914
+Tested-by: Raz Adashi <raza@marvell.com>
+Reviewed-by: Raz Adashi <raza@marvell.com>
+---
+ drivers/net/ethernet/marvell/mvneta.c | 27 +++++++++++++++++++++++++++
+ 1 file changed, 27 insertions(+)
+
+diff --git a/drivers/net/ethernet/marvell/mvneta.c b/drivers/net/ethernet/marvell/mvneta.c
+index bf020d7..9d7c9db 100644
+--- a/drivers/net/ethernet/marvell/mvneta.c
++++ b/drivers/net/ethernet/marvell/mvneta.c
+@@ -73,6 +73,8 @@
+ #define MVNETA_WIN_SIZE(w)                      (0x2204 + ((w) << 3))
+ #define MVNETA_WIN_REMAP(w)                     (0x2280 + ((w) << 2))
+ #define MVNETA_BASE_ADDR_ENABLE                 0x2290
++#define      MVNETA_AC5_CNM_DDR_TARGET		0x2
++#define      MVNETA_AC5_CNM_DDR_ATTR		0xb
+ #define MVNETA_ACCESS_PROTECT_ENABLE            0x2294
+ #define MVNETA_PORT_CONFIG                      0x2400
+ #define      MVNETA_UNI_PROMISC_MODE            BIT(0)
+@@ -4571,6 +4573,29 @@ static void mvneta_conf_mbus_windows(struct mvneta_port *pp,
+ 	mvreg_write(pp, MVNETA_ACCESS_PROTECT_ENABLE, win_protect);
+ }
+ 
++static void mvneta_conf_ac5_cnm_xbar_windows(struct mvneta_port *pp)
++{
++	int i;
++
++	/* Clear all windows */
++	for (i = 0; i < 6; i++) {
++		mvreg_write(pp, MVNETA_WIN_BASE(i), 0);
++		mvreg_write(pp, MVNETA_WIN_SIZE(i), 0);
++
++		if (i < 4)
++			mvreg_write(pp, MVNETA_WIN_REMAP(i), 0);
++	}
++
++	/*
++	 * Setup window #0 base 0x0 to target XBAR port 2 (AMB2), attribute 0xb,
++	 * size 4GB AMB2 address decoder remaps 0x0 to DDR 64 bit base address
++	 */
++	mvreg_write(pp, MVNETA_WIN_BASE(0), (MVNETA_AC5_CNM_DDR_ATTR << 8) |
++		    MVNETA_AC5_CNM_DDR_TARGET);
++	mvreg_write(pp, MVNETA_WIN_SIZE(0),0xffff0000);
++	mvreg_write(pp, MVNETA_BASE_ADDR_ENABLE, 0x3e);
++}
++
+ /* Power up the port */
+ static int mvneta_port_power_up(struct mvneta_port *pp, int phy_mode)
+ {
+@@ -4748,6 +4773,8 @@ static int mvneta_probe(struct platform_device *pdev)
+ 	 */
+ 	if (pp->dram_target_info || (pp->neta_type == MVNETA_TYPE_3700))
+ 		mvneta_conf_mbus_windows(pp, pp->dram_target_info);
++	if (pp->neta_type == MVNETA_TYPE_AC5)
++		mvneta_conf_ac5_cnm_xbar_windows(pp);
+ 
+ 	pp->tx_ring_size = MVNETA_TXD_NUM;
+ 	pp->rx_ring_size = MVNETA_RXD_NUM;
+-- 
+1.8.1.4
+
diff --git a/patch/0126-rd-ac5x-watchdog-support.patch b/patch/0126-rd-ac5x-watchdog-support.patch
index e69de29..5ee4798 100644
--- a/patch/0126-rd-ac5x-watchdog-support.patch
+++ b/patch/0126-rd-ac5x-watchdog-support.patch
@@ -0,0 +1,563 @@
+From 890e324a5b20c7b86bf4372f298d67698ff328e9 Mon Sep 17 00:00:00 2001
+From: Pavan Naregundi <pnaregundi@marvell.com>
+Date: Mon, 14 Feb 2022 15:14:23 +0530
+Subject: [PATCH] AC5X: watchdog support
+
+---
+ arch/arm64/boot/dts/marvell/ac5.dtsi        |  14 +-
+ debian/build/build_arm64_none_arm64/.config |   3 +-
+ drivers/watchdog/Kconfig                    |  16 +
+ drivers/watchdog/Makefile                   |   1 +
+ drivers/watchdog/ac5_gwd.c                  | 438 ++++++++++++++++++++++++++++
+ 5 files changed, 469 insertions(+), 3 deletions(-)
+ create mode 100644 drivers/watchdog/ac5_gwd.c
+
+diff --git a/arch/arm64/boot/dts/marvell/ac5.dtsi b/arch/arm64/boot/dts/marvell/ac5.dtsi
+index eeb10ac..dd85ff9 100644
+--- a/arch/arm64/boot/dts/marvell/ac5.dtsi
++++ b/arch/arm64/boot/dts/marvell/ac5.dtsi
+@@ -31,11 +31,11 @@
+ 			no-map;
+ 
+ 			/* Base addr (first 2 cells) requires alignment, we choose start of memory */
+-			reg = <0x2 0x0 0x0 0x400000>;
++			reg = <0x2 0x400000 0x0 0x400000>;
+ 		};
+ 	};
+ 
+-	mvDma {
++	mv_dma {
+ 		compatible = "marvell,mv_dma";
+ 		memory-region = <&prestera_rsvd>;
+ 		status = "okay";
+@@ -45,6 +45,8 @@
+ 		serial0 = &uart0;
+ 		spiflash0 = &spiflash0;
+ 		gpio0 = &gpio0;
++		ethernet0 = &eth0;
++		ethernet1 = &eth1;
+ 	};
+ 
+ 	psci {
+@@ -358,6 +360,14 @@
+ 			status = "okay";
+ 		};
+ 
++		watchdog@80216000 {
++			compatible = "marvell,ac5-wd";
++			reg = <0x0 0x80216000 0 0x1000>,
++				  <0x0 0x80215000 0 0x1000>;
++			interrupts = <GIC_SPI 124 IRQ_TYPE_LEVEL_HIGH>;
++			timeout-sec = <30>;
++		};
++
+ 	};
+ 
+ 	gic: interrupt-controller@80600000 {
+diff --git a/debian/build/build_arm64_none_arm64/.config b/debian/build/build_arm64_none_arm64/.config
+index 5e81b7a..f5d381e 100644
+--- a/debian/build/build_arm64_none_arm64/.config
++++ b/debian/build/build_arm64_none_arm64/.config
+@@ -3845,6 +3845,7 @@ CONFIG_WDAT_WDT=m
+ # CONFIG_ZIIRAVE_WATCHDOG is not set
+ CONFIG_ARM_SP805_WATCHDOG=m
+ CONFIG_ARM_SBSA_WATCHDOG=m
++CONFIG_MARVELL_AC5_WATCHDOG=m
+ # CONFIG_CADENCE_WATCHDOG is not set
+ CONFIG_DW_WATCHDOG=m
+ CONFIG_SUNXI_WATCHDOG=m
+@@ -4872,7 +4873,7 @@ CONFIG_USB_HIDDEV=y
+ CONFIG_I2C_HID=m
+ CONFIG_USB_OHCI_LITTLE_ENDIAN=y
+ CONFIG_USB_SUPPORT=y
+-CONFIG_USB_COMMON=m
++CONFIG_USB_COMMON=y
+ CONFIG_USB_ARCH_HAS_HCD=y
+ CONFIG_USB=m
+ CONFIG_USB_PCI=y
+diff --git a/drivers/watchdog/Kconfig b/drivers/watchdog/Kconfig
+index da31a4b..f40fa9b 100644
+--- a/drivers/watchdog/Kconfig
++++ b/drivers/watchdog/Kconfig
+@@ -289,6 +289,22 @@ config ARM_SBSA_WATCHDOG
+ 	  To compile this driver as module, choose M here: The module
+ 	  will be called sbsa_gwdt.
+ 
++config MARVELL_AC5_WATCHDOG
++       tristate "Marvell AlleyCat 5 Watchdog"
++       depends on ARM64
++       depends on ARM_ARCH_TIMER
++       select WATCHDOG_CORE
++       help
++         AC5 Watchdog has two stage timeouts:
++         the first signal (WS0) is for alerting the system by interrupt,
++         the second one (WS1) is a real hardware reset.
++
++         This driver can operate as a single stage or a two stages watchdog,
++         depends on the module parameter "action" (moudle name is ac5-gwd).
++
++         Note: the maximum timeout in the two stages mode is half of that in
++         the single stage mode.
++
+ config ASM9260_WATCHDOG
+ 	tristate "Alphascale ASM9260 watchdog"
+ 	depends on MACH_ASM9260 || COMPILE_TEST
+diff --git a/drivers/watchdog/Makefile b/drivers/watchdog/Makefile
+index 42709be..fee21ea 100644
+--- a/drivers/watchdog/Makefile
++++ b/drivers/watchdog/Makefile
+@@ -38,6 +38,7 @@ obj-$(CONFIG_USBPCWATCHDOG) += pcwd_usb.o
+ # ARM Architecture
+ obj-$(CONFIG_ARM_SP805_WATCHDOG) += sp805_wdt.o
+ obj-$(CONFIG_ARM_SBSA_WATCHDOG) += sbsa_gwdt.o
++obj-$(CONFIG_MARVELL_AC5_WATCHDOG) += ac5_gwd.o
+ obj-$(CONFIG_ASM9260_WATCHDOG) += asm9260_wdt.o
+ obj-$(CONFIG_AT91RM9200_WATCHDOG) += at91rm9200_wdt.o
+ obj-$(CONFIG_AT91SAM9X_WATCHDOG) += at91sam9_wdt.o
+diff --git a/drivers/watchdog/ac5_gwd.c b/drivers/watchdog/ac5_gwd.c
+new file mode 100644
+index 0000000..82d52ca
+--- /dev/null
++++ b/drivers/watchdog/ac5_gwd.c
+@@ -0,0 +1,438 @@
++/*
++ * AC5 Watchdog driver
++ *
++ * Copyright (c) 2015, Linaro Ltd.
++ * Author: Fu Wei <fu.wei@linaro.org>
++ *         Suravee Suthikulpanit <Suravee.Suthikulpanit@amd.com>
++ *         Al Stone <al.stone@linaro.org>
++ *         Timur Tabi <timur@codeaurora.org>
++ *
++ * This program is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License 2 as published
++ * by the Free Software Foundation.
++ *
++ * This program is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ *
++ * AC5 Watchdog has two stage timeouts:
++ * the first signal (WS0) is for alerting the system by interrupt,
++ * the second one (WS1) is a real hardware reset.
++ * More details about the hardware specification of this device:
++ * ARM DEN0029B - Server Base System Architecture (SBSA)
++ *
++ * This driver can operate as a single stage watchdog
++ * or a two stages watchdog, it's set up by the module parameter "action".
++ * In the single stage mode, when the timeout is reached, your system
++ * will be reset by WS1. The first signal (WS0) is ignored.
++ * In the two stages mode, when the timeout is reached, the first signal (WS0)
++ * will trigger panic. If the system is getting into trouble and cannot be reset
++ * by panic or restart properly by the kdump kernel(if supported), then the
++ * second stage (as long as the first stage) will be reached, system will be
++ * reset by WS1. This function can help administrator to backup the system
++ * context info by panic console output or kdump.
++ *
++ * SBSA GWDT:
++ * if action is 1 (the two stages mode):
++ * |--------WOR-------WS0--------WOR-------WS1
++ * |----timeout-----(panic)----timeout-----reset
++ *
++ * if action is 0 (the single stage mode):
++ * |------WOR-----WS0(ignored)-----WOR------WS1
++ * |--------------timeout-------------------reset
++ *
++ * Note: Since this watchdog timer has two stages, and each stage is determined
++ * by WOR, in the single stage mode, the timeout is (WOR * 2); in the two
++ * stages mode, the timeout is WOR. The maximum timeout in the two stages mode
++ * is half of that in the single stage mode.
++ *
++ */
++
++#include <linux/io.h>
++#include <linux/io-64-nonatomic-lo-hi.h>
++#include <linux/interrupt.h>
++#include <linux/module.h>
++#include <linux/moduleparam.h>
++#include <linux/of.h>
++#include <linux/of_device.h>
++#include <linux/platform_device.h>
++#include <linux/uaccess.h>
++#include <linux/watchdog.h>
++#include <asm/arch_timer.h>
++#include <linux/arm-smccc.h>
++
++/* AC5 SMCs, taken from ATF include/services/arm_arch_svc.h */
++#define SMC_FID_READ_REG	0x80007FFE
++#define SMC_FID_WRITE_REG	0x80007FFD
++
++#define DRV_NAME		"ac5-gwd"
++#define WATCHDOG_NAME	"AC5 Watchdog"
++
++/* SBSA Generic Watchdog register definitions */
++/* refresh frame */
++#define SBSA_GWDT_WRR		0x000
++
++/* control frame */
++#define SBSA_GWDT_WCS		0x000
++#define SBSA_GWDT_WOR		0x008
++#define SBSA_GWDT_WCV		0x010
++
++/* refresh/control frame */
++#define SBSA_GWDT_W_IIDR	0xfcc
++#define SBSA_GWDT_IDR		0xfd0
++
++/* Watchdog Control and Status Register */
++#define SBSA_GWDT_WCS_EN	BIT(0)
++#define SBSA_GWDT_WCS_WS0	BIT(1)
++#define SBSA_GWDT_WCS_WS1	BIT(2)
++
++/**
++ * struct sbsa_gwdt - Internal representation of the SBSA GWDT
++ * @wdd:		kernel watchdog_device structure
++ * @clk:		store the System Counter clock frequency, in Hz.
++ * @refresh_base:	Virtual address of the watchdog refresh frame
++ * @control_base:	Virtual address of the watchdog control frame
++ */
++struct sbsa_gwdt {
++	struct watchdog_device	wdd;
++	u32		clk;
++	u32		refresh_base;
++	u32 	control_base;
++};
++
++#define DEFAULT_TIMEOUT		10 /* seconds */
++
++static unsigned int timeout;
++module_param(timeout, uint, 0);
++MODULE_PARM_DESC(timeout,
++		 "Watchdog timeout in seconds. (>=0, default="
++		 __MODULE_STRING(DEFAULT_TIMEOUT) ")");
++
++/*
++ * action refers to action taken when watchdog gets WS0
++ * 0 = skip
++ * 1 = panic
++ * defaults to skip (0)
++ */
++static int action;
++module_param(action, int, 0);
++MODULE_PARM_DESC(action, "after watchdog gets WS0 interrupt, do: "
++		 "0 = skip(*)  1 = panic");
++
++static bool nowayout = WATCHDOG_NOWAYOUT;
++module_param(nowayout, bool, S_IRUGO);
++MODULE_PARM_DESC(nowayout,
++		 "Watchdog cannot be stopped once started (default="
++		 __MODULE_STRING(WATCHDOG_NOWAYOUT) ")");
++
++static inline u32 smc_readl(unsigned int addr)
++{
++	struct arm_smccc_res smc_res;
++
++	arm_smccc_smc(SMC_FID_READ_REG,  addr, 0,    0, 0, 0, 0, 0, &smc_res);
++	return (u32)smc_res.a0;
++}
++
++static inline void smc_writel(unsigned int val, unsigned int addr)
++{
++	struct arm_smccc_res smc_res;
++
++	arm_smccc_smc(SMC_FID_WRITE_REG, addr, val, 0, 0, 0, 0, 0, &smc_res);
++}
++
++/*
++ * watchdog operation functions
++ */
++static int sbsa_gwdt_set_timeout(struct watchdog_device *wdd,
++				 unsigned int timeout)
++{
++	struct sbsa_gwdt *gwdt = watchdog_get_drvdata(wdd);
++
++	wdd->timeout = timeout;
++
++	if (action)
++		smc_writel(gwdt->clk * timeout,
++		       gwdt->control_base + SBSA_GWDT_WOR);
++	else
++		/*
++		 * In the single stage mode, The first signal (WS0) is ignored,
++		 * the timeout is (WOR * 2), so the WOR should be configured
++		 * to half value of timeout.
++		 */
++		smc_writel(gwdt->clk / 2 * timeout,
++		       gwdt->control_base + SBSA_GWDT_WOR);
++
++	return 0;
++}
++
++static inline u64 lo_hi_smc_readq(unsigned int addr)
++{
++	u32 low, high;
++
++	low = smc_readl(addr);
++	high = smc_readl(addr + 1);
++
++	return low + ((u64)high << 32);
++}
++
++
++static unsigned int sbsa_gwdt_get_timeleft(struct watchdog_device *wdd)
++{
++	struct sbsa_gwdt *gwdt = watchdog_get_drvdata(wdd);
++	u64 timeleft = 0;
++
++	/*
++	 * In the single stage mode, if WS0 is deasserted
++	 * (watchdog is in the first stage),
++	 * timeleft = WOR + (WCV - system counter)
++	 */
++	if (!action &&
++	    !(smc_readl(gwdt->control_base + SBSA_GWDT_WCS) & SBSA_GWDT_WCS_WS0))
++		timeleft += smc_readl(gwdt->control_base + SBSA_GWDT_WOR);
++
++	timeleft += lo_hi_smc_readq(gwdt->control_base + SBSA_GWDT_WCV) -
++		    arch_counter_get_cntvct();
++
++	do_div(timeleft, gwdt->clk);
++
++	return timeleft;
++}
++
++static int sbsa_gwdt_keepalive(struct watchdog_device *wdd)
++{
++	struct sbsa_gwdt *gwdt = watchdog_get_drvdata(wdd);
++
++	/*
++	 * Writing WRR for an explicit watchdog refresh.
++	 * You can write anyting (like 0).
++	 */
++	smc_writel(0, gwdt->refresh_base + SBSA_GWDT_WRR);
++
++	return 0;
++}
++
++static int sbsa_gwdt_start(struct watchdog_device *wdd)
++{
++	struct sbsa_gwdt *gwdt = watchdog_get_drvdata(wdd);
++
++	/* writing WCS will cause an explicit watchdog refresh */
++	smc_writel(SBSA_GWDT_WCS_EN, gwdt->control_base + SBSA_GWDT_WCS);
++
++	return 0;
++}
++
++static int sbsa_gwdt_stop(struct watchdog_device *wdd)
++{
++	struct sbsa_gwdt *gwdt = watchdog_get_drvdata(wdd);
++
++	/* Simply write 0 to WCS to clean WCS_EN bit */
++	smc_writel(0, gwdt->control_base + SBSA_GWDT_WCS);
++
++	return 0;
++}
++
++static irqreturn_t sbsa_gwdt_interrupt(int irq, void *dev_id)
++{
++	panic(WATCHDOG_NAME " timeout");
++
++	return IRQ_HANDLED;
++}
++
++static const struct watchdog_info sbsa_gwdt_info = {
++	.identity	= WATCHDOG_NAME,
++	.options	= WDIOF_SETTIMEOUT |
++			  WDIOF_KEEPALIVEPING |
++			  WDIOF_MAGICCLOSE |
++			  WDIOF_CARDRESET,
++};
++
++static const struct watchdog_ops sbsa_gwdt_ops = {
++	.owner		= THIS_MODULE,
++	.start		= sbsa_gwdt_start,
++	.stop		= sbsa_gwdt_stop,
++	.ping		= sbsa_gwdt_keepalive,
++	.set_timeout	= sbsa_gwdt_set_timeout,
++	.get_timeleft	= sbsa_gwdt_get_timeleft,
++};
++
++static int sbsa_gwdt_probe(struct platform_device *pdev)
++{
++	u32 rf_base, cf_base;
++	struct device *dev = &pdev->dev;
++	struct watchdog_device *wdd;
++	struct sbsa_gwdt *gwdt;
++	struct resource *res;
++	int ret, irq;
++	u32 status;
++
++	gwdt = devm_kzalloc(dev, sizeof(*gwdt), GFP_KERNEL);
++	if (!gwdt)
++		return -ENOMEM;
++	platform_set_drvdata(pdev, gwdt);
++
++	res = platform_get_resource(pdev, IORESOURCE_MEM, 0);
++	if (IS_ERR(res))
++		return PTR_ERR(res);
++	cf_base = res->start;
++
++	res = platform_get_resource(pdev, IORESOURCE_MEM, 1);
++	if (IS_ERR(res))
++		return PTR_ERR(res);
++	rf_base = res->start;
++
++	/*
++	 * Get the frequency of system counter from the cp15 interface of ARM
++	 * Generic timer. We don't need to check it, because if it returns "0",
++	 * system would panic in very early stage.
++	 */
++	gwdt->clk = arch_timer_get_cntfrq();
++	gwdt->refresh_base = rf_base;
++	gwdt->control_base = cf_base;
++
++	wdd = &gwdt->wdd;
++	wdd->parent = dev;
++	wdd->info = &sbsa_gwdt_info;
++	wdd->ops = &sbsa_gwdt_ops;
++	wdd->min_timeout = 1;
++	wdd->max_hw_heartbeat_ms = U32_MAX / gwdt->clk * 1000;
++	wdd->timeout = DEFAULT_TIMEOUT;
++	watchdog_set_drvdata(wdd, gwdt);
++	watchdog_set_nowayout(wdd, nowayout);
++
++	status = smc_readl(cf_base + SBSA_GWDT_WCS);
++	if (status & SBSA_GWDT_WCS_WS1) {
++		dev_warn(dev, "System reset by WDT.\n");
++		wdd->bootstatus |= WDIOF_CARDRESET;
++	}
++	if (status & SBSA_GWDT_WCS_EN)
++		set_bit(WDOG_HW_RUNNING, &wdd->status);
++
++	if (action) {
++		irq = platform_get_irq(pdev, 0);
++		if (irq < 0) {
++			action = 0;
++			dev_warn(dev, "unable to get ws0 interrupt.\n");
++		} else {
++			/*
++			 * In case there is a pending ws0 interrupt, just ping
++			 * the watchdog before registering the interrupt routine
++			 */
++			smc_writel(0, rf_base + SBSA_GWDT_WRR);
++			if (devm_request_irq(dev, irq, sbsa_gwdt_interrupt, 0,
++					     pdev->name, gwdt)) {
++				action = 0;
++				dev_warn(dev, "unable to request IRQ %d.\n",
++					 irq);
++			}
++		}
++		if (!action)
++			dev_warn(dev, "falling back to single stage mode.\n");
++	}
++
++	/*
++	 * In the single stage mode, The first signal (WS0) is ignored,
++	 * the timeout is (WOR * 2), so the maximum timeout should be doubled.
++	 */
++	if (!action)
++		wdd->max_hw_heartbeat_ms *= 2;
++
++	watchdog_init_timeout(wdd, timeout, dev);
++	/*
++	 * Update timeout to WOR.
++	 * Because of the explicit watchdog refresh mechanism,
++	 * it's also a ping, if watchdog is enabled.
++	 */
++	sbsa_gwdt_set_timeout(wdd, wdd->timeout);
++
++	ret = watchdog_register_device(wdd);
++	if (ret)
++		return ret;
++
++	/* CPSS-14280: 	WD HW need to trigger reset on WS1.
++	   Enable GWD reset out */
++	smc_writel(0xFFFFFFBF, 0x80210030);
++
++	dev_info(dev, "Initialized with %ds timeout @ %u Hz, action=%d.%s\n",
++		 wdd->timeout, gwdt->clk, action,
++		 status & SBSA_GWDT_WCS_EN ? " [enabled]" : "");
++
++	return 0;
++}
++
++static void sbsa_gwdt_shutdown(struct platform_device *pdev)
++{
++	struct sbsa_gwdt *gwdt = platform_get_drvdata(pdev);
++
++	sbsa_gwdt_stop(&gwdt->wdd);
++}
++
++static int sbsa_gwdt_remove(struct platform_device *pdev)
++{
++	struct sbsa_gwdt *gwdt = platform_get_drvdata(pdev);
++
++	watchdog_unregister_device(&gwdt->wdd);
++
++	return 0;
++}
++
++/* Disable watchdog if it is active during suspend */
++static int __maybe_unused sbsa_gwdt_suspend(struct device *dev)
++{
++	struct sbsa_gwdt *gwdt = dev_get_drvdata(dev);
++
++	if (watchdog_active(&gwdt->wdd))
++		sbsa_gwdt_stop(&gwdt->wdd);
++
++	return 0;
++}
++
++/* Enable watchdog if necessary */
++static int __maybe_unused sbsa_gwdt_resume(struct device *dev)
++{
++	struct sbsa_gwdt *gwdt = dev_get_drvdata(dev);
++
++	if (watchdog_active(&gwdt->wdd))
++		sbsa_gwdt_start(&gwdt->wdd);
++
++	return 0;
++}
++
++static const struct dev_pm_ops sbsa_gwdt_pm_ops = {
++	SET_SYSTEM_SLEEP_PM_OPS(sbsa_gwdt_suspend, sbsa_gwdt_resume)
++};
++
++static const struct of_device_id sbsa_gwdt_of_match[] = {
++	{ .compatible = "marvell,ac5-wd", },
++	{},
++};
++MODULE_DEVICE_TABLE(of, sbsa_gwdt_of_match);
++
++static const struct platform_device_id sbsa_gwdt_pdev_match[] = {
++	{ .name = DRV_NAME, },
++	{},
++};
++MODULE_DEVICE_TABLE(platform, sbsa_gwdt_pdev_match);
++
++static struct platform_driver ac5_gwdt_driver = {
++	.driver = {
++		.name = DRV_NAME,
++		.pm = &sbsa_gwdt_pm_ops,
++		.of_match_table = sbsa_gwdt_of_match,
++	},
++	.probe = sbsa_gwdt_probe,
++	.remove = sbsa_gwdt_remove,
++	.shutdown = sbsa_gwdt_shutdown,
++	.id_table = sbsa_gwdt_pdev_match,
++};
++
++module_platform_driver(ac5_gwdt_driver);
++
++MODULE_DESCRIPTION("AC5 Watchdog Driver");
++MODULE_AUTHOR("Noam Liron <lnoam@marvell.com>");
++MODULE_AUTHOR("Fu Wei <fu.wei@linaro.org>");
++MODULE_AUTHOR("Suravee Suthikulpanit <Suravee.Suthikulpanit@amd.com>");
++MODULE_AUTHOR("Al Stone <al.stone@linaro.org>");
++MODULE_AUTHOR("Timur Tabi <timur@codeaurora.org>");
++MODULE_LICENSE("GPL v2");
++MODULE_ALIAS("platform:" DRV_NAME);
+-- 
+2.7.4
+
diff --git a/patch/series b/patch/series
index 86a22e5..0694145 100755
--- a/patch/series
+++ b/patch/series
@@ -119,3 +119,23 @@ net-sch_generic-fix-the-missing-new-qdisc-assignment.patch
 # Do not add any public patch below this marker
 #
 ############################################################
+0111-mtd-rawnand-marvell-document-a-bit-more-the-driver.patch
+0112-mtd-rawnand-marvell-rework-BCH-engine-failure-path.patch
+0113-mtd-rawnand-marvell-support-8b-512B-strength-for-2ki.patch
+0116-mtd-nand-marvell-add-support-for-2KB-8-bit-nand.patch
+0117-mtd-nand-marvell-Add-support-for-8KB-page-4-and-8-bi.patch
+0120-arm64-reduced-configs.patch
+0120-arm64-pcie-irq.patch
+0121-arm64-marvell-mvpp2.patch
+0122-backport-phy-modes.patch
+0122-ehci-controller-fixes.patch
+0122-phy-core-rework-phy_set_mode-to-accept-phy-mode-and-.patch
+0123-rd-ac5x-dts-support.patch
+0123-rd-ac5x-emmc-support.patch
+0123-rd-ac5x-gpio-pinctrl-support.patch
+0123-rd-ac5x-i2c-fixes.patch
+0123-rd-ac5x-pcie-changes.patch
+0124-rd-ac5x-mvneta-mvmdio-changes.patch
+0125-rd-ac5x-mvneta-xbar_window.patch
+0126-rd-ac5x-watchdog-support.patch
+
