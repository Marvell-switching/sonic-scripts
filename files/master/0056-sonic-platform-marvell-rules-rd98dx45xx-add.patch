From 1383b56b74bf7cb9e847f771e77e9c1e7e03ef5c Mon Sep 17 00:00:00 2001
From: Yan Markman <ymarkman@marvell.com>
Date: Mon, 6 Oct 2025 00:22:21 +0300
Subject: [PATCH 1/1] sonic-platform-marvell rules rd98dx45xx add

Signed-off-by: Yan Markman <ymarkman@marvell.com>
---
 debian/rules | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/debian/rules b/debian/rules
index a109709..fcf4dee 100755
--- a/debian/rules
+++ b/debian/rules
@@ -12,7 +12,7 @@ endif
 KERNEL_SRC :=  /lib/modules/$(KVERSION)
 INSTALL_MOD_DIR := kernel/extra/
 MOD_SRC_DIR:= $(shell pwd)
-MODULE_DIRS:= rd98dx35xx_cn9131 rd98dx35xx rd98dx35xx-x86 db98cx8580-32cd db98cx8514-10cc db98cx8540-16cd db98cx8522-10cc
+MODULE_DIRS:= rd98dx35xx_cn9131 rd98dx35xx rd98dx35xx-x86 db98cx8580-32cd db98cx8514-10cc db98cx8540-16cd db98cx8522-10cc rd98dx45xx_cn9131
 UTILS_DIR := utils
 SERVICE_DIR := service
 MRVL_MODULE_DIR:= mrvl-modules
@@ -51,6 +51,8 @@ override_dh_auto_build:
 		make clean; \
 		if [ $$mod = "rd98dx35xx_cn9131" ]; then \
 			make modules -C $(KERNEL_SRC)/build M=`pwd` CONFIG_KM_MVPCI=y CONFIG_KM_MVINT=y || exit 1; \
+		elif [ $$mod = "rd98dx45xx_cn9131" ]; then \
+			make modules -C $(KERNEL_SRC)/build M=`pwd` CONFIG_KM_MVPCI=y CONFIG_KM_MVINT=y || exit 1; \
         elif [ $$mod = "rd98dx35xx-x86" ];then \
 			make modules -C $(KERNEL_SRC)/build M=`pwd` CONFIG_KM_MVPCI=y CONFIG_KM_MVINT=y CONFIG_KM_MVDMA2=y|| exit 1; \
 		elif [ $$mod = "rd98dx35xx" ]; then \
@@ -81,6 +83,8 @@ override_dh_auto_install:
 	(set -e; for mod in $(MODULE_DIRS); do \
 		if [ $$mod = "rd98dx35xx_cn9131" ]; then \
 			pkg="rd98dx35xx-cn9131"; \
+		elif [ $$mod = "rd98dx45xx_cn9131" ]; then \
+			pkg="rd98dx45xx-cn9131"; \
 		else \
 			pkg=$$mod; \
 		fi; \
-- 
2.34.1

